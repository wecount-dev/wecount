var es=Object.defineProperty,ts=Object.defineProperties;var rs=Object.getOwnPropertyDescriptors;var lt=Object.getOwnPropertySymbols;var Or=Object.prototype.hasOwnProperty,Rr=Object.prototype.propertyIsEnumerable;var Ut=(t,e,r)=>e in t?es(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Y=(t,e)=>{for(var r in e||(e={}))Or.call(e,r)&&Ut(t,r,e[r]);if(lt)for(var r of lt(e))Rr.call(e,r)&&Ut(t,r,e[r]);return t},Ge=(t,e)=>ts(t,rs(e));var Dt=(t,e)=>{var r={};for(var n in t)Or.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&lt)for(var n of lt(t))e.indexOf(n)<0&&Rr.call(t,n)&&(r[n]=t[n]);return r};var T=(t,e,r)=>(Ut(t,typeof e!="symbol"?e+"":e,r),r),Ar=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var se=(t,e,r)=>(Ar(t,e,"read from private field"),r?r.call(t):e.get(t)),Lt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Cr=(t,e,r,n)=>(Ar(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);function te(){}function Ft(t,e){for(const r in e)t[r]=e[r];return t}function Pr(t){return t()}function kr(){return Object.create(null)}function Oe(t){t.forEach(Pr)}function Mt(t){return typeof t=="function"}function Re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ct;function Tu(t,e){return ct||(ct=document.createElement("a")),ct.href=e,t===ct.href}function ns(t){return Object.keys(t).length===0}function ht(t,...e){if(t==null)return te;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function ve(t){let e;return ht(t,r=>e=r)(),e}function ss(t,e,r){t.$$.on_destroy.push(ht(e,r))}function ft(t,e,r,n){if(t){const s=Ir(t,e,r,n);return t[0](s)}}function Ir(t,e,r,n){return t[1]&&n?Ft(r.ctx.slice(),t[1](n(e))):r.ctx}function dt(t,e,r,n){if(t[2]&&n){const s=t[2](n(r));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],o=Math.max(e.dirty.length,s.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function mt(t,e,r,n,s,i){if(s){const o=Ir(e,r,n,i);t.p(o,s)}}function pt(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function Ou(t){const e={};for(const r in t)r[0]!=="$"&&(e[r]=t[r]);return e}function Ru(t){return t==null?"":t}function Au(t,e,r){return t.set(r),e}function Nr(t){return t&&Mt(t.destroy)?t.destroy:te}function is(t,e){t.appendChild(e)}function Cu(t,e,r){const n=os(t);if(!n.getElementById(e)){const s=$t("style");s.id=e,s.textContent=r,as(n,s)}}function os(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function as(t,e){is(t.head||t,e)}function ie(t,e,r){t.insertBefore(e,r||null)}function re(t){t.parentNode.removeChild(t)}function Pu(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function $t(t){return document.createElement(t)}function jr(t){return document.createTextNode(t)}function us(){return jr(" ")}function Ae(){return jr("")}function ku(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function Iu(t){return function(e){return e.preventDefault(),t.call(this,e)}}function Nu(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function ju(t){return function(e){e.target===this&&t.call(this,e)}}function Uu(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function ls(t){return Array.from(t.childNodes)}function Du(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Lu(t,e){t.value=e==null?"":e}function cs(t,e,r,n){t.style.setProperty(e,r,n?"important":"")}function Fu(t,e,r){t.classList[r?"add":"remove"](e)}function hs(t,e,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,!1,e),n}let Be;function Ve(t){Be=t}function He(){if(!Be)throw new Error("Function called outside component initialization");return Be}function fs(t){He().$$.on_mount.push(t)}function ds(t){He().$$.on_destroy.push(t)}function Mu(){const t=He();return(e,r)=>{const n=t.$$.callbacks[e];if(n){const s=hs(e,r);n.slice().forEach(i=>{i.call(t,s)})}}}function Gt(t,e){He().$$.context.set(t,e)}function gt(t){return He().$$.context.get(t)}const qe=[],Ur=[],vt=[],Dr=[],Lr=Promise.resolve();let Bt=!1;function Fr(){Bt||(Bt=!0,Lr.then(Mr))}function $u(){return Fr(),Lr}function Vt(t){vt.push(t)}const Ht=new Set;let yt=0;function Mr(){const t=Be;do{for(;yt<qe.length;){const e=qe[yt];yt++,Ve(e),ms(e.$$)}for(Ve(null),qe.length=0,yt=0;Ur.length;)Ur.pop()();for(let e=0;e<vt.length;e+=1){const r=vt[e];Ht.has(r)||(Ht.add(r),r())}vt.length=0}while(qe.length);for(;Dr.length;)Dr.pop()();Bt=!1,Ht.clear(),Ve(t)}function ms(t){if(t.fragment!==null){t.update(),Oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Vt)}}const bt=new Set;let ye;function Ce(){ye={r:0,c:[],p:ye}}function Pe(){ye.r||Oe(ye.c),ye=ye.p}function L(t,e){t&&t.i&&(bt.delete(t),t.i(e))}function V(t,e,r,n){if(t&&t.o){if(bt.has(t))return;bt.add(t),ye.c.push(()=>{bt.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}}function Gu(t,e){V(t,1,1,()=>{e.delete(t.key)})}function Bu(t,e,r,n,s,i,o,a,c,l,u,h){let d=t.length,p=i.length,m=d;const y={};for(;m--;)y[t[m].key]=m;const _=[],x=new Map,S=new Map;for(m=p;m--;){const C=h(s,i,m),w=r(C);let N=o.get(w);N?n&&N.p(C,e):(N=l(w,C),N.c()),x.set(w,_[m]=N),w in y&&S.set(w,Math.abs(m-y[w]))}const O=new Set,I=new Set;function R(C){L(C,1),C.m(a,u),o.set(C.key,C),u=C.first,p--}for(;d&&p;){const C=_[p-1],w=t[d-1],N=C.key,B=w.key;C===w?(u=C.first,d--,p--):x.has(B)?!o.has(N)||O.has(N)?R(C):I.has(B)?d--:S.get(N)>S.get(B)?(I.add(N),R(C)):(O.add(B),d--):(c(w,o),d--)}for(;d--;){const C=t[d];x.has(C.key)||c(C,o)}for(;p;)R(_[p-1]);return _}function $r(t,e){const r={},n={},s={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const c in o)c in a||(n[c]=1);for(const c in a)s[c]||(r[c]=a[c],s[c]=1);t[i]=a}else for(const c in o)s[c]=1}for(const o in n)o in r||(r[o]=void 0);return r}function qt(t){return typeof t=="object"&&t!==null?t:{}}function be(t){t&&t.c()}function ae(t,e,r,n){const{fragment:s,on_mount:i,on_destroy:o,after_update:a}=t.$$;s&&s.m(e,r),n||Vt(()=>{const c=i.map(Pr).filter(Mt);o?o.push(...c):Oe(c),t.$$.on_mount=[]}),a.forEach(Vt)}function ue(t,e){const r=t.$$;r.fragment!==null&&(Oe(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function ps(t,e){t.$$.dirty[0]===-1&&(qe.push(t),Fr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ze(t,e,r,n,s,i,o,a=[-1]){const c=Be;Ve(t);const l=t.$$={fragment:null,ctx:null,props:i,update:te,not_equal:s,bound:kr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:kr(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(l.root);let u=!1;if(l.ctx=r?r(t,e.props||{},(h,d,...p)=>{const m=p.length?p[0]:d;return l.ctx&&s(l.ctx[h],l.ctx[h]=m)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](m),u&&ps(t,h)),d}):[],l.update(),u=!0,Oe(l.before_update),l.fragment=n?n(l.ctx):!1,e.target){if(e.hydrate){const h=ls(e.target);l.fragment&&l.fragment.l(h),h.forEach(re)}else l.fragment&&l.fragment.c();e.intro&&L(t.$$.fragment),ae(t,e.target,e.anchor,e.customElement),Mr()}Ve(c)}class We{$destroy(){ue(this,1),this.$destroy=te}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const s=n.indexOf(r);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!ns(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ke=[];function gs(t,e){return{subscribe:le(t,e).subscribe}}function le(t,e=te){let r;const n=new Set;function s(a){if(Re(t,a)&&(t=a,r)){const c=!ke.length;for(const l of n)l[1](),ke.push(l,t);if(c){for(let l=0;l<ke.length;l+=2)ke[l][0](ke[l+1]);ke.length=0}}}function i(a){s(a(t))}function o(a,c=te){const l=[a,c];return n.add(l),n.size===1&&(r=e(s)||te),a(t),()=>{n.delete(l),n.size===0&&(r(),r=null)}}return{set:s,update:i,subscribe:o}}function K(t,e,r){const n=!Array.isArray(t),s=n?[t]:t,i=e.length<2;return gs(r,o=>{let a=!1;const c=[];let l=0,u=te;const h=()=>{if(l)return;u();const p=e(n?c[0]:c,o);i?o(p):u=Mt(p)?p:te},d=s.map((p,m)=>ht(p,y=>{c[m]=y,l&=~(1<<m),a&&h()},()=>{l|=1<<m}));return a=!0,h(),function(){Oe(d),u()}})}var vs=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ys(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bs=function(e){return _s(e)&&!Es(e)};function _s(t){return!!t&&typeof t=="object"}function Es(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Ss(t)}var ws=typeof Symbol=="function"&&Symbol.for,xs=ws?Symbol.for("react.element"):60103;function Ss(t){return t.$$typeof===xs}function Ts(t){return Array.isArray(t)?[]:{}}function Xe(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ie(Ts(t),t,e):t}function Os(t,e,r){return t.concat(e).map(function(n){return Xe(n,r)})}function Rs(t,e){if(!e.customMerge)return Ie;var r=e.customMerge(t);return typeof r=="function"?r:Ie}function As(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function Gr(t){return Object.keys(t).concat(As(t))}function Br(t,e){try{return e in t}catch{return!1}}function Cs(t,e){return Br(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Ps(t,e,r){var n={};return r.isMergeableObject(t)&&Gr(t).forEach(function(s){n[s]=Xe(t[s],r)}),Gr(e).forEach(function(s){Cs(t,s)||(Br(t,s)&&r.isMergeableObject(e[s])?n[s]=Rs(s,r)(t[s],e[s],r):n[s]=Xe(e[s],r))}),n}function Ie(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||Os,r.isMergeableObject=r.isMergeableObject||bs,r.cloneUnlessOtherwiseSpecified=Xe;var n=Array.isArray(e),s=Array.isArray(t),i=n===s;return i?n?r.arrayMerge(t,e,r):Ps(t,e,r):Xe(e,r)}Ie.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return Ie(n,s,r)},{})};var ks=Ie,Is=ks;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zt=function(t,e){return zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},zt(t,e)};function _t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var j=function(){return j=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},j.apply(this,arguments)};function Wt(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var A;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(A||(A={}));var F;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(F||(F={}));var Ne;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(Ne||(Ne={}));function Vr(t){return t.type===F.literal}function Ns(t){return t.type===F.argument}function Hr(t){return t.type===F.number}function qr(t){return t.type===F.date}function zr(t){return t.type===F.time}function Wr(t){return t.type===F.select}function Xr(t){return t.type===F.plural}function js(t){return t.type===F.pound}function Jr(t){return t.type===F.tag}function Zr(t){return!!(t&&typeof t=="object"&&t.type===Ne.number)}function Xt(t){return!!(t&&typeof t=="object"&&t.type===Ne.dateTime)}var Qr=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Us=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function Ds(t){var e={};return t.replace(Us,function(r){var n=r.length;switch(r[0]){case"G":e.era=n===4?"long":n===5?"narrow":"short";break;case"y":e.year=n===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=n===4?"short":n===5?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][n-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][n-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][n-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][n-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][n-1];break;case"s":e.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var Ls=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function Fs(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(Ls).filter(function(d){return d.length>0}),r=[],n=0,s=e;n<s.length;n++){var i=s[n],o=i.split("/");if(o.length===0)throw new Error("Invalid number skeleton");for(var a=o[0],c=o.slice(1),l=0,u=c;l<u.length;l++){var h=u[l];if(h.length===0)throw new Error("Invalid number skeleton")}r.push({stem:a,options:c})}return r}function Ms(t){return t.replace(/^(.*?)-/,"")}var Yr=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Kr=/^(@+)?(\+|#+)?[rs]?$/g,$s=/(\*)(0+)|(#+)(0+)|(0+)/g,en=/^(0+)$/;function tn(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(Kr,function(r,n,s){return typeof s!="string"?(e.minimumSignificantDigits=n.length,e.maximumSignificantDigits=n.length):s==="+"?e.minimumSignificantDigits=n.length:n[0]==="#"?e.maximumSignificantDigits=n.length:(e.minimumSignificantDigits=n.length,e.maximumSignificantDigits=n.length+(typeof s=="string"?s.length:0)),""}),e}function rn(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Gs(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var r=t.slice(0,2);if(r==="+!"?(e.signDisplay="always",t=t.slice(2)):r==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!en.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function nn(t){var e={},r=rn(t);return r||e}function Bs(t){for(var e={},r=0,n=t;r<n.length;r++){var s=n[r];switch(s.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=s.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=Ms(s.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=j(j(j({},e),{notation:"scientific"}),s.options.reduce(function(c,l){return j(j({},c),nn(l))},{}));continue;case"engineering":e=j(j(j({},e),{notation:"engineering"}),s.options.reduce(function(c,l){return j(j({},c),nn(l))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(s.options[0]);continue;case"integer-width":if(s.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");s.options[0].replace($s,function(c,l,u,h,d,p){if(l)e.minimumIntegerDigits=u.length;else{if(h&&d)throw new Error("We currently do not support maximum integer digits");if(p)throw new Error("We currently do not support exact integer digits")}return""});continue}if(en.test(s.stem)){e.minimumIntegerDigits=s.stem.length;continue}if(Yr.test(s.stem)){if(s.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");s.stem.replace(Yr,function(c,l,u,h,d,p){return u==="*"?e.minimumFractionDigits=l.length:h&&h[0]==="#"?e.maximumFractionDigits=h.length:d&&p?(e.minimumFractionDigits=d.length,e.maximumFractionDigits=d.length+p.length):(e.minimumFractionDigits=l.length,e.maximumFractionDigits=l.length),""});var i=s.options[0];i==="w"?e=j(j({},e),{trailingZeroDisplay:"stripIfInteger"}):i&&(e=j(j({},e),tn(i)));continue}if(Kr.test(s.stem)){e=j(j({},e),tn(s.stem));continue}var o=rn(s.stem);o&&(e=j(j({},e),o));var a=Gs(s.stem);a&&(e=j(j({},e),a))}return e}var Jt,Vs=new RegExp("^".concat(Qr.source,"*")),Hs=new RegExp("".concat(Qr.source,"*$"));function P(t,e){return{start:t,end:e}}var qs=!!String.prototype.startsWith,zs=!!String.fromCodePoint,Ws=!!Object.fromEntries,Xs=!!String.prototype.codePointAt,Js=!!String.prototype.trimStart,Zs=!!String.prototype.trimEnd,Qs=!!Number.isSafeInteger,Ys=Qs?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},Zt=!0;try{var Ks=un("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Zt=((Jt=Ks.exec("a"))===null||Jt===void 0?void 0:Jt[0])==="a"}catch{Zt=!1}var sn=qs?function(e,r,n){return e.startsWith(r,n)}:function(e,r,n){return e.slice(n,n+r.length)===r},Qt=zs?String.fromCodePoint:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var n="",s=e.length,i=0,o;s>i;){if(o=e[i++],o>1114111)throw RangeError(o+" is not a valid code point");n+=o<65536?String.fromCharCode(o):String.fromCharCode(((o-=65536)>>10)+55296,o%1024+56320)}return n},on=Ws?Object.fromEntries:function(e){for(var r={},n=0,s=e;n<s.length;n++){var i=s[n],o=i[0],a=i[1];r[o]=a}return r},an=Xs?function(e,r){return e.codePointAt(r)}:function(e,r){var n=e.length;if(!(r<0||r>=n)){var s=e.charCodeAt(r),i;return s<55296||s>56319||r+1===n||(i=e.charCodeAt(r+1))<56320||i>57343?s:(s-55296<<10)+(i-56320)+65536}},ei=Js?function(e){return e.trimStart()}:function(e){return e.replace(Vs,"")},ti=Zs?function(e){return e.trimEnd()}:function(e){return e.replace(Hs,"")};function un(t,e){return new RegExp(t,e)}var Yt;if(Zt){var ln=un("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Yt=function(e,r){var n;ln.lastIndex=r;var s=ln.exec(e);return(n=s[1])!==null&&n!==void 0?n:""}}else Yt=function(e,r){for(var n=[];;){var s=an(e,r);if(s===void 0||cn(s)||ii(s))break;n.push(s),r+=s>=65536?2:1}return Qt.apply(void 0,n)};var ri=function(){function t(e,r){r===void 0&&(r={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!r.ignoreTag,this.requiresOtherClause=!!r.requiresOtherClause,this.shouldParseSkeletons=!!r.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,r,n){for(var s=[];!this.isEOF();){var i=this.char();if(i===123){var o=this.parseArgument(e,n);if(o.err)return o;s.push(o.val)}else{if(i===125&&e>0)break;if(i===35&&(r==="plural"||r==="selectordinal")){var a=this.clonePosition();this.bump(),s.push({type:F.pound,location:P(a,this.clonePosition())})}else if(i===60&&!this.ignoreTag&&this.peek()===47){if(n)break;return this.error(A.UNMATCHED_CLOSING_TAG,P(this.clonePosition(),this.clonePosition()))}else if(i===60&&!this.ignoreTag&&Kt(this.peek()||0)){var o=this.parseTag(e,r);if(o.err)return o;s.push(o.val)}else{var o=this.parseLiteral(e,r);if(o.err)return o;s.push(o.val)}}}return{val:s,err:null}},t.prototype.parseTag=function(e,r){var n=this.clonePosition();this.bump();var s=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:F.literal,value:"<".concat(s,"/>"),location:P(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,r,!0);if(i.err)return i;var o=i.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Kt(this.char()))return this.error(A.INVALID_TAG,P(a,this.clonePosition()));var c=this.clonePosition(),l=this.parseTagName();return s!==l?this.error(A.UNMATCHED_CLOSING_TAG,P(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:F.tag,value:s,children:o,location:P(n,this.clonePosition())},err:null}:this.error(A.INVALID_TAG,P(a,this.clonePosition())))}else return this.error(A.UNCLOSED_TAG,P(n,this.clonePosition()))}else return this.error(A.INVALID_TAG,P(n,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&si(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,r){for(var n=this.clonePosition(),s="";;){var i=this.tryParseQuote(r);if(i){s+=i;continue}var o=this.tryParseUnquoted(e,r);if(o){s+=o;continue}var a=this.tryParseLeftAngleBracket();if(a){s+=a;continue}break}var c=P(n,this.clonePosition());return{val:{type:F.literal,value:s,location:c},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!ni(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var r=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(n===39)if(this.peek()===39)r.push(39),this.bump();else{this.bump();break}else r.push(n);this.bump()}return Qt.apply(void 0,r)},t.prototype.tryParseUnquoted=function(e,r){if(this.isEOF())return null;var n=this.char();return n===60||n===123||n===35&&(r==="plural"||r==="selectordinal")||n===125&&e>0?null:(this.bump(),Qt(n))},t.prototype.parseArgument=function(e,r){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(A.EXPECT_ARGUMENT_CLOSING_BRACE,P(n,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(A.EMPTY_ARGUMENT,P(n,this.clonePosition()));var s=this.parseIdentifierIfPossible().value;if(!s)return this.error(A.MALFORMED_ARGUMENT,P(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(A.EXPECT_ARGUMENT_CLOSING_BRACE,P(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:F.argument,value:s,location:P(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(A.EXPECT_ARGUMENT_CLOSING_BRACE,P(n,this.clonePosition())):this.parseArgumentOptions(e,r,s,n);default:return this.error(A.MALFORMED_ARGUMENT,P(n,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),r=this.offset(),n=Yt(this.message,r),s=r+n.length;this.bumpTo(s);var i=this.clonePosition(),o=P(e,i);return{value:n,location:o}},t.prototype.parseArgumentOptions=function(e,r,n,s){var i,o=this.clonePosition(),a=this.parseIdentifierIfPossible().value,c=this.clonePosition();switch(a){case"":return this.error(A.EXPECT_ARGUMENT_TYPE,P(o,c));case"number":case"date":case"time":{this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var u=this.clonePosition(),h=this.parseSimpleArgStyleIfPossible();if(h.err)return h;var d=ti(h.val);if(d.length===0)return this.error(A.EXPECT_ARGUMENT_STYLE,P(this.clonePosition(),this.clonePosition()));var p=P(u,this.clonePosition());l={style:d,styleLocation:p}}var m=this.tryParseArgumentClose(s);if(m.err)return m;var y=P(s,this.clonePosition());if(l&&sn(l==null?void 0:l.style,"::",0)){var _=ei(l.style.slice(2));if(a==="number"){var h=this.parseNumberSkeletonFromString(_,l.styleLocation);return h.err?h:{val:{type:F.number,value:n,location:y,style:h.val},err:null}}else{if(_.length===0)return this.error(A.EXPECT_DATE_TIME_SKELETON,y);var d={type:Ne.dateTime,pattern:_,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?Ds(_):{}},x=a==="date"?F.date:F.time;return{val:{type:x,value:n,location:y,style:d},err:null}}}return{val:{type:a==="number"?F.number:a==="date"?F.date:F.time,value:n,location:y,style:(i=l==null?void 0:l.style)!==null&&i!==void 0?i:null},err:null}}case"plural":case"selectordinal":case"select":{var S=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(A.EXPECT_SELECT_ARGUMENT_OPTIONS,P(S,j({},S)));this.bumpSpace();var O=this.parseIdentifierIfPossible(),I=0;if(a!=="select"&&O.value==="offset"){if(!this.bumpIf(":"))return this.error(A.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,P(this.clonePosition(),this.clonePosition()));this.bumpSpace();var h=this.tryParseDecimalInteger(A.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,A.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(h.err)return h;this.bumpSpace(),O=this.parseIdentifierIfPossible(),I=h.val}var R=this.tryParsePluralOrSelectOptions(e,a,r,O);if(R.err)return R;var m=this.tryParseArgumentClose(s);if(m.err)return m;var C=P(s,this.clonePosition());return a==="select"?{val:{type:F.select,value:n,options:on(R.val),location:C},err:null}:{val:{type:F.plural,value:n,options:on(R.val),offset:I,pluralType:a==="plural"?"cardinal":"ordinal",location:C},err:null}}default:return this.error(A.INVALID_ARGUMENT_TYPE,P(o,c))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(A.EXPECT_ARGUMENT_CLOSING_BRACE,P(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,r=this.clonePosition();!this.isEOF();){var n=this.char();switch(n){case 39:{this.bump();var s=this.clonePosition();if(!this.bumpUntil("'"))return this.error(A.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,P(s,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(r.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(r.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,r){var n=[];try{n=Fs(e)}catch{return this.error(A.INVALID_NUMBER_SKELETON,r)}return{val:{type:Ne.number,tokens:n,location:r,parsedOptions:this.shouldParseSkeletons?Bs(n):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,r,n,s){for(var i,o=!1,a=[],c=new Set,l=s.value,u=s.location;;){if(l.length===0){var h=this.clonePosition();if(r!=="select"&&this.bumpIf("=")){var d=this.tryParseDecimalInteger(A.EXPECT_PLURAL_ARGUMENT_SELECTOR,A.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;u=P(h,this.clonePosition()),l=this.message.slice(h.offset,this.offset())}else break}if(c.has(l))return this.error(r==="select"?A.DUPLICATE_SELECT_ARGUMENT_SELECTOR:A.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);l==="other"&&(o=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error(r==="select"?A.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:A.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,P(this.clonePosition(),this.clonePosition()));var m=this.parseMessage(e+1,r,n);if(m.err)return m;var y=this.tryParseArgumentClose(p);if(y.err)return y;a.push([l,{value:m.val,location:P(p,this.clonePosition())}]),c.add(l),this.bumpSpace(),i=this.parseIdentifierIfPossible(),l=i.value,u=i.location}return a.length===0?this.error(r==="select"?A.EXPECT_SELECT_ARGUMENT_SELECTOR:A.EXPECT_PLURAL_ARGUMENT_SELECTOR,P(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(A.MISSING_OTHER_CLAUSE,P(this.clonePosition(),this.clonePosition())):{val:a,err:null}},t.prototype.tryParseDecimalInteger=function(e,r){var n=1,s=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,o=0;!this.isEOF();){var a=this.char();if(a>=48&&a<=57)i=!0,o=o*10+(a-48),this.bump();else break}var c=P(s,this.clonePosition());return i?(o*=n,Ys(o)?{val:o,err:null}:this.error(r,c)):this.error(e,c)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var r=an(this.message,e);if(r===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return r},t.prototype.error=function(e,r){return{val:null,err:{kind:e,message:this.message,location:r}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(sn(this.message,e,this.offset())){for(var r=0;r<e.length;r++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var r=this.offset(),n=this.message.indexOf(e,r);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var r=this.offset();if(r===e)break;if(r>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&cn(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),r=this.offset(),n=this.message.charCodeAt(r+(e>=65536?2:1));return n!=null?n:null},t}();function Kt(t){return t>=97&&t<=122||t>=65&&t<=90}function ni(t){return Kt(t)||t===47}function si(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function cn(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function ii(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function er(t){t.forEach(function(e){if(delete e.location,Wr(e)||Xr(e))for(var r in e.options)delete e.options[r].location,er(e.options[r].value);else Hr(e)&&Zr(e.style)||(qr(e)||zr(e))&&Xt(e.style)?delete e.style.location:Jr(e)&&er(e.children)})}function oi(t,e){e===void 0&&(e={}),e=j({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var r=new ri(t,e).parse();if(r.err){var n=SyntaxError(A[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return(e==null?void 0:e.captureLocation)||er(r.val),r.val}function tr(t,e){var r=e&&e.cache?e.cache:fi,n=e&&e.serializer?e.serializer:hi,s=e&&e.strategy?e.strategy:ui;return s(t,{cache:r,serializer:n})}function ai(t){return t==null||typeof t=="number"||typeof t=="boolean"}function hn(t,e,r,n){var s=ai(n)?n:r(n),i=e.get(s);return typeof i=="undefined"&&(i=t.call(this,n),e.set(s,i)),i}function fn(t,e,r){var n=Array.prototype.slice.call(arguments,3),s=r(n),i=e.get(s);return typeof i=="undefined"&&(i=t.apply(this,n),e.set(s,i)),i}function rr(t,e,r,n,s){return r.bind(e,t,n,s)}function ui(t,e){var r=t.length===1?hn:fn;return rr(t,this,r,e.cache.create(),e.serializer)}function li(t,e){return rr(t,this,fn,e.cache.create(),e.serializer)}function ci(t,e){return rr(t,this,hn,e.cache.create(),e.serializer)}var hi=function(){return JSON.stringify(arguments)};function nr(){this.cache=Object.create(null)}nr.prototype.get=function(t){return this.cache[t]};nr.prototype.set=function(t,e){this.cache[t]=e};var fi={create:function(){return new nr}},sr={variadic:li,monadic:ci},je;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(je||(je={}));var Et=function(t){_t(e,t);function e(r,n,s){var i=t.call(this,r)||this;return i.code=n,i.originalMessage=s,i}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),dn=function(t){_t(e,t);function e(r,n,s,i){return t.call(this,'Invalid values for "'.concat(r,'": "').concat(n,'". Options are "').concat(Object.keys(s).join('", "'),'"'),je.INVALID_VALUE,i)||this}return e}(Et),di=function(t){_t(e,t);function e(r,n,s){return t.call(this,'Value for "'.concat(r,'" must be of type ').concat(n),je.INVALID_VALUE,s)||this}return e}(Et),mi=function(t){_t(e,t);function e(r,n){return t.call(this,'The intl string context variable "'.concat(r,'" was not provided to the string "').concat(n,'"'),je.MISSING_VALUE,n)||this}return e}(Et),q;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(q||(q={}));function pi(t){return t.length<2?t:t.reduce(function(e,r){var n=e[e.length-1];return!n||n.type!==q.literal||r.type!==q.literal?e.push(r):n.value+=r.value,e},[])}function gi(t){return typeof t=="function"}function wt(t,e,r,n,s,i,o){if(t.length===1&&Vr(t[0]))return[{type:q.literal,value:t[0].value}];for(var a=[],c=0,l=t;c<l.length;c++){var u=l[c];if(Vr(u)){a.push({type:q.literal,value:u.value});continue}if(js(u)){typeof i=="number"&&a.push({type:q.literal,value:r.getNumberFormat(e).format(i)});continue}var h=u.value;if(!(s&&h in s))throw new mi(h,o);var d=s[h];if(Ns(u)){(!d||typeof d=="string"||typeof d=="number")&&(d=typeof d=="string"||typeof d=="number"?String(d):""),a.push({type:typeof d=="string"?q.literal:q.object,value:d});continue}if(qr(u)){var p=typeof u.style=="string"?n.date[u.style]:Xt(u.style)?u.style.parsedOptions:void 0;a.push({type:q.literal,value:r.getDateTimeFormat(e,p).format(d)});continue}if(zr(u)){var p=typeof u.style=="string"?n.time[u.style]:Xt(u.style)?u.style.parsedOptions:void 0;a.push({type:q.literal,value:r.getDateTimeFormat(e,p).format(d)});continue}if(Hr(u)){var p=typeof u.style=="string"?n.number[u.style]:Zr(u.style)?u.style.parsedOptions:void 0;p&&p.scale&&(d=d*(p.scale||1)),a.push({type:q.literal,value:r.getNumberFormat(e,p).format(d)});continue}if(Jr(u)){var m=u.children,y=u.value,_=s[y];if(!gi(_))throw new di(y,"function",o);var x=wt(m,e,r,n,s,i),S=_(x.map(function(R){return R.value}));Array.isArray(S)||(S=[S]),a.push.apply(a,S.map(function(R){return{type:typeof R=="string"?q.literal:q.object,value:R}}))}if(Wr(u)){var O=u.options[d]||u.options.other;if(!O)throw new dn(u.value,d,Object.keys(u.options),o);a.push.apply(a,wt(O.value,e,r,n,s));continue}if(Xr(u)){var O=u.options["=".concat(d)];if(!O){if(!Intl.PluralRules)throw new Et(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,je.MISSING_INTL_API,o);var I=r.getPluralRules(e,{type:u.pluralType}).select(d-(u.offset||0));O=u.options[I]||u.options.other}if(!O)throw new dn(u.value,d,Object.keys(u.options),o);a.push.apply(a,wt(O.value,e,r,n,s,d-(u.offset||0)));continue}}return pi(a)}function vi(t,e){return e?j(j(j({},t||{}),e||{}),Object.keys(t).reduce(function(r,n){return r[n]=j(j({},t[n]),e[n]||{}),r},{})):t}function yi(t,e){return e?Object.keys(t).reduce(function(r,n){return r[n]=vi(t[n],e[n]),r},j({},t)):t}function ir(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,r){t[e]=r}}}}}function bi(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:tr(function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Wt([void 0],r,!1)))},{cache:ir(t.number),strategy:sr.variadic}),getDateTimeFormat:tr(function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Wt([void 0],r,!1)))},{cache:ir(t.dateTime),strategy:sr.variadic}),getPluralRules:tr(function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Wt([void 0],r,!1)))},{cache:ir(t.pluralRules),strategy:sr.variadic})}}var _i=function(){function t(e,r,n,s){var i=this;if(r===void 0&&(r=t.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(o){var a=i.formatToParts(o);if(a.length===1)return a[0].value;var c=a.reduce(function(l,u){return!l.length||u.type!==q.literal||typeof l[l.length-1]!="string"?l.push(u.value):l[l.length-1]+=u.value,l},[]);return c.length<=1?c[0]||"":c},this.formatToParts=function(o){return wt(i.ast,i.locales,i.formatters,i.formats,o,void 0,i.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(i.locales)[0]}},this.getAst=function(){return i.ast},typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=t.__parse(e,{ignoreTag:s==null?void 0:s.ignoreTag})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=yi(t.formats,n),this.locales=r,this.formatters=s&&s.formatters||bi(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.__parse=oi,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),Ei=_i;const ce={},wi=(t,e,r)=>r&&(e in ce||(ce[e]={}),t in ce[e]||(ce[e][t]=r),r),mn=(t,e)=>{if(e==null)return;if(e in ce&&t in ce[e])return ce[e][t];const r=Ye(e);for(let n=0;n<r.length;n++){const s=xi(r[n],t);if(s)return wi(t,e,s)}};let or;const Je=le({});function pn(t){return t in or}function xi(t,e){return pn(t)?function(r,n){if(n==null)return;if(n in r)return r[n];const s=n.split(".");let i=r;for(let o=0;o<s.length;o++)if(typeof i=="object"){if(o>0){const a=s.slice(o,s.length).join(".");if(a in i){i=i[a];break}}i=i[s[o]]}else i=void 0;return i}(function(r){return or[r]||null}(t),e):null}function Si(t,...e){delete ce[t],Je.update(r=>(r[t]=Is.all([r[t]||{},...e]),r))}K([Je],([t])=>Object.keys(t));Je.subscribe(t=>or=t);const xt={};function gn(t){return xt[t]}function St(t){return t!=null&&Ye(t).some(e=>{var r;return(r=gn(e))===null||r===void 0?void 0:r.size})}function Ti(t,e){return Promise.all(e.map(r=>(function(n,s){xt[n].delete(s),xt[n].size===0&&delete xt[n]}(t,r),r().then(n=>n.default||n)))).then(r=>Si(t,...r))}const Ze={};function vn(t){if(!St(t))return t in Ze?Ze[t]:Promise.resolve();const e=function(r){return Ye(r).map(n=>{const s=gn(n);return[n,s?[...s]:[]]}).filter(([,n])=>n.length>0)}(t);return Ze[t]=Promise.all(e.map(([r,n])=>Ti(r,n))).then(()=>{if(St(t))return vn(t);delete Ze[t]}),Ze[t]}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function _e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]])}return r}const Qe={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,ignoreTag:!0};function Ue(){return Qe}function Vu(t){const{formats:e}=t,r=_e(t,["formats"]),n=t.initialLocale||t.fallbackLocale;return Object.assign(Qe,r,{initialLocale:n}),e&&("number"in e&&Object.assign(Qe.formats.number,e.number),"date"in e&&Object.assign(Qe.formats.date,e.date),"time"in e&&Object.assign(Qe.formats.time,e.time)),De.set(n)}const ar=le(!1);let ur;const Tt=le(null);function yn(t){return t.split("-").map((e,r,n)=>n.slice(0,r+1).join("-")).reverse()}function Ye(t,e=Ue().fallbackLocale){const r=yn(t);return e?[...new Set([...r,...yn(e)])]:r}function he(){return ur!=null?ur:void 0}Tt.subscribe(t=>{ur=t!=null?t:void 0,typeof window!="undefined"&&t!=null&&document.documentElement.setAttribute("lang",t)});const De=Object.assign(Object.assign({},Tt),{set:t=>{if(t&&function(e){if(e==null)return;const r=Ye(e);for(let n=0;n<r.length;n++){const s=r[n];if(pn(s))return s}}(t)&&St(t)){const{loadingDelay:e}=Ue();let r;return typeof window!="undefined"&&he()!=null&&e?r=window.setTimeout(()=>ar.set(!0),e):ar.set(!0),vn(t).then(()=>{Tt.set(t)}).finally(()=>{clearTimeout(r),ar.set(!1)})}return Tt.set(t)}}),Hu=()=>typeof window=="undefined"?null:window.navigator.language||window.navigator.languages[0],Ot=t=>{const e=Object.create(null);return r=>{const n=JSON.stringify(r);return n in e?e[n]:e[n]=t(r)}},Ke=(t,e)=>{const{formats:r}=Ue();if(t in r&&e in r[t])return r[t][e];throw new Error(`[svelte-i18n] Unknown "${e}" ${t} format.`)},Oi=Ot(t=>{var{locale:e,format:r}=t,n=_e(t,["locale","format"]);if(e==null)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return r&&(n=Ke("number",r)),new Intl.NumberFormat(e,n)}),Ri=Ot(t=>{var{locale:e,format:r}=t,n=_e(t,["locale","format"]);if(e==null)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return r?n=Ke("date",r):Object.keys(n).length===0&&(n=Ke("date","short")),new Intl.DateTimeFormat(e,n)}),Ai=Ot(t=>{var{locale:e,format:r}=t,n=_e(t,["locale","format"]);if(e==null)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return r?n=Ke("time",r):Object.keys(n).length===0&&(n=Ke("time","short")),new Intl.DateTimeFormat(e,n)}),Ci=(t={})=>{var{locale:e=he()}=t,r=_e(t,["locale"]);return Oi(Object.assign({locale:e},r))},Pi=(t={})=>{var{locale:e=he()}=t,r=_e(t,["locale"]);return Ri(Object.assign({locale:e},r))},ki=(t={})=>{var{locale:e=he()}=t,r=_e(t,["locale"]);return Ai(Object.assign({locale:e},r))},Ii=Ot((t,e=he())=>new Ei(t,e,Ue().formats,{ignoreTag:Ue().ignoreTag})),Ni=(t,e={})=>{let r=e;typeof t=="object"&&(r=t,t=r.id);const{values:n,locale:s=he(),default:i}=r;if(s==null)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let o=mn(t,s);if(o){if(typeof o!="string")return console.warn(`[svelte-i18n] Message with id "${t}" must be of type "string", found: "${typeof o}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),o}else Ue().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${t}" was not found in "${Ye(s).join('", "')}".${St(he())?`

Note: there are at least one loader still registered to this locale that wasn't executed.`:""}`),o=i!=null?i:t;if(!n)return o;let a=o;try{a=Ii(o,s).format(n)}catch(c){console.warn(`[svelte-i18n] Message "${t}" has syntax error:`,c.message)}return a},ji=(t,e)=>ki(e).format(t),Ui=(t,e)=>Pi(e).format(t),Di=(t,e)=>Ci(e).format(t),Li=(t,e=he())=>mn(t,e),qu=K([De,Je],()=>Ni);K([De],()=>ji);K([De],()=>Ui);K([De],()=>Di);K([De,Je],()=>Li);const Fi=t=>t.name.match(/\[\.\.\.(.+)\]/)?1:-1,Mi=t=>{var e;for(const r of[...t].reverse())for(const n of((e=r.node.parent)==null?void 0:e.children)||[])if(n.name.match(/\[\.\.\.(.+)\]/))return n},$i=t=>t.replace(/[?#].+/,"").replace(/\/$/,"").split("/").slice(1),Gi=(t,e)=>t.findIndex(r=>r.node===e),Bi=t=>Object.entries(t).reduce((e,[r,n])=>Ge(Y({},e),{[r]:decodeURI(n)}),{});class Rt{constructor(e,r,n){T(this,"_params",{});this.route=e,this.node=r,this.load=void 0,this.urlFragment=n,Object.defineProperty(this,"route",{enumerable:!1})}get params(){return this._params}setParams(e){this._params=Bi(e)}getParamsFromFragment(){const{getFieldsFromName:e,getValuesFromPath:r,mapFieldsWithValues:n}=this.route.router.instance.utils;return n(e(this.node.name),r(this.node.regex,this.urlFragment))}}const Vi=["pushState","replaceState","popState"];class Hi{constructor(e,r,n){T(this,"allFragments",[]);T(this,"loaded");T(this,"load",{status:200,error:null,maxage:null,props:{},redirect:null});if(this.router=e,this.url=r,this.mode=n,!e.rootNode){this.router.log.error("Can't navigate without a rootNode");const s=new Error("Can't navigate without a rootNode");throw Object.assign(s,{routify:{router:e}}),s}if(!Vi.includes(n))throw new Error("url.mode must be pushState, replaceState or popState");this.allFragments=this._createFragments()}get fragments(){const e=this.allFragments.filter(r=>r.node.module);return this.router.transformFragments.run(e)}get params(){const e=this.url.match(/\?.+/),r=e&&e[0]||"";return Object.assign({},...this.allFragments.map(n=>n.params),this.router.queryHandler.parse(r,this))}async loadRoute(){const{router:e}=this,r=[this.runBeforeUrlChangeHooks,this.loadComponents,this.runGuards,this.runPreloads];return this.loaded=new Promise(async(n,s)=>{for(const o of r){const a=await o.bind(this)(),c=this!==e.pendingRoute.get();if(e.pendingRoute.get()){if(c){e.pendingRoute.get().loaded.then(n).catch(s);return}else if(!a){e.pendingRoute.set(null);return}}else{n({route:e.activeRoute.get()});return}}const i=this.router.activeRoute.get();i&&e.history.push(i),e.activeRoute.set(this),e.afterUrlChange.run({route:this,history:[...e.history].reverse()}),e.pendingRoute.set(null),n({route:this})}),this.loaded}async loadComponents(){return await Promise.all(this.fragments.map(async e=>{const r=await e.node.module();e.node.module=()=>r})),!0}async runPreloads(){var r;const e={route:this,node:[...this.fragments].pop().node};for(const n of this.fragments)if(((r=n.node.module())==null?void 0:r.load)&&(n.load=await n.node.module().load(e),Object.assign(this.load,n.load),this.load.redirect))return this.router.url.replace(this.load.redirect);return this}async runGuards(){const e=this.fragments.map(r=>r.node.module()).filter(r=>r==null?void 0:r.guard);for(const r of e)if(console.warn('"guard" will be deprecated. Please use "load.redirect" instead.'),!await r.guard(this))return!1;return!0}async runBeforeUrlChangeHooks(){return await this.router.beforeUrlChange.run({route:this})}_createFragments(){const{url:e="",router:r}=this,{rootNode:n}=r;let s=[],i=n;const o=(u,h,d)=>{const p=new Rt(this,u,h),m=u.name.match(/\[\.\.\.(.+)\]/);return m?d.push(h):d=[],m?p.setParams({[m[1]]:d}):p.setParams(p.getParamsFromFragment()),p},a=$i(e),c=[new Rt(this,i,"")];for(let u=0;u<a.length;u++){const h=a[u],d=i.children.filter(m=>!m.name.startsWith("_")),p=d.find(m=>m.name===h)||d.sort(Fi).find(m=>m.regex.test(h));if(p)c.push(o(p,h,s)),i=p;else if(s.length)s.push(h);else{const m=Mi(c);if(m){const y=Gi(c,m),_=c.splice(y);u=u-_.length,c.push(o(m,a[u],s)),i=m}else{const y=i._fallback;if(!y)throw new Error(`router: "${r.name||"[default]"}" could not find route: ${e}`);c.splice(y.level),c.push(new Rt(this,y,""));break}}}let l=c[c.length-1].node;for(;l;)l=l.children.find(u=>u.name==="index"),l&&c.push(new Rt(this,l,""));if(!c.filter(({node:u})=>u.module).length)throw new Error(`could not find route: ${e}`);return c}}const qi=t=>{const e=t.target.closest("a"),r=e&&e.href;if(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button||t.key&&t.key!=="Enter"||t.defaultPrevented||!r||e.target||e.host!==location.host)return;const n=new URL(r),s=n.pathname+n.search+n.hash;return t.preventDefault(),s},zi=(t,e={},r)=>(Object.entries(e).forEach(([n,s])=>{t.includes(`[${n}]`)&&(t=t.replace(`[${n}]`,s),delete e[n])}),t+r(e)),Wi=t=>[...t].reduce((e,[r,n])=>(e[r]=n,e),{}),Xi=(t,e,r)=>{const n={};Object.entries(e).forEach(([i,o])=>{const a=new RegExp(`\\[${i}\\]|\\:${i}`);t.match(a)?t=t.replace(`[${i}]`,encodeURI(o)):n[i]=o});const s=r.router.queryHandler.stringify(n,r);return t+s},Ji=()=>(({pathname:t,search:e,hash:r})=>t+e+r)(window.location),Le={get router(){return gt("routify-fragment-context").route.router},get fragment(){return gt("routify-fragment-context")}},Zi=t=>{try{return gt(t)}catch{}},bn=(t,e)=>{const r=le(t,e);return Object.assign(r,{get:()=>ve(r)})},Qi=(...t)=>t.map(e=>JSON.stringify([e==null?void 0:e.allFragments,e==null?void 0:e.url])).reduce((e,r)=>e===r&&r);class _n{constructor(e){this.router=e,this.log=this.router.log}install(){}uninstall(){}reflect(){}}const Yi=t=>{const e=(t==null?void 0:t.delimiter)||";";return{toRouter:(r,n)=>{const s=n.name?`${n.name}=(.+?)`:"(.+?)",i=new RegExp(`(^|${e})${s}(${e}|$)`),o=r.match(i);return o?o[2]:"/"},toBrowser:r=>r.map(n=>(n.name?`${n.name}=`:"")+n.url.external()).join(e)}};class Ki{constructor(){T(this,"instances",[]);T(this,"browserAdapter",Yi());T(this,"urlFromBrowser",e=>this.browserAdapter.toRouter(Ji(),e));typeof window!="undefined"&&(window.__routify=this)}get routers(){return[].concat(...this.instances.map(e=>e.routers))}register(e){return this.instances.push(e),this}}const lr=new Ki,eo=/\[(.+?)\]/gm;class to{constructor(e=eo){T(this,"getFieldsFromName",e=>[...e.matchAll(this.RE)].map(r=>r[1]));T(this,"getRegexFromName",e=>new RegExp("^"+e.replace(this.RE,"(.+)")+"$"));T(this,"getValuesFromPath",(e,r)=>(r.match(e)||[]).slice(1));T(this,"mapFieldsWithValues",(e,r)=>this.haveEqualLength(e,r)&&e.reduce((n,s,i)=>(n[s]=r[i],n),{}));T(this,"haveEqualLength",(e,r)=>{if(e.length!==r.length)throw new Error(`fields and values should be of same length
fields: ${JSON.stringify(e)}
values: ${JSON.stringify(r)}`);return!0});this.RE=e}}class En{constructor(e,r,n){T(this,"instance");T(this,"parent");T(this,"meta",{});T(this,"id");this.instance=n,this.name=e,n.nodeIndex.push(this),this.module=r,Object.defineProperty(this,"Instance",{enumerable:!1}),Object.defineProperty(this,"instance",{enumerable:!1}),Object.defineProperty(this,"parent",{enumerable:!1})}appendChild(e){e.parent=this}createChild(e,r){const n=this.instance.createNode(e,r);return this.appendChild(n),n}get descendants(){return this.instance.nodeIndex.filter(e=>e.ancestors.find(r=>r===this))}remove(){const{nodeIndex:e}=this.instance,r=e.findIndex(n=>n===this);e.splice(r,1)}get ancestors(){let e=this;const r=[];for(;e=e.parent;)r.push(e);return r}get root(){let e=this;for(;e.parent;)e=e.parent;return e}get isRoot(){return this===this.root}get children(){return this.instance.nodeIndex.filter(e=>e.parent===this)}get level(){var e;return(((e=this.parent)==null?void 0:e.level)||0)+1}traverse(e){const r=e.startsWith("/")?this.root:this,n=e.split("/").filter(s=>s!==".").filter(Boolean);try{return n.reduce((i,o)=>o===".."?i.parent:i.children.find(a=>a.name===o),r)}catch(s){console.error("can't resolve path",e,"from",this.path,`
`,s)}}toJSON(){return Ge(Y({},this),{children:[...this.children]})}get path(){return"/"+[this,...this.ancestors].reverse().map(e=>e.name).filter(Boolean).join("/")}}function ro(t){let e;const r=t[4].default,n=ft(r,t,t[5],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&32)&&mt(n,r,s,s[5],e?dt(r,s[5],i,null):pt(s[5]),null)},i(s){e||(L(n,s),e=!0)},o(s){V(n,s),e=!1},d(s){n&&n.d(s)}}}function no(t){let e,r,n=t[2]&&wn(t);return{c(){n&&n.c(),e=Ae()},m(s,i){n&&n.m(s,i),ie(s,e,i),r=!0},p(s,i){s[2]?n?(n.p(s,i),i&4&&L(n,1)):(n=wn(s),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(Ce(),V(n,1,1,()=>{n=null}),Pe())},i(s){r||(L(n),r=!0)},o(s){V(n),r=!1},d(s){n&&n.d(s),s&&re(e)}}}function wn(t){let e,r;const n=[t[1],{context:t[3]}];let s={$$slots:{default:[so]},$$scope:{ctx:t}};for(let i=0;i<n.length;i+=1)s=Ft(s,n[i]);return e=new t[2]({props:s}),{c(){be(e.$$.fragment)},m(i,o){ae(e,i,o),r=!0},p(i,o){const a=o&10?$r(n,[o&2&&qt(i[1]),o&8&&{context:i[3]}]):{};o&32&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){r||(L(e.$$.fragment,i),r=!0)},o(i){V(e.$$.fragment,i),r=!1},d(i){ue(e,i)}}}function so(t){let e;const r=t[4].default,n=ft(r,t,t[5],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,i){n&&n.p&&(!e||i&32)&&mt(n,r,s,s[5],e?dt(r,s[5],i,null):pt(s[5]),null)},i(s){e||(L(n,s),e=!0)},o(s){V(n,s),e=!1},d(s){n&&n.d(s)}}}function io(t){let e,r,n,s;const i=[no,ro],o=[];function a(c,l){return c[0].module?0:1}return e=a(t),r=o[e]=i[e](t),{c(){r.c(),n=Ae()},m(c,l){o[e].m(c,l),ie(c,n,l),s=!0},p(c,[l]){let u=e;e=a(c),e===u?o[e].p(c,l):(Ce(),V(o[u],1,1,()=>{o[u]=null}),Pe(),r=o[e],r?r.p(c,l):(r=o[e]=i[e](c),r.c()),L(r,1),r.m(n.parentNode,n))},i(c){s||(L(r),s=!0)},o(c){V(r),s=!1},d(c){o[e].d(c),c&&re(n)}}}const xn="routify-fragment-context";function oo(t,e,r){let{$$slots:n={},$$scope:s}=e,{node:i}=e,{passthrough:o}=e;const a=Ge(Y({},gt(xn)),{node:i});Gt(xn,a);let c;return i.module&&i.getRawComponent().then(l=>r(2,c=l)),t.$$set=l=>{"node"in l&&r(0,i=l.node),"passthrough"in l&&r(1,o=l.passthrough),"$$scope"in l&&r(5,s=l.$$scope)},[i,o,c,a,n,s]}class ao extends We{constructor(e){super();ze(this,e,oo,io,Re,{node:0,passthrough:1})}}var Se;class uo extends En{constructor(){super(...arguments);Lt(this,Se,{});T(this,"importTree",e=>{const r=[[this,e]];for(;r.length;){const[s,i]=r.pop(),n=i,{children:o}=n,a=Dt(n,["children"]);Object.assign(s,a);for(const c of o){const l=s.createChild(i.name||i.rootName||"");r.push([l,c])}}return this})}get regex(){const{name:e}=this;return se(this,Se)[e]||(se(this,Se)[e]=this.instance.utils.getRegexFromName(this.name)),se(this,Se)[e]}set regex(e){se(this,Se)[this.name]=new RegExp(e)}get children(){return this.instance.nodeIndex.filter(r=>r.parent===this).sort((r,n)=>(r.meta.order||0)-(n.meta.order||0))}get pages(){return this.children.filter(e=>e.name!=="index").filter(e=>!e.meta.fallback).filter(e=>!e.name.startsWith("_")).filter(e=>!e.name.includes("[")).filter(e=>{var r;return((r=e.meta)==null?void 0:r.order)!==!1})}getRawComponent(){return this.module&&new Promise(e=>{const r=this.module(),n=r.then?r.then(s=>s.default):r.default;e(n)})}get component(){const e=this;return function(r){return r.props=Ge(Y({},r.props),{passthrough:r.props,node:e}),new ao(Y({},r))}}appendChild(e){e.instance&&(e.parent=this)}get _fallback(){var e;return this.children.find(r=>r.meta.fallback)||((e=this.parent)==null?void 0:e._fallback)}}Se=new WeakMap;class lo{constructor(e){T(this,"Node",En);T(this,"mode","runtime");T(this,"nodeIndex",[]);T(this,"rootNodes",{})}createNode(e,r){return new this.Node(e,r,this)}}class co extends lo{constructor(e){super();T(this,"Node",uo);T(this,"mode","runtime");T(this,"routers",[]);T(this,"rootNodes",{});this.options=e,e.routes&&(this.rootNodes[e.routes.rootName||"unnamed"]=this.createNode(e.routes.rootName).importTree(e.routes)),this.utils=new to,this.global=lr.register(this),Object.defineProperty(this,"routers",{enumerable:!1}),this.log=this.global.log}}const cr=t=>{const e=[],r=n=>(e.push(n),()=>e.splice(e.indexOf(n),1));return r.hooks=e,r.run=t(e),r},ho=t=>cr(e=>(r,...n)=>e.reduce((s,i)=>(s==null?void 0:s.then)?s.then(o=>i(o,...n)):i(s,...n),r)),Ee=t=>cr(e=>(r,...n)=>e.reduce((s,i)=>(s==null?void 0:s.then)?s.then(o=>i(r,...n)):i(r,...n),r)),fo=t=>cr(e=>(r,...n)=>e.reduce((s,i)=>(s==null?void 0:s.then)?s.then(o=>o&&i(r,...n)):s&&i(r,...n),r||!0));class mo extends _n{constructor(e){super(e);T(this,"reflect",()=>{const{mode:e}=ve(this.router.activeRoute);if(e==="popState")return!1;const{routers:r,browserAdapter:n}=this.router.instance.global,s=r.filter(o=>o.urlReflector instanceof this.constructor),i=n.toBrowser(s);history[`${e}Native`]({},"",i)});const{instance:r,urlRewrites:n}=e,{urlFromBrowser:s,browserAdapter:i}=r.global;history.onPushstate||po();const o=a=>function(c,l,u){var d,p;const h=(p=(d=c==null?void 0:c.routify)==null?void 0:d.router)!=null?p:!1;if(h===!1)u=i.toRouter(u,e);else if(h!==e.name)return!1;for(const m of n)u=m.toInternal(u,{router:e});e.url[a](u)};this.absorb=()=>e.url.replace(s(e)),this._pushstateHandler=o("push"),this._replacestateHandler=o("replace"),this._popstateHandler=()=>e.url.pop(s(e))}install(){this.hooks=[history.onPushstate(this._pushstateHandler),history.onReplacestate(this._replacestateHandler),history.onPopstate(this._popstateHandler)],ve(this.router.activeRoute)?this.reflect():this.absorb()}uninstall(){this.hooks.forEach(e=>e()),setTimeout(()=>this.reflect())}}function po(){const t={onPushstate:Ee(),onReplacestate:Ee(),onPopstate:Ee()};Object.assign(history,t);const{pushState:e,replaceState:r}=history;return history.pushStateNative=e,history.replaceStateNative=r,history.pushState=t.onPushstate.run,history.replaceState=t.onReplacestate.run,window.addEventListener("popstate",t.onPopstate.run),!0}class go extends _n{}const vo=()=>new Promise(requestAnimationFrame),yo=(t=100)=>new Promise(e=>{let r;const n=async s=>{clearTimeout(r),await vo(),r=setTimeout(()=>{e(),removeEventListener("scroll",n)},t)};addEventListener("scroll",n)}),bo=()=>{const t=le(!1);return{isScrolling:t,run:({route:r,history:n})=>{var l;const[s,i]=r.url.split("#"),[o,a]=((l=n[0])==null?void 0:l.url.split("#"))||[];if(!i)return;const c=async u=>{const h=s===o,d=document.getElementById(i);if(d&&d.scrollIntoView({behavior:h?"smooth":"auto"}),h&&d&&(t.set(!0),await yo(),t.set(!1)),!h&&!u){const p=new MutationObserver(c);p.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),setTimeout(p.disconnect.bind(p),500)}};c()}}},_o={beforeRouterInit:({router:t})=>{const{isScrolling:e,run:r}=bo();t.afterUrlChange(r),t.scrollHandler={isScrolling:e}}};var Eo=()=>({beforeUrlChange:({route:t})=>{const e=t.allFragments;return e.forEach(r=>{const{reset:n}=r.node.meta;if(n){const s=e.indexOf(r),i=n===!0?s:Number(n),o=s-i;e.splice(o,s)}}),!0}});const wo=t=>Object.fromEntries(Object.entries(t).filter(([e,r])=>r!=null)),Sn=(t,e)=>{e=e||{name:"",beforeRouterInit:[],afterRouterInit:[],urlRewrite:[],beforeUrlChange:[],afterUrlChange:[],transformFragments:[],onDestroy:[]};const i=t,{plugins:r}=i,n=Dt(i,["plugins"]);return[...r||[],n].forEach(o=>{"plugin"in o&&Sn(o,e),Object.entries(o).forEach(([a,c])=>{Array.isArray(e[a])?e[a].push(...[c].flat().filter(Boolean)):e[a]=c||e[a]})}),e},xo=[_o,Eo()];var pe;const Tr=class{constructor(e){T(this,"pendingRoute",bn(null));T(this,"activeRoute",bn(null));Lt(this,pe,null);T(this,"urlRewrites",[]);T(this,"beforeRouterInit",Ee());T(this,"afterRouterInit",Ee());T(this,"beforeUrlChange",fo());T(this,"afterUrlChange",Ee());T(this,"transformFragments",ho());T(this,"onDestroy",Ee());T(this,"parentElem",null);T(this,"queryHandler",{parse:(e,r)=>Wi(new URLSearchParams(e)),stringify:(e,r)=>{const n=new URLSearchParams(e).toString();return n?`?${n}`:""}});T(this,"url",{internal:()=>this.url.getPending()||this.url.getActive(),external:()=>this.getExternalUrl(),getActive:()=>{var e;return(e=ve(this.activeRoute))==null?void 0:e.url},getPending:()=>{var e;return(e=ve(this.pendingRoute))==null?void 0:e.url},toString:()=>this.url.internal(),set:this._setUrl,push:e=>this._setUrl(e,"pushState"),replace:e=>this._setUrl(e,"replaceState"),pop:e=>this._setUrl(e,"popState")});T(this,"ready",(()=>new Promise(e=>{let r;r=this.activeRoute.subscribe(n=>{n&&e(),r&&r()})}))());T(this,"history",[]);T(this,"setParentElem",e=>this.parentElem=e);T(this,"getExternalUrl",e=>this.urlRewrites.reduce((n,s)=>s.toExternal(n,{router:this}),e||this.url.internal()));T(this,"getInternalUrl",e=>this.urlRewrites.reduce((r,n)=>n.toInternal(r,{router:this}),e));const{subscribe:r,set:n}=le(this);this.subscribe=r,this.triggerStore=()=>n(this),e.plugins=[...e.plugins||[],...xo].filter(Boolean),this.init(e),this.params=K(this.activeRoute,s=>s.params),this.afterUrlChange(()=>setTimeout(()=>se(this,pe).reflect())),this.activeRoute.get=()=>ve(this.activeRoute),this.pendingRoute.get=()=>ve(this.pendingRoute)}init(e){const r=!this.options;e=wo(e),this.options=Sn(Y(Y({},this.options),e));let{instance:n,rootNode:s,name:i,routes:o,urlRewrite:a,urlReflector:c,url:l,passthrough:u,beforeUrlChange:h,afterUrlChange:d,transformFragments:p,onDestroy:m,beforeRouterInit:y,afterRouterInit:_,queryHandler:x}=this.options;x&&(this.queryHandler=x),h.forEach(this.beforeUrlChange),p.forEach(this.transformFragments),d.forEach(this.afterUrlChange),m.forEach(this.onDestroy),y.forEach(this.beforeRouterInit),_.forEach(this.afterRouterInit),this.beforeRouterInit.run({router:this,firstInit:r});const S=Zi("routify-fragment-context");this.instance=n||this.instance||(S==null?void 0:S.route.router.instance)||lr.instances[0]||new co({}),this.name=i,this.urlRewrites=a,u&&!(u instanceof Tr)&&(u=(S==null?void 0:S.route.router)||u),this.passthrough=u||this.passthrough,lr.instances.forEach(I=>{const R=I.routers.indexOf(this);R!==-1&&I.routers.splice(R,1)}),this.instance.routers.push(this),o&&this.importRoutes(o),this.parentCmpCtx=S,this.rootNode=s||this.rootNode||this.instance.rootNodes.default,this.url.getActive()&&this._setUrl(this.url.getActive(),"pushState",!0),(!this.urlReflector||c&&!(this.urlReflector instanceof c))&&(c=c||(typeof window!="undefined"?mo:go),this.setUrlReflector(c)),l&&this.url.replace(l),this.triggerStore(),this.afterRouterInit.run({router:this,firstInit:r})}importRoutes(e){this.rootNode=this.instance.createNode().importTree(e),this.instance.rootNodes[e.rootName||"unnamed"]=this.rootNode}async _setUrl(e,r,n){n||(e=this.getInternalUrl(e)),e=e||"/",e=e.replace(/(.+)\/+([#?]|$)/,"$1$2");const{activeRoute:s,pendingRoute:i}=this;s.get(),e.startsWith("/")||(e=e.replace(new URL(e).origin,""));const o=new Hi(this,e,r),a=i.get()||s.get();return Qi(a,o)||(i.set(o),await o.loadRoute()),!0}destroy(){this.instance.routers=this.instance.routers.filter(e=>e!==this),this.onDestroy.run({router:this})}get urlReflector(){return se(this,pe)}setUrlReflector(e){var r;(r=se(this,pe))==null||r.uninstall(),Cr(this,pe,new e(this)),se(this,pe).install(),this.triggerStore()}};let Tn=Tr;pe=new WeakMap;function So(t){let e;const r=t[2].default,n=ft(r,t,t[1],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,[i]){n&&n.p&&(!e||i&2)&&mt(n,r,s,s[1],e?dt(r,s[1],i,null):pt(s[1]),null)},i(s){e||(L(n,s),e=!0)},o(s){V(n,s),e=!1},d(s){n&&n.d(s)}}}function To(t,e,r){let{$$slots:n={},$$scope:s}=e,{context:i=null}=e;return t.$$set=o=>{"context"in o&&r(0,i=o.context),"$$scope"in o&&r(1,s=o.$$scope)},[i,s,n]}class On extends We{constructor(e){super();ze(this,e,To,So,Re,{context:0})}}function Rn(t){let e,r;return e=new An({props:{fragments:t[5],props:t[1],decorator:t[0]}}),{c(){be(e.$$.fragment)},m(n,s){ae(e,n,s),r=!0},p(n,s){const i={};s&32&&(i.fragments=n[5]),s&2&&(i.props=n[1]),s&1&&(i.decorator=n[0]),e.$set(i)},i(n){r||(L(e.$$.fragment,n),r=!0)},o(n){V(e.$$.fragment,n),r=!1},d(n){ue(e,n)}}}function Oo(t){let e,r,n=t[5].length&&Rn(t);return{c(){n&&n.c(),e=Ae()},m(s,i){n&&n.m(s,i),ie(s,e,i),r=!0},p(s,i){s[5].length?n?(n.p(s,i),i&32&&L(n,1)):(n=Rn(s),n.c(),L(n,1),n.m(e.parentNode,e)):n&&(Ce(),V(n,1,1,()=>{n=null}),Pe())},i(s){r||(L(n),r=!0)},o(s){V(n),r=!1},d(s){n&&n.d(s),s&&re(e)}}}function Ro(t){var a;let e,r,n;const s=[{context:t[2]},t[1],(a=t[4])==null?void 0:a.props];var i=t[3].node.module().default;function o(c){let l={$$slots:{default:[Oo,({props:u,decorator:h})=>({1:u,0:h}),({props:u,decorator:h})=>(u?2:0)|(h?1:0)]},$$scope:{ctx:c}};for(let u=0;u<s.length;u+=1)l=Ft(l,s[u]);return{props:l}}return i&&(e=new i(o(t))),{c(){e&&be(e.$$.fragment),r=Ae()},m(c,l){e&&ae(e,c,l),ie(c,r,l),n=!0},p(c,l){var h;const u=l&22?$r(s,[l&4&&{context:c[2]},l&2&&qt(c[1]),l&16&&qt((h=c[4])==null?void 0:h.props)]):{};if(l&547&&(u.$$scope={dirty:l,ctx:c}),i!==(i=c[3].node.module().default)){if(e){Ce();const d=e;V(d.$$.fragment,1,0,()=>{ue(d,1)}),Pe()}i?(e=new i(o(c)),be(e.$$.fragment),L(e.$$.fragment,1),ae(e,r.parentNode,r)):e=null}else i&&e.$set(u)},i(c){n||(e&&L(e.$$.fragment,c),n=!0)},o(c){e&&V(e.$$.fragment,c),n=!1},d(c){c&&re(r),e&&ue(e,c)}}}function Ao(t){let e,r,n;var s=t[0]||On;function i(o){return{props:{context:o[2],$$slots:{default:[Ro]},$$scope:{ctx:o}}}}return s&&(e=new s(i(t))),{c(){e&&be(e.$$.fragment),r=Ae()},m(o,a){e&&ae(e,o,a),ie(o,r,a),n=!0},p(o,[a]){const c={};if(a&4&&(c.context=o[2]),a&575&&(c.$$scope={dirty:a,ctx:o}),s!==(s=o[0]||On)){if(e){Ce();const l=e;V(l.$$.fragment,1,0,()=>{ue(l,1)}),Pe()}s?(e=new s(i(o)),be(e.$$.fragment),L(e.$$.fragment,1),ae(e,r.parentNode,r)):e=null}else s&&e.$set(c)},i(o){n||(e&&L(e.$$.fragment,o),n=!0)},o(o){e&&V(e.$$.fragment,o),n=!1},d(o){o&&re(r),e&&ue(e,o)}}}function Co(t,e,r){let n,s,i,o,a,{fragments:c}=e,{decorator:l=null}=e,{props:u={}}=e,h={};return Gt("routify-fragment-context",h),t.$$set=d=>{"fragments"in d&&r(6,c=d.fragments),"decorator"in d&&r(0,l=d.decorator),"props"in d&&r(1,u=d.props)},t.$$.update=()=>{t.$$.dirty&64&&r(3,[n,...s]=[...c],n,(r(5,s),r(6,c))),t.$$.dirty&8&&r(7,{node:i,load:o,route:a}=n,i,(r(4,o),r(3,n),r(6,c)),(r(8,a),r(3,n),r(6,c))),t.$$.dirty&412&&r(2,h=Object.assign(h,{route:a,node:i,load:o,fragment:n}))},[l,u,h,n,o,s,c,i,a]}class An extends We{constructor(e){super();ze(this,e,Co,Ao,Re,{fragments:6,decorator:0,props:1})}}function Cn(t){let e,r,n,s,i,o;return r=new An({props:{fragments:t[2],decorator:t[1]}}),{c(){e=$t("div"),be(r.$$.fragment),cs(e,"display","contents")},m(a,c){ie(a,e,c),ae(r,e,null),s=!0,i||(o=Nr(n=t[5].call(null,e)),i=!0)},p(a,c){const l={};c&4&&(l.fragments=a[2]),c&2&&(l.decorator=a[1]),r.$set(l)},i(a){s||(L(r.$$.fragment,a),s=!0)},o(a){V(r.$$.fragment,a),s=!1},d(a){a&&re(e),ue(r),i=!1,o()}}}function Pn(t){let e,r,n,s;return{c(){e=$t("div")},m(i,o){ie(i,e,o),n||(s=Nr(r=t[0].setParentElem(e)),n=!0)},d(i){i&&re(e),n=!1,s()}}}function Po(t){let e,r,n,s=t[3]&&Cn(t),i=!t[0].parentElem&&Pn(t);return{c(){s&&s.c(),e=us(),i&&i.c(),r=Ae()},m(o,a){s&&s.m(o,a),ie(o,e,a),i&&i.m(o,a),ie(o,r,a),n=!0},p(o,[a]){o[3]?s?(s.p(o,a),a&8&&L(s,1)):(s=Cn(o),s.c(),L(s,1),s.m(e.parentNode,e)):s&&(Ce(),V(s,1,1,()=>{s=null}),Pe()),o[0].parentElem?i&&(i.d(1),i=null):i||(i=Pn(o),i.c(),i.m(r.parentNode,r))},i(o){n||(L(s),n=!0)},o(o){V(s),n=!1},d(o){s&&s.d(o),o&&re(e),i&&i.d(o),o&&re(r)}}}function ko(t,e,r){let n,s,i,o=te,a=()=>(o(),o=ht(n,b=>r(3,i=b)),n);t.$$.on_destroy.push(()=>o());let{router:c=null}=e,{routes:l=null}=e,{decorator:u=null}=e,{urlReflector:h=null}=e,{instance:d=null}=e,{urlRewrite:p=null}=e,{url:m=null}=e,{name:y=null}=e,{rootNode:_=null}=e,{passthrough:x=null}=e,{beforeRouterInit:S=null}=e,{afterRouterInit:O=null}=e,{beforeUrlChange:I=null}=e,{afterUrlChange:R=null}=e,{transformFragments:C=null}=e,{onDestroy:w=null}=e,{plugins:N=null}=e;const B=b=>{c.passthrough||(b.addEventListener("click",$),b.addEventListener("keydown",$))},$=b=>{const Q=qi(b);Q&&c.url.push(Q)};return typeof window!="undefined"&&ds(()=>c.destroy()),t.$$set=b=>{"router"in b&&r(0,c=b.router),"routes"in b&&r(6,l=b.routes),"decorator"in b&&r(1,u=b.decorator),"urlReflector"in b&&r(7,h=b.urlReflector),"instance"in b&&r(8,d=b.instance),"urlRewrite"in b&&r(9,p=b.urlRewrite),"url"in b&&r(10,m=b.url),"name"in b&&r(11,y=b.name),"rootNode"in b&&r(12,_=b.rootNode),"passthrough"in b&&r(13,x=b.passthrough),"beforeRouterInit"in b&&r(14,S=b.beforeRouterInit),"afterRouterInit"in b&&r(15,O=b.afterRouterInit),"beforeUrlChange"in b&&r(16,I=b.beforeUrlChange),"afterUrlChange"in b&&r(17,R=b.afterUrlChange),"transformFragments"in b&&r(18,C=b.transformFragments),"onDestroy"in b&&r(19,w=b.onDestroy),"plugins"in b&&r(20,N=b.plugins)},t.$$.update=()=>{if(t.$$.dirty&2096065){const b={instance:d,rootNode:_,name:y,routes:l,urlRewrite:p,urlReflector:h,passthrough:x,beforeRouterInit:S,afterRouterInit:O,beforeUrlChange:I,afterUrlChange:R,transformFragments:C,onDestroy:w,plugins:N};c?c.init(b):r(0,c=new Tn(b))}t.$$.dirty&1025&&m&&m!==c.url.internal()&&c.url.replace(m),t.$$.dirty&1&&a(r(4,n=c.activeRoute)),t.$$.dirty&8&&r(2,s=(i==null?void 0:i.fragments)||[]),t.$$.dirty&5},[c,u,s,i,n,B,l,h,d,p,m,y,_,x,S,O,I,R,C,w,N]}class zu extends We{constructor(e){super();ze(this,e,ko,Po,Re,{router:0,routes:6,decorator:1,urlReflector:7,instance:8,urlRewrite:9,url:10,name:11,rootNode:12,passthrough:13,beforeRouterInit:14,afterRouterInit:15,beforeUrlChange:16,afterUrlChange:17,transformFragments:18,onDestroy:19,plugins:20})}}const kn=(t,e)=>{const r=[t,...t.ancestors],n=[e,...e.ancestors];return r.find(s=>n.includes(s))},Io=(t,e)=>{const r=[t,...t.ancestors],n=[e,...e.ancestors],s=kn(t,e),i=r.indexOf(s),o=i?"../".repeat(i):"",a=n.indexOf(s),c=n.slice(0,a).reverse().map(l=>l.name).join("/");return o+c},Wu={subscribe:(t,e)=>{const{router:r}=Le;return K(No,n=>(s,i,o)=>{const a=n(s,i);r.url.push(a)}).subscribe(t,e)}},No={subscribe:(t,e)=>{const{router:r}=Le,n=Le.fragment.node;return K(r.activeRoute,s=>{const i=r.rootNode.traverse(n.path);return(o,a={})=>{const c=o.startsWith("/")?r.rootNode.path:"",l=i.traverse(c+o);if(!l){console.error("could not find destination node",o);return}const u=kn(l,r.rootNode),h="/"+Io(u,l),d=Y(Y({},jo(l,s)),a),p=Xi(h,d,s);return r.getExternalUrl(p)}}).subscribe(t,e)}},jo=(t,e)=>{const n=[t,...t.ancestors].reverse().map(s=>{var i;return(i=e.allFragments.find(o=>o.node===s||o.node.path===s.path))==null?void 0:i.params});return Object.assign({},...n)},Xu={subscribe:(t,e)=>K(Le.router.params,r=>r).subscribe(t,e)},Ju={subscribe:(t,e)=>K(Le.router.activeRoute,Uo).subscribe(t,e)},Uo=t=>Do(t.url),Do=t=>(e,r,n={})=>{const{recursive:s}=Y({recursive:!0},n);return e=zi(e,r,i=>""),s&&(e=e.replace(/\/index\/?$/,"")),(t+"/").startsWith(e+"/")},Lo=t=>({subscribe:e=>(e(t()),()=>{})}),Zu=Lo(()=>Le.fragment),Fo="1.29.1",In={"X-Client-Info":`supabase-js/${Fo}`},Mo="supabase.auth.token";function $o(t){return t.replace(/\/$/,"")}const Go=()=>typeof window!="undefined";var hr={exports:{}};(function(t,e){var r=typeof self!="undefined"?self:vs,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function c(f){return f&&DataView.prototype.isPrototypeOf(f)}if(a.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(f){return f&&l.indexOf(Object.prototype.toString.call(f))>-1};function h(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function d(f){return typeof f!="string"&&(f=String(f)),f}function p(f){var g={next:function(){var E=f.shift();return{done:E===void 0,value:E}}};return a.iterable&&(g[Symbol.iterator]=function(){return g}),g}function m(f){this.map={},f instanceof m?f.forEach(function(g,E){this.append(E,g)},this):Array.isArray(f)?f.forEach(function(g){this.append(g[0],g[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(g){this.append(g,f[g])},this)}m.prototype.append=function(f,g){f=h(f),g=d(g);var E=this.map[f];this.map[f]=E?E+", "+g:g},m.prototype.delete=function(f){delete this.map[h(f)]},m.prototype.get=function(f){return f=h(f),this.has(f)?this.map[f]:null},m.prototype.has=function(f){return this.map.hasOwnProperty(h(f))},m.prototype.set=function(f,g){this.map[h(f)]=d(g)},m.prototype.forEach=function(f,g){for(var E in this.map)this.map.hasOwnProperty(E)&&f.call(g,this.map[E],E,this)},m.prototype.keys=function(){var f=[];return this.forEach(function(g,E){f.push(E)}),p(f)},m.prototype.values=function(){var f=[];return this.forEach(function(g){f.push(g)}),p(f)},m.prototype.entries=function(){var f=[];return this.forEach(function(g,E){f.push([E,g])}),p(f)},a.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function _(f){return new Promise(function(g,E){f.onload=function(){g(f.result)},f.onerror=function(){E(f.error)}})}function x(f){var g=new FileReader,E=_(g);return g.readAsArrayBuffer(f),E}function S(f){var g=new FileReader,E=_(g);return g.readAsText(f),E}function O(f){for(var g=new Uint8Array(f),E=new Array(g.length),U=0;U<g.length;U++)E[U]=String.fromCharCode(g[U]);return E.join("")}function I(f){if(f.slice)return f.slice(0);var g=new Uint8Array(f.byteLength);return g.set(new Uint8Array(f)),g.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:a.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:a.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():a.arrayBuffer&&a.blob&&c(f)?(this._bodyArrayBuffer=I(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||u(f))?this._bodyArrayBuffer=I(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var f=y(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var f=y(this);if(f)return f;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(f){var g=f.toUpperCase();return C.indexOf(g)>-1?g:f}function N(f,g){g=g||{};var E=g.body;if(f instanceof N){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,g.headers||(this.headers=new m(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!E&&f._bodyInit!=null&&(E=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new m(g.headers)),this.method=w(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&E)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(E)}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function B(f){var g=new FormData;return f.trim().split("&").forEach(function(E){if(E){var U=E.split("="),M=U.shift().replace(/\+/g," "),k=U.join("=").replace(/\+/g," ");g.append(decodeURIComponent(M),decodeURIComponent(k))}}),g}function $(f){var g=new m,E=f.replace(/\r?\n[\t ]+/g," ");return E.split(/\r?\n/).forEach(function(U){var M=U.split(":"),k=M.shift().trim();if(k){var Te=M.join(":").trim();g.append(k,Te)}}),g}R.call(N.prototype);function b(f,g){g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in g?g.statusText:"OK",this.headers=new m(g.headers),this.url=g.url||"",this._initBody(f)}R.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},b.error=function(){var f=new b(null,{status:0,statusText:""});return f.type="error",f};var Q=[301,302,303,307,308];b.redirect=function(f,g){if(Q.indexOf(g)===-1)throw new RangeError("Invalid status code");return new b(null,{status:g,headers:{location:f}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(g,E){this.message=g,this.name=E;var U=Error(g);this.stack=U.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function v(f,g){return new Promise(function(E,U){var M=new N(f,g);if(M.signal&&M.signal.aborted)return U(new o.DOMException("Aborted","AbortError"));var k=new XMLHttpRequest;function Te(){k.abort()}k.onload=function(){var ge={status:k.status,statusText:k.statusText,headers:$(k.getAllResponseHeaders()||"")};ge.url="responseURL"in k?k.responseURL:ge.headers.get("X-Request-URL");var jt="response"in k?k.response:k.responseText;E(new b(jt,ge))},k.onerror=function(){U(new TypeError("Network request failed"))},k.ontimeout=function(){U(new TypeError("Network request failed"))},k.onabort=function(){U(new o.DOMException("Aborted","AbortError"))},k.open(M.method,M.url,!0),M.credentials==="include"?k.withCredentials=!0:M.credentials==="omit"&&(k.withCredentials=!1),"responseType"in k&&a.blob&&(k.responseType="blob"),M.headers.forEach(function(ge,jt){k.setRequestHeader(jt,ge)}),M.signal&&(M.signal.addEventListener("abort",Te),k.onreadystatechange=function(){k.readyState===4&&M.signal.removeEventListener("abort",Te)}),k.send(typeof M._bodyInit=="undefined"?null:M._bodyInit)})}return v.polyfill=!0,i.fetch||(i.fetch=v,i.Headers=m,i.Request=N,i.Response=b),o.Headers=m,o.Request=N,o.Response=b,o.fetch=v,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(hr,hr.exports);var At=ys(hr.exports),et=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Bo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Vo=(t,e)=>{if(typeof t.json!="function")return e(t);t.json().then(r=>e({message:Bo(r),status:(t==null?void 0:t.status)||500}))},Ho=(t,e,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||(n.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r)),n};function Ct(t=At,e,r,n,s){return et(this,void 0,void 0,function*(){return new Promise((i,o)=>{t(r,Ho(e,n,s)).then(a=>{if(!a.ok)throw a;return(n==null?void 0:n.noResolveJson)?i:a.json()}).then(a=>i(a)).catch(a=>Vo(a,o))})})}function Nn(t,e,r){return et(this,void 0,void 0,function*(){return Ct(t,"GET",e,r)})}function X(t,e,r,n){return et(this,void 0,void 0,function*(){return Ct(t,"POST",e,n,r)})}function qo(t,e,r,n){return et(this,void 0,void 0,function*(){return Ct(t,"PUT",e,n,r)})}function zo(t,e,r,n){return et(this,void 0,void 0,function*(){return Ct(t,"DELETE",e,n,r)})}const Wo="1.21.7",Xo="http://localhost:9999",Jo={"X-Client-Info":`gotrue-js/${Wo}`},tt="supabase.auth.token",Zo={name:"sb:token",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};function Qo(t,e,r){const n=r||{},s=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!i.test(t))throw new TypeError("argument name is invalid");const o=s(e);if(o&&!i.test(o))throw new TypeError("argument val is invalid");let a=t+"="+o;if(n.maxAge!=null){const c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(c)}if(n.domain){if(!i.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!i.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function Yo(t){if(!t||!t.headers||!t.headers.host)throw new Error('The "host" request header is not available');const e=t.headers.host.indexOf(":")>-1&&t.headers.host.split(":")[0]||t.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}function Ko(t,e){var r,n,s;return Qo(t.name,t.value,{maxAge:t.maxAge,expires:new Date(Date.now()+t.maxAge*1e3),httpOnly:!0,secure:e,path:(r=t.path)!==null&&r!==void 0?r:"/",domain:(n=t.domain)!==null&&n!==void 0?n:"",sameSite:(s=t.sameSite)!==null&&s!==void 0?s:"lax"})}function ea(t,e,r){const n=r.map(i=>Ko(i,Yo(t))),s=e.getHeader("Set-Cookie");s&&(s instanceof Array?Array.prototype.push.apply(n,s):typeof s=="string"&&n.push(s)),e.setHeader("Set-Cookie",n)}function jn(t,e,r){ea(t,e,[r])}function ta(t,e,r){jn(t,e,{name:r,value:"",maxAge:-1})}function rt(t){return Math.round(Date.now()/1e3)+t}function ra(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const fe=()=>typeof window!="undefined";function de(t,e){var r;e||(e=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),t=t.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+t+"(=([^&#]*)|&|#|$)"),s=n.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}var H=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};class na{constructor({url:e="",headers:r={},cookieOptions:n,fetch:s}){this.url=e,this.headers=r,this.cookieOptions=Object.assign(Object.assign({},Zo),n),this.fetch=s}createUser(e){return H(this,void 0,void 0,function*(){try{return{data:yield X(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}listUsers(){return H(this,void 0,void 0,function*(){try{return{data:(yield Nn(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}})}signUpWithEmail(e,r,n={}){return H(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);let i="";n.redirectTo&&(i="?redirect_to="+encodeURIComponent(n.redirectTo));const o=yield X(this.fetch,`${this.url}/signup${i}`,{email:e,password:r,data:n.data},{headers:s}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=rt(o.expires_in)),{data:a,error:null}}catch(s){return{data:null,error:s}}})}signInWithEmail(e,r,n={}){return H(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);let i="?grant_type=password";n.redirectTo&&(i+="&redirect_to="+encodeURIComponent(n.redirectTo));const o=yield X(this.fetch,`${this.url}/token${i}`,{email:e,password:r},{headers:s}),a=Object.assign({},o);return a.expires_in&&(a.expires_at=rt(o.expires_in)),{data:a,error:null}}catch(s){return{data:null,error:s}}})}signUpWithPhone(e,r,n={}){return H(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers),i=yield X(this.fetch,`${this.url}/signup`,{phone:e,password:r,data:n.data},{headers:s}),o=Object.assign({},i);return o.expires_in&&(o.expires_at=rt(i.expires_in)),{data:o,error:null}}catch(s){return{data:null,error:s}}})}signInWithPhone(e,r){return H(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers),s="?grant_type=password",i=yield X(this.fetch,`${this.url}/token${s}`,{phone:e,password:r},{headers:n}),o=Object.assign({},i);return o.expires_in&&(o.expires_at=rt(i.expires_in)),{data:o,error:null}}catch(n){return{data:null,error:n}}})}sendMagicLinkEmail(e,r={}){return H(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let s="";return r.redirectTo&&(s+="?redirect_to="+encodeURIComponent(r.redirectTo)),{data:yield X(this.fetch,`${this.url}/magiclink${s}`,{email:e},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}sendMobileOTP(e){return H(this,void 0,void 0,function*(){try{const r=Object.assign({},this.headers);return{data:yield X(this.fetch,`${this.url}/otp`,{phone:e},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}verifyMobileOTP(e,r,n={}){return H(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);return{data:yield X(this.fetch,`${this.url}/verify`,{phone:e,token:r,type:"sms",redirect_to:n.redirectTo},{headers:s}),error:null}}catch(s){return{data:null,error:s}}})}inviteUserByEmail(e,r={}){return H(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let s="";return r.redirectTo&&(s+="?redirect_to="+encodeURIComponent(r.redirectTo)),{data:yield X(this.fetch,`${this.url}/invite${s}`,{email:e,data:r.data},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}resetPasswordForEmail(e,r={}){return H(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let s="";return r.redirectTo&&(s+="?redirect_to="+encodeURIComponent(r.redirectTo)),{data:yield X(this.fetch,`${this.url}/recover${s}`,{email:e},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}_createRequestHeaders(e){const r=Object.assign({},this.headers);return r.Authorization=`Bearer ${e}`,r}signOut(e){return H(this,void 0,void 0,function*(){try{return yield X(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(r){return{error:r}}})}getUrlForProvider(e,r){const n=[`provider=${encodeURIComponent(e)}`];return(r==null?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(r==null?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),`${this.url}/authorize?${n.join("&")}`}getUser(e){return H(this,void 0,void 0,function*(){try{const r=yield Nn(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}updateUser(e,r){return H(this,void 0,void 0,function*(){try{const n=yield qo(this.fetch,`${this.url}/user`,r,{headers:this._createRequestHeaders(e)});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}deleteUser(e,r){return H(this,void 0,void 0,function*(){try{const n=yield zo(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this._createRequestHeaders(r)});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}refreshAccessToken(e){return H(this,void 0,void 0,function*(){try{const r=yield X(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),n=Object.assign({},r);return n.expires_in&&(n.expires_at=rt(r.expires_in)),{data:n,error:null}}catch(r){return{data:null,error:r}}})}setAuthCookie(e,r){e.method!=="POST"&&(r.setHeader("Allow","POST"),r.status(405).end("Method Not Allowed"));const{event:n,session:s}=e.body;if(!n)throw new Error("Auth event missing!");if(n==="SIGNED_IN"){if(!s)throw new Error("Auth session missing!");jn(e,r,{name:this.cookieOptions.name,value:s.access_token,domain:this.cookieOptions.domain,maxAge:this.cookieOptions.lifetime,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}n==="SIGNED_OUT"&&ta(e,r,this.cookieOptions.name),r.status(200).json({})}getUserByCookie(e){return H(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");if(!e.cookies[this.cookieOptions.name])throw new Error("No cookie found!");const r=e.cookies[this.cookieOptions.name],{user:n,error:s}=yield this.getUser(r);if(s)throw s;return{token:r,user:n,data:n,error:null}}catch(r){return{token:null,user:null,data:null,error:r}}})}generateLink(e,r,n={}){return H(this,void 0,void 0,function*(){try{return{data:yield X(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:r,password:n.password,data:n.data,redirect_to:n.redirectTo},{headers:this.headers}),error:null}}catch(s){return{data:null,error:s}}})}}function sa(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}var J=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};sa();const ia={url:Xo,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:Jo};class oa{constructor(e){this.stateChangeEmitters=new Map;const r=Object.assign(Object.assign({},ia),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.multiTab=r.multiTab,this.localStorage=r.localStorage||globalThis.localStorage,this.api=new na({url:r.url,headers:r.headers,cookieOptions:r.cookieOptions,fetch:r.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),r.detectSessionInUrl&&fe()&&!!de("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:n})=>{n&&console.error("Error getting session from URL.",n)})}signUp({email:e,password:r,phone:n},s={}){return J(this,void 0,void 0,function*(){try{this._removeSession();const{data:i,error:o}=n&&r?yield this.api.signUpWithPhone(n,r,{data:s.data}):yield this.api.signUpWithEmail(e,r,{redirectTo:s.redirectTo,data:s.data});if(o)throw o;if(!i)throw"An error occurred on sign up.";let a=null,c=null;return i.access_token&&(a=i,c=a.user,this._saveSession(a),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(c=i),{user:c,session:a,error:null}}catch(i){return{user:null,session:null,error:i}}})}signIn({email:e,phone:r,password:n,refreshToken:s,provider:i},o={}){return J(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!n){const{error:a}=yield this.api.sendMagicLinkEmail(e,{redirectTo:o.redirectTo});return{user:null,session:null,error:a}}if(e&&n)return this._handleEmailSignIn(e,n,{redirectTo:o.redirectTo});if(r&&!n){const{error:a}=yield this.api.sendMobileOTP(r);return{user:null,session:null,error:a}}if(r&&n)return this._handlePhoneSignIn(r,n);if(s){const{error:a}=yield this._callRefreshToken(s);if(a)throw a;return{user:this.currentUser,session:this.currentSession,error:null}}if(i)return this._handleProviderSignIn(i,{redirectTo:o.redirectTo,scopes:o.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(a){return{user:null,session:null,error:a}}})}verifyOTP({phone:e,token:r},n={}){return J(this,void 0,void 0,function*(){try{this._removeSession();const{data:s,error:i}=yield this.api.verifyMobileOTP(e,r,n);if(i)throw i;if(!s)throw"An error occurred on token verification.";let o=null,a=null;return s.access_token&&(o=s,a=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),s.id&&(a=s),{user:a,session:o,error:null}}catch(s){return{user:null,session:null,error:s}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return J(this,void 0,void 0,function*(){try{if(!((e=this.currentSession)===null||e===void 0?void 0:e.access_token))throw new Error("Not logged in.");const{error:r}=yield this._callRefreshToken();if(r)throw r;return{data:this.currentSession,user:this.currentUser,error:null}}catch(r){return{data:null,user:null,error:r}}})}update(e){var r;return J(this,void 0,void 0,function*(){try{if(!((r=this.currentSession)===null||r===void 0?void 0:r.access_token))throw new Error("Not logged in.");const{user:n,error:s}=yield this.api.updateUser(this.currentSession.access_token,e);if(s)throw s;if(!n)throw Error("Invalid user data.");const i=Object.assign(Object.assign({},this.currentSession),{user:n});return this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED"),{data:n,user:n,error:null}}catch(n){return{data:null,user:null,error:n}}})}setSession(e){return J(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:r,error:n}=yield this.api.refreshAccessToken(e);return n?{session:null,error:n}:(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"),{session:r,error:null})}catch(r){return{error:r,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(e){return J(this,void 0,void 0,function*(){try{if(!fe())throw new Error("No browser detected.");const r=de("error_description");if(r)throw new Error(r);const n=de("provider_token"),s=de("access_token");if(!s)throw new Error("No access_token detected.");const i=de("expires_in");if(!i)throw new Error("No expires_in detected.");const o=de("refresh_token");if(!o)throw new Error("No refresh_token detected.");const a=de("token_type");if(!a)throw new Error("No token_type detected.");const l=Math.round(Date.now()/1e3)+parseInt(i),{user:u,error:h}=yield this.api.getUser(s);if(h)throw h;const d={provider_token:n,access_token:s,expires_in:parseInt(i),expires_at:l,refresh_token:o,token_type:a,user:u};if(e==null?void 0:e.storeSession){this._saveSession(d);const p=de("type");this._notifyAllSubscribers("SIGNED_IN"),p==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:d,error:null}}catch(r){return{data:null,error:r}}})}signOut(){var e;return J(this,void 0,void 0,function*(){const r=(e=this.currentSession)===null||e===void 0?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),r){const{error:n}=yield this.api.signOut(r);if(n)return{error:n}}return{error:null}})}onAuthStateChange(e){try{const r=ra(),n={id:r,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(r)}};return this.stateChangeEmitters.set(r,n),{data:n,error:null}}catch(r){return{data:null,error:r}}}_handleEmailSignIn(e,r,n={}){var s,i;return J(this,void 0,void 0,function*(){try{const{data:o,error:a}=yield this.api.signInWithEmail(e,r,{redirectTo:n.redirectTo});return a||!o?{data:null,user:null,session:null,error:a}:((((s=o==null?void 0:o.user)===null||s===void 0?void 0:s.confirmed_at)||((i=o==null?void 0:o.user)===null||i===void 0?void 0:i.email_confirmed_at))&&(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),{data:o,user:o.user,session:o,error:null})}catch(o){return{data:null,user:null,session:null,error:o}}})}_handlePhoneSignIn(e,r){var n;return J(this,void 0,void 0,function*(){try{const{data:s,error:i}=yield this.api.signInWithPhone(e,r);return i||!s?{data:null,user:null,session:null,error:i}:(((n=s==null?void 0:s.user)===null||n===void 0?void 0:n.phone_confirmed_at)&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),{data:s,user:s.user,session:s,error:null})}catch(s){return{data:null,user:null,session:null,error:s}}})}_handleProviderSignIn(e,r={}){const n=this.api.getUrlForProvider(e,{redirectTo:r.redirectTo,scopes:r.scopes});try{return fe()&&(window.location.href=n),{provider:e,url:n,data:null,session:null,user:null,error:null}}catch(s){return n?{provider:e,url:n,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:s}}}_recoverSession(){var e;try{const r=fe()&&((e=this.localStorage)===null||e===void 0?void 0:e.getItem(tt));if(!r||typeof r!="string")return null;const n=JSON.parse(r),{currentSession:s,expiresAt:i}=n,o=Math.round(Date.now()/1e3);i>=o&&(s==null?void 0:s.user)&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN"))}catch(r){console.log("error",r)}}_recoverAndRefresh(){return J(this,void 0,void 0,function*(){try{const e=fe()&&(yield this.localStorage.getItem(tt));if(!e)return null;const r=JSON.parse(e),{currentSession:n,expiresAt:s}=r,i=Math.round(Date.now()/1e3);if(s<i)if(this.autoRefreshToken&&n.refresh_token){const{error:o}=yield this._callRefreshToken(n.refresh_token);o&&(console.log(o.message),yield this._removeSession())}else this._removeSession();else!n||!n.user?(console.log("Current session is missing data."),this._removeSession()):(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){return console.error(e),null}})}_callRefreshToken(e){var r;return e===void 0&&(e=(r=this.currentSession)===null||r===void 0?void 0:r.refresh_token),J(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:n,error:s}=yield this.api.refreshAccessToken(e);if(s)throw s;if(!n)throw Error("Invalid session data.");return this._saveSession(n),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:n,error:null}}catch(n){return{data:null,error:n}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(r=>r.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const r=e.expires_at;if(r){const n=Math.round(Date.now()/1e3),s=r-n,i=s>60?60:.5;this._startAutoRefreshToken((s-i)*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const r={currentSession:e,expiresAt:e.expires_at};fe()&&this.localStorage.setItem(tt,JSON.stringify(r))}_removeSession(){return J(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),fe()&&(yield this.localStorage.removeItem(tt))})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>this._callRefreshToken(),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!fe()||!(window==null?void 0:window.addEventListener))return!1;try{window==null||window.addEventListener("storage",e=>{var r;if(e.key===tt){const n=JSON.parse(String(e.newValue));((r=n==null?void 0:n.currentSession)===null||r===void 0?void 0:r.access_token)?(this._recoverAndRefresh(),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(e){console.error("_listenForMultiTabEvents",e)}}}class aa extends oa{constructor(e){super(e)}}var ua=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};class fr{constructor(e){this.shouldThrowOnError=!1,Object.assign(this,e),this.fetch=e.fetch||At}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){typeof this.schema=="undefined"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let n=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>ua(this,void 0,void 0,function*(){var i,o,a;let c=null,l=null,u=null;if(s.ok){const d=(i=this.headers.Prefer)===null||i===void 0?void 0:i.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!d){const y=yield s.text();y&&(this.headers.Accept==="text/csv"?l=y:l=JSON.parse(y))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),m=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");p&&m&&m.length>1&&(u=parseInt(m[1]))}else if(c=yield s.json(),c&&this.shouldThrowOnError)throw c;return{error:c,data:l,count:u,status:s.status,statusText:s.statusText,body:l}}));return this.shouldThrowOnError||(n=n.catch(s=>({error:{message:`FetchError: ${s.message}`,details:"",hint:"",code:s.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),n.then(e,r)}}class dr extends fr{select(e="*"){let r=!1;const n=e.split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this}order(e,{ascending:r=!0,nullsFirst:n=!1,foreignTable:s}={}){const i=typeof s=="undefined"?"order":`${s}.order`,o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${r?"asc":"desc"}.${n?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:r}={}){const n=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:n}={}){const s=typeof n=="undefined"?"offset":`${n}.offset`,i=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new dr(this);return e.then=(r,n)=>this.then(s=>{var i,o;return((o=(i=s.error)===null||i===void 0?void 0:i.details)===null||o===void 0?void 0:o.includes("Results contain 0 rows"))?r({error:null,data:null,count:s.count,status:200,statusText:"OK",body:null}):r(s)},n),e}csv(){return this.headers.Accept="text/csv",this}}class Fe extends dr{constructor(){super(...arguments);this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,r,n){return this.url.searchParams.append(`${e}`,`not.${r}.${n}`),this}or(e,{foreignTable:r}={}){const n=typeof r=="undefined"?"or":`${r}.or`;return this.url.searchParams.append(n,`(${e})`),this}eq(e,r){return this.url.searchParams.append(`${e}`,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(`${e}`,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(`${e}`,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(`${e}`,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(`${e}`,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(`${e}`,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(`${e}`,`like.${r}`),this}ilike(e,r){return this.url.searchParams.append(`${e}`,`ilike.${r}`),this}is(e,r){return this.url.searchParams.append(`${e}`,`is.${r}`),this}in(e,r){const n=r.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(`${e}`,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(`${e}`,`cs.{${r.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(`${e}`,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(`${e}`,`cd.{${r.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(r)}`),this}rangeLt(e,r){return this.url.searchParams.append(`${e}`,`sl.${r}`),this}rangeGt(e,r){return this.url.searchParams.append(`${e}`,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(`${e}`,`nxl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(`${e}`,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(`${e}`,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(`${e}`,`ov.${r}`):this.url.searchParams.append(`${e}`,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s=null}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(`${e}`,`${i}fts${o}.${r}`),this}fts(e,r,{config:n}={}){const s=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`fts${s}.${r}`),this}plfts(e,r,{config:n}={}){const s=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`plfts${s}.${r}`),this}phfts(e,r,{config:n}={}){const s=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`phfts${s}.${r}`),this}wfts(e,r,{config:n}={}){const s=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`wfts${s}.${r}`),this}filter(e,r,n){return this.url.searchParams.append(`${e}`,`${r}.${n}`),this}match(e){return Object.keys(e).forEach(r=>{this.url.searchParams.append(`${r}`,`eq.${e[r]}`)}),this}}class Un extends fr{constructor(e,{headers:r={},schema:n,fetch:s}={}){super({fetch:s});this.url=new URL(e),this.headers=Object.assign({},r),this.schema=n}select(e="*",{head:r=!1,count:n=null}={}){this.method="GET";let s=!1;const i=e.split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),r&&(this.method="HEAD"),new Fe(this)}insert(e,{upsert:r=!1,onConflict:n,returning:s="representation",count:i=null}={}){this.method="POST";const o=[`return=${s}`];if(r&&o.push("resolution=merge-duplicates"),r&&n!==void 0&&this.url.searchParams.set("on_conflict",n),this.body=e,i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(a.length>0){const c=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new Fe(this)}upsert(e,{onConflict:r,returning:n="representation",count:s=null,ignoreDuplicates:i=!1}={}){this.method="POST";const o=[`resolution=${i?"ignore":"merge"}-duplicates`,`return=${n}`];return r!==void 0&&this.url.searchParams.set("on_conflict",r),this.body=e,s&&o.push(`count=${s}`),this.headers.Prefer=o.join(","),new Fe(this)}update(e,{returning:r="representation",count:n=null}={}){this.method="PATCH";const s=[`return=${r}`];return this.body=e,n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Fe(this)}delete({returning:e="representation",count:r=null}={}){this.method="DELETE";const n=[`return=${e}`];return r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new Fe(this)}}class la extends fr{constructor(e,{headers:r={},schema:n,fetch:s}={}){super({fetch:s});this.url=new URL(e),this.headers=Object.assign({},r),this.schema=n}rpc(e,{head:r=!1,count:n=null}={}){return r?(this.method="HEAD",e&&Object.entries(e).forEach(([s,i])=>{this.url.searchParams.append(s,i)})):(this.method="POST",this.body=e),n&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${n}`:this.headers.Prefer=`count=${n}`),new Fe(this)}}const ca="0.35.0",ha={"X-Client-Info":`postgrest-js/${ca}`};class fa{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},ha),r),this.schema=n,this.fetch=s}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const r=`${this.url}/${e}`;return new Un(r,{headers:this.headers,schema:this.schema,fetch:this.fetch})}rpc(e,r,{head:n=!1,count:s=null}={}){const i=`${this.url}/rpc/${e}`;return new la(i,{headers:this.headers,schema:this.schema,fetch:this.fetch}).rpc(r,{head:n,count:s})}}var D;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(D||(D={}));const Dn=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=da(o,t,e,s),i),{})},da=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Ln(i,o):mr(o)},Ln=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return va(e,r)}switch(t){case D.bool:return ma(e);case D.float4:case D.float8:case D.int2:case D.int4:case D.int8:case D.numeric:case D.oid:return pa(e);case D.json:case D.jsonb:return ga(e);case D.timestamp:return ya(e);case D.abstime:case D.date:case D.daterange:case D.int4range:case D.int8range:case D.money:case D.reltime:case D.text:case D.time:case D.timestamptz:case D.timetz:case D.tsrange:case D.tstzrange:return mr(e);default:return mr(e)}},mr=t=>t,ma=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pa=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ga=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},va=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ln(e,a))}return t},ya=t=>typeof t=="string"?t.replace(" ","T"):t,ba="1.3.4",_a={"X-Client-Info":`realtime-js/${ba}`},Ea="1.0.0",Fn=1e4,wa=1e3;var nt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(nt||(nt={}));var z;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(z||(z={}));var ee;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ee||(ee={}));var pr;(function(t){t.websocket="websocket"})(pr||(pr={}));class Mn{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class gr{constructor(e,r,n={},s=Fn){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,r){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class xa{constructor(e,r={},n){this.topic=e,this.params=r,this.socket=n,this.bindings=[],this.state=z.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new gr(this,ee.join,this.params,this.timeout),this.rejoinTimer=new Mn(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=z.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=z.closed,this.socket.remove(this)}),this.onError(s=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=z.errored,this.rejoinTimer.scheduleTimeout())}),this.on(ee.reply,(s,i)=>{this.trigger(this.replyEventName(i),s)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(ee.close,e)}onError(e){this.on(ee.error,r=>e(r))}on(e,r){this.bindings.push({event:e,callback:r})}off(e){this.bindings=this.bindings.filter(r=>r.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gr(this,e,r,n);return this.canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=z.leaving;let r=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(ee.close,"leave",this.joinRef())};this.joinPush.destroy();let n=new gr(this,ee.leave,{},e);return n.receive("ok",()=>r()).receive("timeout",()=>r()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,r,n){return r}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}sendJoin(e){this.state=z.joining,this.joinPush.resend(e)}rejoin(e=this.timeout){this.isLeaving()||this.sendJoin(e)}trigger(e,r,n){let{close:s,error:i,leave:o,join:a}=ee;if(n&&[s,i,o,a].indexOf(e)>=0&&n!==this.joinRef())return;let l=this.onMessage(e,r,n);if(r&&!l)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(u=>u.event==="*"?e===(r==null?void 0:r.type):u.event===e).map(u=>u.callback(l,n))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===z.closed}isErrored(){return this.state===z.errored}isJoined(){return this.state===z.joined}isJoining(){return this.state===z.joining}isLeaving(){return this.state===z.leaving}}const Sa="websocket",Ta="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Oa=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Ra="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Aa=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Ca="1.0.34",Pa={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},ka="https://github.com/theturtle32/WebSocket-Node",Ia={node:">=4.0.0"},Na={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},ja={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Ua={verbose:!1},Da={test:"tape test/unit/*.js",gulp:"gulp"},La="index",Fa={lib:"./lib"},Ma="lib/browser.js",$a="Apache-2.0";var Ga={name:Sa,description:Ta,keywords:Oa,author:Ra,contributors:Aa,version:Ca,repository:Pa,homepage:ka,engines:Ia,dependencies:Na,devDependencies:ja,config:Ua,scripts:Da,main:La,directories:Fa,browser:Ma,license:$a},Ba=Ga.version,we;if(typeof globalThis=="object")we=globalThis;else try{we=require("es5-ext/global")}catch{}finally{if(!we&&typeof window!="undefined"&&(we=window),!we)throw new Error("Could not determine global this")}var st=we.WebSocket||we.MozWebSocket,Va=Ba;function $n(t,e){var r;return e?r=new st(t,e):r=new st(t),r}st&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty($n,t,{get:function(){return st[t]}})});var Ha={w3cwebsocket:st?$n:null,version:Va};class qa{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}var za=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Wa=()=>{};class Xa{constructor(e,r){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=_a,this.params={},this.timeout=Fn,this.transport=Ha.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Wa,this.conn=null,this.sendBuffer=[],this.serializer=new qa,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${pr.websocket}`,(r==null?void 0:r.params)&&(this.params=r.params),(r==null?void 0:r.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),(r==null?void 0:r.timeout)&&(this.timeout=r.timeout),(r==null?void 0:r.logger)&&(this.logger=r.logger),(r==null?void 0:r.transport)&&(this.transport=r.transport),(r==null?void 0:r.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs),(r==null?void 0:r.longpollerTimeout)&&(this.longpollerTimeout=r.longpollerTimeout),this.reconnectAfterMs=(r==null?void 0:r.reconnectAfterMs)?r.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=(r==null?void 0:r.encode)?r.encode:(n,s)=>s(JSON.stringify(n)),this.decode=(r==null?void 0:r.decode)?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Mn(()=>za(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,r){return new Promise((n,s)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),n({error:null,data:!0})}catch(i){n({error:i,data:!1})}})}log(e,r,n){this.logger(e,r,n)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case nt.connecting:return"connecting";case nt.open:return"open";case nt.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.channels=this.channels.filter(r=>r.joinRef()!==e.joinRef())}channel(e,r={}){let n=new xa(e,r,this);return this.channels.push(n),n}push(e){let{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:s===(i==null?void 0:i.type)&&this._resetHeartbeat(),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a.isMember(n)).forEach(a=>a.trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ea}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e;try{this.channels.forEach(r=>{e&&r.updateJoinPayload({user_token:e}),r.joinedOnce&&r.isJoined()&&r.push(ee.access_token,{access_token:e})})}catch(r){console.log("setAuth error",r)}}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(ee.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs)}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(wa,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class Ja{constructor(e,r,n,s){const i={},o=s==="*"?`realtime:${n}`:`realtime:${n}:${s}`,a=r.Authorization.split(" ")[1];a&&(i.user_token=a),this.subscription=e.channel(o,i)}getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Dn(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Dn(e.columns,e.old_record)),r}on(e,r){return this.subscription.on(e,n=>{let s={schema:n.schema,table:n.table,commit_timestamp:n.commit_timestamp,eventType:n.type,new:{},old:{},errors:n.errors};s=Object.assign(Object.assign({},s),this.getPayloadRecords(n)),r(s)}),this}subscribe(e=()=>{}){return this.subscription.onError(r=>e("SUBSCRIPTION_ERROR",r)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",r=>e("SUBSCRIPTION_ERROR",r)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class Za extends Un{constructor(e,{headers:r={},schema:n,realtime:s,table:i,fetch:o}){super(e,{headers:r,schema:n,fetch:o});this._subscription=null,this._realtime=s,this._headers=r,this._schema=n,this._table=i}on(e,r){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new Ja(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,r)}}var it=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Qa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ya=(t,e)=>{if(typeof t.json!="function")return e(t);t.json().then(r=>e({message:Qa(r),status:(t==null?void 0:t.status)||500}))},Ka=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};function Pt(t=At,e,r,n,s,i){return it(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Ka(e,n,s,i)).then(c=>{if(!c.ok)throw c;return(n==null?void 0:n.noResolveJson)?o(c):c.json()}).then(c=>o(c)).catch(c=>Ya(c,a))})})}function vr(t,e,r,n){return it(this,void 0,void 0,function*(){return Pt(t,"GET",e,r,n)})}function ot(t,e,r,n,s){return it(this,void 0,void 0,function*(){return Pt(t,"POST",e,n,s,r)})}function eu(t,e,r,n,s){return it(this,void 0,void 0,function*(){return Pt(t,"PUT",e,n,s,r)})}function Gn(t,e,r,n,s){return it(this,void 0,void 0,function*(){return Pt(t,"DELETE",e,n,s,r)})}const tu="0.0.0",ru={"X-Client-Info":`storage-js/${tu}`};var Me=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};class nu{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},ru),r),this.fetch=n}listBuckets(){return Me(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createBucket(e,r={public:!1}){return Me(this,void 0,void 0,function*(){try{return{data:(yield ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public},{headers:this.headers})).name,error:null}}catch(n){return{data:null,error:n}}})}updateBucket(e,r){return Me(this,void 0,void 0,function*(){try{return{data:yield eu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}emptyBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}deleteBucket(e){return Me(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}}var me=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const su={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ou{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=s}uploadOrUpdate(e,r,n,s){return me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},iu),s),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob!="undefined"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl)):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const c=this._getFinalPath(r),l=yield At(`${this.url}/object/${c}`,{method:e,body:i,headers:a});if(l.ok)return{data:{Key:c},error:null};{const u=yield l.json();return{data:null,error:u}}}catch(i){return{data:null,error:i}}})}upload(e,r,n){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}update(e,r,n){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r){return me(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}createSignedUrl(e,r){return me(this,void 0,void 0,function*(){try{const n=this._getFinalPath(e);let s=yield ot(this.fetch,`${this.url}/object/sign/${n}`,{expiresIn:r},{headers:this.headers});const i=`${this.url}${s.signedURL}`;return s={signedURL:i},{data:s,error:null,signedURL:i}}catch(n){return{data:null,error:n,signedURL:null}}})}download(e){return me(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);return{data:yield(yield vr(this.fetch,`${this.url}/object/${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(r){return{data:null,error:r}}})}getPublicUrl(e){try{const r=this._getFinalPath(e),n=`${this.url}/object/public/${r}`;return{data:{publicURL:n},error:null,publicURL:n}}catch(r){return{data:null,error:r,publicURL:null}}}remove(e){return me(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}list(e,r,n){return me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},su),r),{prefix:e||""});return{data:yield ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){return{data:null,error:s}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}}class au extends nu{constructor(e,r={},n){super(e,r,n)}from(e){return new ou(this.url,this.headers,e,this.fetch)}}var yr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const uu={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:In};class lu{constructor(e,r,n){if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");e=$o(e);const s=Object.assign(Object.assign({},uu),n);this.restUrl=`${e}/rest/v1`,this.realtimeUrl=`${e}/realtime/v1`.replace("http","ws"),this.authUrl=`${e}/auth/v1`,this.storageUrl=`${e}/storage/v1`,this.schema=s.schema,this.multiTab=s.multiTab,this.fetch=s.fetch,this.headers=Object.assign(Object.assign({},In),n==null?void 0:n.headers),this.auth=this._initSupabaseAuthClient(s),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},s.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get storage(){return new au(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){const r=`${this.restUrl}/${e}`;return new Za(r,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch})}rpc(e,r,{head:n=!1,count:s=null}={}){return this._initPostgRESTClient().rpc(e,r,{head:n,count:s})}removeAllSubscriptions(){return yr(this,void 0,void 0,function*(){const e=this.realtime.channels.slice();return yield Promise.allSettled(e.map(r=>this.removeSubscription(r)))})}removeSubscription(e){return new Promise(r=>yr(this,void 0,void 0,function*(){try{yield this._closeSubscription(e);const n=this.getSubscriptions(),s=n.filter(i=>i.isJoined()).length;if(!n.length){const{error:i}=yield this.realtime.disconnect();if(i)return r({error:i})}return r({error:null,data:{openSubscriptions:s}})}catch(n){return r({error:n})}}))}_closeSubscription(e){return yr(this,void 0,void 0,function*(){return e.isClosed()||(yield this._closeChannel(e)),new Promise(r=>(this.realtime.remove(e),r(!0)))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,localStorage:s,headers:i,fetch:o}){const a={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aa({url:this.authUrl,headers:Object.assign(Object.assign({},i),a),autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,localStorage:s,fetch:o})}_initRealtimeClient(e){return new Xa(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e==null?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new fa(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch})}_getAuthHeaders(){var e,r;const n=this.headers,s=(r=(e=this.auth.session())===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey;return n.apikey=this.supabaseKey,n.Authorization=`Bearer ${s}`,n}_closeChannel(e){return new Promise((r,n)=>{e.unsubscribe().receive("ok",()=>r(!0)).receive("error",s=>n(s))})}_listenForMultiTabEvents(){if(!this.multiTab||!Go()||!(window==null?void 0:window.addEventListener))return null;try{return window==null?void 0:window.addEventListener("storage",e=>{var r,n,s;if(e.key===Mo){const i=JSON.parse(String(e.newValue)),o=(n=(r=i==null?void 0:i.currentSession)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0,a=(s=this.auth.session())===null||s===void 0?void 0:s.access_token;o?!a&&o?this._handleTokenChanged("SIGNED_IN",o,"STORAGE"):a!==o&&this._handleTokenChanged("TOKEN_REFRESHED",o,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",o,"STORAGE")}})}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,n==null?void 0:n.access_token,"CLIENT")});return e}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r),n=="STORAGE"&&this.auth.setAuth(r),this.changedAccessToken=r):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.removeAllSubscriptions(),n=="STORAGE"&&this.auth.signOut())}}const Qu=(t,e,r)=>new lu(t,e,r);/*!
 * css-vars-ponyfill
 * v2.4.7
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function W(){return W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W.apply(this,arguments)}/*!
 * get-css-data
 * v2.0.2
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function Bn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={mimeType:e.mimeType||null,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},n=Array.isArray(t)?t:[t],s=Array.apply(null,Array(n.length)).map(function(l){return null});function i(l){var u=typeof l=="string",h=u&&l.trim().charAt(0)==="<";return u&&!h}function o(l,u){r.onError(l,n[u],u)}function a(l,u){var h=r.onSuccess(l,n[u],u);l=h===!1?"":h||l,s[u]=l,s.indexOf(null)===-1&&r.onComplete(s)}var c=document.createElement("a");n.forEach(function(l,u){c.setAttribute("href",l),c.href=String(c.href);var h=Boolean(document.all&&!window.atob),d=h&&c.host.split(":")[0]!==location.host.split(":")[0];if(d){var p=c.protocol===location.protocol;if(p){var m=new XDomainRequest;m.open("GET",l),m.timeout=0,m.onprogress=Function.prototype,m.ontimeout=Function.prototype,m.onload=function(){var _=m.responseText;i(_)?a(_,u):o(m,u)},m.onerror=function(_){o(m,u)},setTimeout(function(){m.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(l,")")),o(null,u)}else{var y=new XMLHttpRequest;y.open("GET",l),r.mimeType&&y.overrideMimeType&&y.overrideMimeType(r.mimeType),r.onBeforeSend(y,l,u),y.onreadystatechange=function(){if(y.readyState===4){var _=y.responseText;y.status<400&&i(_)||y.status===0&&i(_)?a(_,u):o(y,u)}},y.send()}})}/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function Vn(t){var e={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},r={rootElement:t.rootElement||document,include:t.include||'style,link[rel="stylesheet"]',exclude:t.exclude||null,filter:t.filter||null,skipDisabled:t.skipDisabled!==!1,useCSSOM:t.useCSSOM||!1,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},n=Array.apply(null,r.rootElement.querySelectorAll(r.include)).filter(function(l){return!cu(l,r.exclude)}),s=Array.apply(null,Array(n.length)).map(function(l){return null});function i(){var l=s.indexOf(null)===-1;if(l){s.reduce(function(h,d,p){return d===""&&h.push(p),h},[]).reverse().forEach(function(h){return[n,s].forEach(function(d){return d.splice(h,1)})});var u=s.join("");r.onComplete(u,s,n)}}function o(l,u,h,d){var p=r.onSuccess(l,h,d);l=p!==void 0&&Boolean(p)===!1?"":p||l,c(l,h,d,function(m,y){s[u]===null&&(y.forEach(function(_){return r.onError(_.xhr,h,_.url)}),!r.filter||r.filter.test(m)?s[u]=m:s[u]="",i())})}function a(l,u){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],d={};return d.rules=(l.replace(e.cssComments,"").match(e.cssImports)||[]).filter(function(p){return h.indexOf(p)===-1}),d.urls=d.rules.map(function(p){return p.replace(e.cssImports,"$1")}),d.absoluteUrls=d.urls.map(function(p){return br(p,u)}),d.absoluteRules=d.rules.map(function(p,m){var y=d.urls[m],_=br(d.absoluteUrls[m],u);return p.replace(y,_)}),d}function c(l,u,h,d){var p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],y=a(l,h,m);y.rules.length?Bn(y.absoluteUrls,{onBeforeSend:function(x,S,O){r.onBeforeSend(x,u,S)},onSuccess:function(x,S,O){var I=r.onSuccess(x,u,S);x=I===!1?"":I||x;var R=a(x,S,m);return R.rules.forEach(function(C,w){x=x.replace(C,R.absoluteRules[w])}),x},onError:function(x,S,O){p.push({xhr:x,url:S}),m.push(y.rules[O]),c(l,u,h,d,p,m)},onComplete:function(x){x.forEach(function(S,O){l=l.replace(y.rules[O],S)}),c(l,u,h,d,p,m)}}):d(l,p)}n.length?n.forEach(function(l,u){var h=l.getAttribute("href"),d=l.getAttribute("rel"),p=l.nodeName.toLowerCase()==="link"&&h&&d&&d.toLowerCase().indexOf("stylesheet")!==-1,m=r.skipDisabled===!1?!1:l.disabled,y=l.nodeName.toLowerCase()==="style";if(p&&!m)Bn(h,{mimeType:"text/css",onBeforeSend:function(S,O,I){r.onBeforeSend(S,l,O)},onSuccess:function(S,O,I){var R=br(h);o(S,u,l,R)},onError:function(S,O,I){s[u]="",r.onError(S,l,O),i()}});else if(y&&!m){var _=l.textContent;r.useCSSOM&&(_=Array.apply(null,l.sheet.cssRules).map(function(x){return x.cssText}).join("")),o(_,u,l,location.href)}else s[u]="",i()}):r.onComplete("",[])}function br(t,e){var r=document.implementation.createHTMLDocument(""),n=r.createElement("base"),s=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(s),n.href=e||document.baseURI||(document.querySelector("base")||{}).href||location.href,s.href=t,s.href}function cu(t,e){var r=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return r.call(t,e)}var Hn=qn;function qn(t,e,r){t instanceof RegExp&&(t=zn(t,r)),e instanceof RegExp&&(e=zn(e,r));var n=Wn(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function zn(t,e){var r=e.match(t);return r?r[0]:null}qn.range=Wn;function Wn(t,e,r){var n,s,i,o,a,c=r.indexOf(t),l=r.indexOf(e,c+1),u=c;if(c>=0&&l>0){if(t===e)return[c,l];for(n=[],i=r.length;u>=0&&!a;)u==c?(n.push(u),c=r.indexOf(t,u+1)):n.length==1?a=[n.pop(),l]:(s=n.pop(),s<i&&(i=s,o=l),l=r.indexOf(e,u+1)),u=c<l&&c>=0?c:l;n.length&&(a=[i,o])}return a}function _r(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={preserveStatic:!0,removeComments:!1},n=W({},r,e),s=[];function i(v){throw new Error("CSS parse error: ".concat(v))}function o(v){var f=v.exec(t);if(f)return t=t.slice(f[0].length),f}function a(){return o(/^{\s*/)}function c(){return o(/^}/)}function l(){o(/^\s*/)}function u(){if(l(),!(t[0]!=="/"||t[1]!=="*")){for(var v=2;t[v]&&(t[v]!=="*"||t[v+1]!=="/");)v++;if(!t[v])return i("end of comment is missing");var f=t.slice(2,v);return t=t.slice(v+2),{type:"comment",comment:f}}}function h(){for(var v=[],f;f=u();)v.push(f);return n.removeComments?[]:v}function d(){for(l();t[0]==="}";)i("extra closing bracket");var v=o(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(v){var f=v[0].trim(),g,E=/\/\*/.test(f);E&&(f=f.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var U=/["']\w*,\w*["']/.test(f);U&&(f=f.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(k){return k.replace(/,/g,"\u200C")}));var M=/,/.test(f);return M?g=f.split(/\s*(?![^(]*\)),\s*/):g=[f],U&&(g=g.map(function(k){return k.replace(/\u200C/g,",")})),g}}function p(){if(t[0]==="@")return $();o(/^([;\s]*)+/);var v=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,f=o(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(!!f){if(f=f[0].trim(),!o(/^:\s*/))return i("property missing ':'");var g=o(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),E={type:"declaration",property:f.replace(v,""),value:g?g[0].replace(v,"").trim():""};return o(/^[;\s]*/),E}}function m(){if(!a())return i("missing '{'");for(var v,f=h();v=p();)f.push(v),f=f.concat(h());return c()?f:i("missing '}'")}function y(){l();for(var v=[],f;f=o(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)v.push(f[1]),o(/^,\s*/);if(v.length)return{type:"keyframe",values:v,declarations:m()}}function _(){var v=o(/^@([-\w]+)?keyframes\s*/);if(!!v){var f=v[1];if(v=o(/^([-\w]+)\s*/),!v)return i("@keyframes missing name");var g=v[1];if(!a())return i("@keyframes missing '{'");for(var E,U=h();E=y();)U.push(E),U=U.concat(h());return c()?{type:"keyframes",name:g,vendor:f,keyframes:U}:i("@keyframes missing '}'")}}function x(){var v=o(/^@page */);if(v){var f=d()||[];return{type:"page",selectors:f,declarations:m()}}}function S(){var v=o(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(v){var f="".concat(v[1],"-").concat(v[2])+(v[3]?"-".concat(v[3]):"");return{type:"page-margin-box",name:f,declarations:m()}}}function O(){var v=o(/^@font-face\s*/);if(v)return{type:"font-face",declarations:m()}}function I(){var v=o(/^@supports *([^{]+)/);if(v)return{type:"supports",supports:v[1].trim(),rules:Q()}}function R(){var v=o(/^@host\s*/);if(v)return{type:"host",rules:Q()}}function C(){var v=o(/^@media([^{]+)*/);if(v)return{type:"media",media:(v[1]||"").trim(),rules:Q()}}function w(){var v=o(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(v)return{type:"custom-media",name:v[1].trim(),media:v[2].trim()}}function N(){var v=o(/^@([-\w]+)?document *([^{]+)/);if(v)return{type:"document",document:v[2].trim(),vendor:v[1]?v[1].trim():null,rules:Q()}}function B(){var v=o(/^@(import|charset|namespace)\s*([^;]+);/);if(v)return{type:v[1],name:v[2].trim()}}function $(){if(l(),t[0]==="@"){var v=B()||O()||C()||_()||I()||N()||w()||R()||x()||S();if(v&&!n.preserveStatic){var f=!1;if(v.declarations)f=v.declarations.some(function(E){return/var\(/.test(E.value)});else{var g=v.keyframes||v.rules||[];f=g.some(function(E){return(E.declarations||[]).some(function(U){return/var\(/.test(U.value)})})}return f?v:{}}return v}}function b(){if(!n.preserveStatic){var v=Hn("{","}",t);if(v){var f=/:(?:root|host)(?![.:#(])/.test(v.pre)&&/--\S*\s*:/.test(v.body),g=/var\(/.test(v.body);if(!f&&!g)return t=t.slice(v.end+1),{}}}var E=d()||[],U=n.preserveStatic?m():m().filter(function(M){var k=E.some(function(ge){return/:(?:root|host)(?![.:#(])/.test(ge)})&&/^--\S/.test(M.property),Te=/var\(/.test(M.value);return k||Te});return E.length||i("selector missing"),{type:"rule",selectors:E,declarations:U}}function Q(v){if(!v&&!a())return i("missing '{'");for(var f,g=h();t.length&&(v||t[0]!=="}")&&(f=$()||b());)f.type&&g.push(f),g=g.concat(h());return!v&&!c()?i("missing '}'"):g}return{type:"stylesheet",stylesheet:{rules:Q(!0),errors:s}}}function Xn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={parseHost:!1,store:{},onWarning:function(){}},n=W({},r,e),s=new RegExp(":".concat(n.parseHost?"host":"root","$"));return typeof t=="string"&&(t=_r(t,n)),t.stylesheet.rules.forEach(function(i){i.type!=="rule"||!i.selectors.some(function(o){return s.test(o)})||i.declarations.forEach(function(o,a){var c=o.property,l=o.value;c&&c.indexOf("--")===0&&(n.store[c]=l)})}),n.store}function Jn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n={charset:function(o){return"@charset "+o.name+";"},comment:function(o){return o.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+o.comment+"*/":""},"custom-media":function(o){return"@custom-media "+o.name+" "+o.media+";"},declaration:function(o){return o.property+":"+o.value+";"},document:function(o){return"@"+(o.vendor||"")+"document "+o.document+"{"+s(o.rules)+"}"},"font-face":function(o){return"@font-face{"+s(o.declarations)+"}"},host:function(o){return"@host{"+s(o.rules)+"}"},import:function(o){return"@import "+o.name+";"},keyframe:function(o){return o.values.join(",")+"{"+s(o.declarations)+"}"},keyframes:function(o){return"@"+(o.vendor||"")+"keyframes "+o.name+"{"+s(o.keyframes)+"}"},media:function(o){return"@media "+o.media+"{"+s(o.rules)+"}"},namespace:function(o){return"@namespace "+o.name+";"},page:function(o){return"@page "+(o.selectors.length?o.selectors.join(", "):"")+"{"+s(o.declarations)+"}"},"page-margin-box":function(o){return"@"+o.name+"{"+s(o.declarations)+"}"},rule:function(o){var a=o.declarations;if(a.length)return o.selectors.join(",")+"{"+s(a)+"}"},supports:function(o){return"@supports "+o.supports+"{"+s(o.rules)+"}"}};function s(i){for(var o="",a=0;a<i.length;a++){var c=i[a];r&&r(c);var l=n[c.type](c);l&&(o+=l,l.length&&c.selectors&&(o+=e))}return o}return s(t.stylesheet.rules)}function Zn(t,e){t.rules.forEach(function(r){if(r.rules){Zn(r,e);return}if(r.keyframes){r.keyframes.forEach(function(n){n.type==="keyframe"&&e(n.declarations,r)});return}!r.declarations||e(r.declarations,t)})}var hu="--",fu="var";function du(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},n=W({},r,e);return typeof t=="string"&&(t=_r(t,n)),Zn(t.stylesheet,function(s,i){for(var o=0;o<s.length;o++){var a=s[o],c=a.type,l=a.property,u=a.value;if(c==="declaration"){if(!n.preserveVars&&l&&l.indexOf(hu)===0){s.splice(o,1),o--;continue}if(u.indexOf(fu+"(")!==-1){var h=at(u,n);h!==a.value&&(h=mu(h),n.preserveVars?(s.splice(o,0,{type:c,property:l,value:h}),o++):a.value=h)}}}}),Jn(t)}function mu(t){var e=/calc\(([^)]+)\)/g;return(t.match(e)||[]).forEach(function(r){var n="calc".concat(r.split("calc").join(""));t=t.replace(r,n)}),t}function at(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(t.indexOf("var(")===-1)return t;var n=Hn("(",")",t);function s(o){var a=o.split(",")[0].replace(/[\s\n\t]/g,""),c=(o.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],l=Object.prototype.hasOwnProperty.call(e.variables,a)?String(e.variables[a]):void 0,u=l||(c?String(c):void 0),h=r||o;return l||e.onWarning('variable "'.concat(a,'" is undefined')),u&&u!=="undefined"&&u.length>0?at(u,e,h):"var(".concat(h,")")}if(n)if(n.pre.slice(-3)==="var"){var i=n.body.trim().length===0;return i?(e.onWarning("var() must contain a non-whitespace string"),t):n.pre.slice(0,-3)+s(n.body)+at(n.post,e)}else return n.pre+"(".concat(at(n.body,e),")")+at(n.post,e);else return t.indexOf("var(")!==-1&&e.onWarning('missing closing ")" in the value "'.concat(t,'"')),t}var kt=typeof window!="undefined",Qn=kt&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),xe={group:0,job:0},It={rootElement:kt?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},ne={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},G={dom:{},job:{},user:{}},Nt=!1,Z=null,ut=0,Er=null,wr=!1;/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (—), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */function oe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e="cssVars(): ",r=W({},It,t);function n(u,h,d,p){!r.silent&&window.console&&console.error("".concat(e).concat(u,`
`),h),r.onError(u,h,d,p)}function s(u){!r.silent&&window.console&&console.warn("".concat(e).concat(u)),r.onWarning(u)}function i(u){r.onFinally(Boolean(u),Qn,xr()-r.__benchmark)}if(!!kt){if(r.watch){r.watch=It.watch,pu(r),oe(r);return}else r.watch===!1&&Z&&(Z.disconnect(),Z=null);if(!r.__benchmark){if(Nt===r.rootElement){gu(t);return}var o=[].slice.call(r.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(r.__benchmark=xr(),r.exclude=[Z?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",r.exclude].filter(function(u){return u}).join(","),r.variables=bu(r.variables),o.forEach(function(u){var h=u.nodeName.toLowerCase()==="style"&&u.__cssVars.text,d=h&&u.textContent!==u.__cssVars.text;h&&d&&(u.sheet&&(u.sheet.disabled=!1),u.setAttribute("data-cssvars",""))}),!Z){var a=[].slice.call(r.rootElement.querySelectorAll('[data-cssvars="out"]'));a.forEach(function(u){var h=u.getAttribute("data-cssvars-group"),d=h?r.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(h,'"]')):null;d||u.parentNode.removeChild(u)}),ut&&o.length<ut&&(ut=o.length,G.dom={})}}if(document.readyState!=="loading")if(Qn&&r.onlyLegacy){var c=!1;if(r.updateDOM){var l=r.rootElement.host||(r.rootElement===document?document.documentElement:r.rootElement);Object.keys(r.variables).forEach(function(u){var h=r.variables[u];c=c||h!==getComputedStyle(l).getPropertyValue(u),l.style.setProperty(u,h)})}i(c)}else!wr&&(r.shadowDOM||r.rootElement.shadowRoot||r.rootElement.host)?Vn({rootElement:It.rootElement,include:It.include,exclude:r.exclude,skipDisabled:!1,onSuccess:function(h,d,p){var m=(d.sheet||{}).disabled&&!d.__cssVars;return m?!1:(h=h.replace(ne.cssComments,"").replace(ne.cssMediaQueries,""),h=(h.match(ne.cssVarDeclRules)||[]).join(""),h||!1)},onComplete:function(h,d,p){Xn(h,{store:G.dom,onWarning:s}),wr=!0,oe(r)}}):(Nt=r.rootElement,Vn({rootElement:r.rootElement,include:r.include,exclude:r.exclude,skipDisabled:!1,onBeforeSend:r.onBeforeSend,onError:function(h,d,p){var m=h.responseURL||Yn(p,location.href),y=h.statusText?"(".concat(h.statusText,")"):"Unspecified Error"+(h.status===0?" (possibly CORS related)":""),_="CSS XHR Error: ".concat(m," ").concat(h.status," ").concat(y);n(_,d,h,m)},onSuccess:function(h,d,p){var m=(d.sheet||{}).disabled&&!d.__cssVars;if(m)return!1;var y=d.nodeName.toLowerCase()==="link",_=d.nodeName.toLowerCase()==="style"&&h!==d.textContent,x=r.onSuccess(h,d,p);return h=x!==void 0&&Boolean(x)===!1?"":x||h,r.updateURLs&&(y||_)&&(h=yu(h,p)),h},onComplete:function(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],m=W({},G.dom,G.user),y=!1;if(G.job={},p.forEach(function(w,N){var B=d[N];if(w.__cssVars=w.__cssVars||{},w.__cssVars.text=B,ne.cssVars.test(B))try{var $=_r(B,{preserveStatic:r.preserveStatic,removeComments:!0});Xn($,{parseHost:Boolean(r.rootElement.host),store:G.dom,onWarning:s}),w.__cssVars.tree=$}catch(b){n(b.message,w)}}),W(G.job,G.dom),r.updateDOM?(W(G.user,r.variables),W(G.job,G.user)):(W(G.job,G.user,r.variables),W(m,r.variables)),y=xe.job>0&&Boolean(Object.keys(G.job).length>Object.keys(m).length||Boolean(Object.keys(m).length&&Object.keys(G.job).some(function(w){return G.job[w]!==m[w]}))),y)Sr(r.rootElement),oe(r);else{var _=[],x=[],S=!1;if(r.updateDOM&&xe.job++,p.forEach(function(w,N){var B=!w.__cssVars.tree;if(w.__cssVars.tree)try{du(w.__cssVars.tree,W({},r,{variables:G.job,onWarning:s}));var $=Jn(w.__cssVars.tree);if(r.updateDOM){var b=d[N],Q=ne.cssVarFunc.test(b);if(w.getAttribute("data-cssvars")||w.setAttribute("data-cssvars","src"),$.length&&Q){var v=w.getAttribute("data-cssvars-group")||++xe.group,f=$.replace(/\s/g,""),g=r.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(v,'"]'))||document.createElement("style");S=S||ne.cssKeyframes.test($),r.preserveStatic&&w.sheet&&(w.sheet.disabled=!0),g.hasAttribute("data-cssvars")||g.setAttribute("data-cssvars","out"),f===w.textContent.replace(/\s/g,"")?(B=!0,g&&g.parentNode&&(w.removeAttribute("data-cssvars-group"),g.parentNode.removeChild(g))):f!==g.textContent.replace(/\s/g,"")&&([w,g].forEach(function(E){E.setAttribute("data-cssvars-job",xe.job),E.setAttribute("data-cssvars-group",v)}),g.textContent=$,_.push($),x.push(g),g.parentNode||w.parentNode.insertBefore(g,w.nextSibling))}}else w.textContent.replace(/\s/g,"")!==$&&_.push($)}catch(E){n(E.message,w)}B&&w.setAttribute("data-cssvars","skip"),w.hasAttribute("data-cssvars-job")||w.setAttribute("data-cssvars-job",xe.job)}),ut=r.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,r.shadowDOM){for(var O=[].concat(r.rootElement).concat([].slice.call(r.rootElement.querySelectorAll("*"))),I=0,R;R=O[I];++I)if(R.shadowRoot&&R.shadowRoot.querySelector("style")){var C=W({},r,{rootElement:R.shadowRoot});oe(C)}}r.updateDOM&&S&&vu(r.rootElement),Nt=!1,r.onComplete(_.join(""),x,JSON.parse(JSON.stringify(G.job)),xr()-r.__benchmark),i(x.length)}}}));else document.addEventListener("DOMContentLoaded",function u(h){oe(t),document.removeEventListener("DOMContentLoaded",u)})}}oe.reset=function(){xe.job=0,xe.group=0,Nt=!1,Z&&(Z.disconnect(),Z=null),ut=0,Er=null,wr=!1;for(var t in G)G[t]={}};function pu(t){function e(c){var l=r(c)&&c.hasAttribute("disabled"),u=(c.sheet||{}).disabled;return l||u}function r(c){var l=c.nodeName.toLowerCase()==="link"&&(c.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return l}function n(c){return c.nodeName.toLowerCase()==="style"}function s(c){var l=!1;if(c.type==="attributes"&&r(c.target)&&!e(c.target)){var u=c.attributeName==="disabled",h=c.attributeName==="href",d=c.target.getAttribute("data-cssvars")==="skip",p=c.target.getAttribute("data-cssvars")==="src";u?l=!d&&!p:h&&(d?c.target.setAttribute("data-cssvars",""):p&&Sr(t.rootElement,!0),l=!0)}return l}function i(c){var l=!1;if(c.type==="childList"){var u=n(c.target),h=c.target.getAttribute("data-cssvars")==="out";l=u&&!h}return l}function o(c){var l=!1;return c.type==="childList"&&(l=[].slice.call(c.addedNodes).some(function(u){var h=u.nodeType===1,d=h&&u.hasAttribute("data-cssvars"),p=n(u)&&ne.cssVars.test(u.textContent),m=!d&&(r(u)||p);return m&&!e(u)})),l}function a(c){var l=!1;return c.type==="childList"&&(l=[].slice.call(c.removedNodes).some(function(u){var h=u.nodeType===1,d=h&&u.getAttribute("data-cssvars")==="out",p=h&&u.getAttribute("data-cssvars")==="src",m=p;if(p||d){var y=u.getAttribute("data-cssvars-group"),_=t.rootElement.querySelector('[data-cssvars-group="'.concat(y,'"]'));p&&Sr(t.rootElement,!0),_&&_.parentNode.removeChild(_)}return m})),l}!window.MutationObserver||(Z&&(Z.disconnect(),Z=null),Z=new MutationObserver(function(c){var l=c.some(function(u){return s(u)||i(u)||o(u)||a(u)});l&&oe(t)}),Z.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function gu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(Er),Er=setTimeout(function(){t.__benchmark=null,oe(t)},e)}function vu(t){var e=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(d){return getComputedStyle(document.body)[d]})[0];if(e){for(var r=t.getElementsByTagName("*"),n=[],s="__CSSVARSPONYFILL-KEYFRAMES__",i=0,o=r.length;i<o;i++){var a=r[i],c=getComputedStyle(a)[e];c!=="none"&&(a.style[e]+=s,n.push(a))}document.body.offsetHeight;for(var l=0,u=n.length;l<u;l++){var h=n[l].style;h[e]=h[e].replace(s,"")}}}function yu(t,e){var r=t.replace(ne.cssComments,"").match(ne.cssUrls)||[];return r.forEach(function(n){var s=n.replace(ne.cssUrls,"$1"),i=Yn(s,e);t=t.replace(n,n.replace(s,i))}),t}function bu(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=/^-{2}/;return Object.keys(t).reduce(function(r,n){var s=e.test(n)?n:"--".concat(n.replace(/^-+/,""));return r[s]=t[n],r},{})}function Yn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,r=document.implementation.createHTMLDocument(""),n=r.createElement("base"),s=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(s),n.href=e,s.href=t,s.href}function xr(){return kt&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function Sr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=[].slice.call(t.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));r.forEach(function(n){return n.setAttribute("data-cssvars","")}),e&&(G.dom={})}const $e={primary:"#0DB293",primaryLight:"#75D0B8",secondary:"#00D9D5",success:"#33FF2F",danger:"#FF002E",warning:"#F2DF0F",info:"#3A74E7",brand:"#28DB98",dusk:"#414D6B",red:"#FF728D",orange:"#F6A623",yellow:"#EED100",green:"#24CD97",blue:"#679EFF",purple:"#B669F9",light:"#EDEDED"},_u=Object.assign(Object.assign({},$e),{paper:"#F2F5F6",disabled:"#C4C4C4",background:"#FFFFFF",placeholder:"#6D6D6D",text:"#000000",textLight:"#1B1B1B",textContrast:"#FFFFFF",main:$e.primary,mainDark:$e.primaryLight,card:"#FFFFFF",link:"#8E9095",border:"#D3D4D5",authBackgroundLight:"#17b87c",authBackgroundDark:"#01886f"}),Eu=Object.assign(Object.assign({},$e),{paper:"#2A2A2A",disabled:"#515151",background:"#000000",placeholder:"#6D6D6D",text:"#FFFFFF",textLight:"#D3D3D3",textContrast:"#FFFFFF",main:$e.primaryLight,mainDark:$e.primary,card:"#1C1C1C",link:"#B5B7BC",border:"#343536",authBackgroundLight:"#17b87c",authBackgroundDark:"#01886f"}),Kn={light:_u,dark:Eu};function wu(t){let e;const r=t[4].default,n=ft(r,t,t[3],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,[i]){n&&n.p&&(!e||i&8)&&mt(n,r,s,s[3],e?dt(r,s[3],i,null):pt(s[3]),null)},i(s){e||(L(n,s),e=!0)},o(s){V(n,s),e=!1},d(s){n&&n.d(s)}}}function xu(t,e,r){let n,{$$slots:s={},$$scope:i}=e,{initialThemeType:o="light"}=e,{customTheme:a={}}=e;const c={light:Object.assign(Object.assign({},Kn.light),a==null?void 0:a.light),dark:Object.assign(Object.assign({},Kn.dark),a==null?void 0:a.dark)};window.matchMedia("(prefers-color-scheme: dark)").matches&&(o="dark");const u=le({themeType:o,theme:c[o],changeThemeType:()=>{}});ss(t,u,p=>r(5,n=p));const h=p=>{Object.entries(p).forEach(([m,y])=>{const x=`--${(I=>I.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase())(m)}`,O=(I=>{const R=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return I.replace(R,(w,N,B,$)=>`#${N}${N}${B}${B}${$}${$}`).substring(1).match(/.{2}/g).map(w=>parseInt(w,16)).join(",")})(y);document.documentElement.style.setProperty(x,y),document.documentElement.style.setProperty(x+"-rgb",O)})},d=p=>{u.update(({themeType:m})=>{const y=p||(m==="light"?"dark":"light");return h(c[y]),Object.assign(Object.assign({},n),{themeType:y,theme:c[y]})})};return Gt("svelte-theme",{theme:n.theme,themeType:n.themeType,changeThemeType:d}),fs(()=>{h(n.theme)}),t.$$set=p=>{"initialThemeType"in p&&r(1,o=p.initialThemeType),"customTheme"in p&&r(2,a=p.customTheme),"$$scope"in p&&r(3,i=p.$$scope)},[u,o,a,i,s]}class Yu extends We{constructor(e){super();ze(this,e,xu,wu,Re,{initialThemeType:1,customTheme:2})}}oe();export{Vu as $,Ce as A,Pe as B,ft as C,mt as D,pt as E,dt as F,Ru as G,Fu as H,Hu as I,Mu as J,Ft as K,Ou as L,Ae as M,cs as N,fs as O,Zu as P,Pu as Q,zu as R,We as S,Yu as T,Oe as U,Ur as V,ju as W,qu as X,Xu as Y,Ju as Z,Iu as _,Cu as a,Lu as a0,Nu as a1,ds as a2,Mt as a3,$u as a4,Bu as a5,Gu as a6,Nr as a7,Au as a8,be as b,Qu as c,Uu as d,$t as e,ie as f,ae as g,V as h,ze as i,re as j,ue as k,gt as l,Si as m,te as n,us as o,is as p,ss as q,Wu as r,Re as s,L as t,No as u,jr as v,le as w,Du as x,Tu as y,ku as z};

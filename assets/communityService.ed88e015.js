var c=Object.defineProperty;var a=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;var i=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t)=>{for(var r in t||(t={}))m.call(t,r)&&i(e,r,t[r]);if(a)for(var r of a(t))u.call(t,r)&&i(e,r,t[r]);return e};import{s as n}from"./index.7deb0ca2.js";const f=async(e,t)=>{if(!e||!t)return console.error("no userId or community"),null;try{const{data:r,error:o}=await n.from("Community").insert([s({},t)]).single();if(o)throw o;return r&&await n.from("Permission").insert([{communityId:r.id,type:"owner",userId:e}]),r}catch(r){return console.error(r),null}},y=async(e,t)=>{try{const{data:r,error:o}=await n.from("Community").select().match({isPublic:!0}).lt("createdAt",e||new Date().toISOString()).order("createdAt",{ascending:!1}).limit(t||10);if(o)throw o;return r}catch(r){return console.error(r),null}};export{f as c,y as g};

import{S as le,i as se,s as ae,a as oe,e as g,o as b,v as x,b as L,y as M,d as r,N as h,f as S,p as o,g as P,x as C,t as W,h as A,j,k as K,q as re,X as pe,O as ce,n as ee}from"./vendor.1d230e25.js";import{s as te}from"./index.dbccf177.js";import{d as fe,e as ge,f as me,b as ue}from"./icons.ca554e64.js";import{B as ne}from"./button.cb2f4eae.js";import{E as ie}from"./edit-text.654e46e9.js";function de(n){oe(n,"svelte-h3likp",`.social-button{font-size:14px;align-self:stretch;background-color:var(--paper) !important}.container.svelte-h3likp.svelte-h3likp{background:linear-gradient(
      136.71deg,
      var(--auth-background-light) 21.32%,
      var(--auth-background-dark) 96.51%
    );grid-template-columns:1fr;grid-template-rows:1fr;display:-webkit-box;display:-ms-flexbox;display:flex;align-items:center;justify-content:center}.container.svelte-h3likp .link.svelte-h3likp{font-size:14px;text-decoration:underline;color:var(--link);display:-webkit-box;display:-ms-flexbox;display:flex;align-items:center}.container.svelte-h3likp form.svelte-h3likp{padding:60px 70px;width:60%;height:654px;background-color:var(--background);box-shadow:0px 24px 42px rgba(0, 0, 0, .08);border-radius:16px;max-height:654px;max-width:640px;align-self:center;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;justify-content:center;align-items:center
    }@media(max-width: 640px){.container.svelte-h3likp form.svelte-h3likp{max-height:100%;height:100%;flex:1;align-self:stretch;border-radius:0;padding:0
    }}.container.svelte-h3likp form .container-options.svelte-h3likp{align-self:stretch;margin:0 10%;margin-top:8px;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:row;justify-content:space-between}.container.svelte-h3likp form .container-options a.svelte-h3likp:first-child{text-align:left}.container.svelte-h3likp form.svelte-h3likp .input-wrapper{grid-template-columns:-webkit-min-content 1fr;grid-template-columns:min-content 1fr}`)}function he(n){let e,t;return{c(){e=g("img"),r(e,"slot","leftElement"),h(e,"margin","0 16px"),M(e.src,t=fe)||r(e,"src",t),r(e,"alt","mail")},m(s,i){S(s,e,i)},p:ee,d(s){s&&j(e)}}}function _e(n){let e,t;return{c(){e=g("img"),r(e,"slot","leftElement"),M(e.src,t=ge)||r(e,"src",t),r(e,"alt","mail"),h(e,"margin","0 16px")},m(s,i){S(s,e,i)},p:ee,d(s){s&&j(e)}}}function be(n){let e,t=n[1]("sign_in")+"",s;return{c(){e=g("div"),s=x(t),r(e,"class","text body3"),h(e,"font-weight","500"),h(e,"color","white")},m(i,f){S(i,e,f),o(e,s)},p(i,f){f&2&&t!==(t=i[1]("sign_in")+"")&&C(s,t)},d(i){i&&j(e)}}}function ke(n){let e,t,s,i,f=n[1]("auth.sign-in.sign_in_with_facebook")+"",m;return{c(){e=g("img"),s=b(),i=g("div"),m=x(f),h(e,"margin-right","15px"),M(e.src,t=me)||r(e,"src",t),r(e,"alt","facebook"),r(i,"class","text body3"),h(i,"font-weight","500"),h(i,"color","white")},m(c,u){S(c,e,u),S(c,s,u),S(c,i,u),o(i,m)},p(c,u){u&2&&f!==(f=c[1]("auth.sign-in.sign_in_with_facebook")+"")&&C(m,f)},d(c){c&&j(e),c&&j(s),c&&j(i)}}}function ve(n){let e,t,s,i,f,m,c=n[1]("login")+"",u,N,_,O,a,z,d,k,I=n[1]("auth.sign-in.do_not_have_account")+"",X,Q,R,E,q=n[1]("auth.sign-in.forgot_your_password")+"",D,T,U,v,V,$,Y,y,B=n[1]("auth.sign-in.look_around")+"",G,w;return _=new ie({props:{containerStyle:"width: 80%; margin-bottom: 8px",inputStyle:"font-size: 14px;",type:"email",placeholder:n[1]("auth.sign-in.email_hint"),$$slots:{leftElement:[he]},$$scope:{ctx:n}}}),_.$on("changed",n[3]),a=new ie({props:{containerStyle:"width: 80%;",inputStyle:"font-size: 14px;",type:"password",placeholder:n[1]("auth.sign-in.pw_hint"),$$slots:{leftElement:[_e]},$$scope:{ctx:n}}}),a.$on("changed",n[4]),v=new ne({props:{primary:!0,style:"align-self: stretch; margin: 40px 10% 10px 10%",disabled:n[0],loading:n[0],$$slots:{default:[be]},$$scope:{ctx:n}}}),v.$on("click",n[5]),$=new ne({props:{style:n[2],$$slots:{default:[ke]},$$scope:{ctx:n}}}),$.$on("click",n[6]),{c(){e=g("div"),t=g("form"),s=g("img"),f=b(),m=g("h1"),u=x(c),N=b(),L(_.$$.fragment),O=b(),L(a.$$.fragment),z=b(),d=g("div"),k=g("a"),X=x(I),Q=x("?"),R=b(),E=g("a"),D=x(q),T=x("?"),U=b(),L(v.$$.fragment),V=b(),L($.$$.fragment),Y=b(),y=g("a"),G=x(B),M(s.src,i=ue)||r(s,"src",i),r(s,"alt","logo"),h(m,"margin-bottom","60px"),r(k,"class","link svelte-h3likp"),r(k,"href","/auth/sign-up"),r(E,"class","link svelte-h3likp"),r(E,"href","/auth/find-pw"),r(d,"class","container-options svelte-h3likp"),r(y,"class","link svelte-h3likp"),r(y,"href","/#"),h(y,"margin-top","14px"),h(y,"text-decoration","underline",1),r(t,"class","svelte-h3likp"),r(e,"class","container svelte-h3likp")},m(l,p){S(l,e,p),o(e,t),o(t,s),o(t,f),o(t,m),o(m,u),o(t,N),P(_,t,null),o(t,O),P(a,t,null),o(t,z),o(t,d),o(d,k),o(k,X),o(k,Q),o(d,R),o(d,E),o(E,D),o(E,T),o(t,U),P(v,t,null),o(t,V),P($,t,null),o(t,Y),o(t,y),o(y,G),w=!0},p(l,[p]){(!w||p&2)&&c!==(c=l[1]("login")+"")&&C(u,c);const H={};p&2&&(H.placeholder=l[1]("auth.sign-in.email_hint")),p&512&&(H.$$scope={dirty:p,ctx:l}),_.$set(H);const J={};p&2&&(J.placeholder=l[1]("auth.sign-in.pw_hint")),p&512&&(J.$$scope={dirty:p,ctx:l}),a.$set(J),(!w||p&2)&&I!==(I=l[1]("auth.sign-in.do_not_have_account")+"")&&C(X,I),(!w||p&2)&&q!==(q=l[1]("auth.sign-in.forgot_your_password")+"")&&C(D,q);const F={};p&1&&(F.disabled=l[0]),p&1&&(F.loading=l[0]),p&514&&(F.$$scope={dirty:p,ctx:l}),v.$set(F);const Z={};p&514&&(Z.$$scope={dirty:p,ctx:l}),$.$set(Z),(!w||p&2)&&B!==(B=l[1]("auth.sign-in.look_around")+"")&&C(G,B)},i(l){w||(W(_.$$.fragment,l),W(a.$$.fragment,l),W(v.$$.fragment,l),W($.$$.fragment,l),w=!0)},o(l){A(_.$$.fragment,l),A(a.$$.fragment,l),A(v.$$.fragment,l),A($.$$.fragment,l),w=!1},d(l){l&&j(e),K(_),K(a),K(v),K($)}}}function $e(n,e,t){let s;re(n,pe,a=>t(1,s=a));let i=!1,f,m;const c=`
    align-self: stretch;
    border-radius: 4px;
    background-color: #375A93;
    color: var(--textContrast);
    margin-bottom: 12px;
    margin: 0 10%;

    display:flex;
    flex-direction: row;
    justify-content: center;
    align-items:center;
  `;return ce(async()=>{}),[i,s,c,a=>{f=a.detail},a=>{m=a.detail},async()=>{try{t(0,i=!0);const{error:a}=await te.auth.signIn({email:f,password:m});if(a)throw a}catch(a){console.log(a)}finally{t(0,i=!1)}},async()=>{try{t(0,i=!0);const{user:a,session:z,error:d,url:k}=await te.auth.signIn({provider:"facebook"});//! Caveat: Run below code when supabase does not work as intended.
if(!a&&!d&&!z&&(window.open(k),window.close()),d)throw d}catch(a){console.log(a)}finally{t(0,i=!1)}}]}class Ee extends le{constructor(e){super();se(this,e,$e,ve,ae,{},de)}}export{Ee as default};

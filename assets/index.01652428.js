import{S as ee,i as te,s as ne,a as se,e as z,b as Q,d as h,f as O,g as T,t as p,h as y,j as U,k as W,n as le,M as ie,o as q,p as _,A as V,B as H,Q as D,y as F,H as I,N as oe,z as G,U as re,q as L,X as ce,u as ae,r as me,V as ue,O as fe,W as de}from"./vendor.b98bd16b.js";import{h as ge,i as he}from"./icons.68ec2dd0.js";import be from"./menu.7370a545.js";import pe from"./menu-add.868ad0cf.js";import _e from"./menu-list.05bf84da.js";import{u as ve}from"./index.0b6e20ed.js";import{i as ze}from"./communityService.1ed1528a.js";function ye(t){se(t,"svelte-1bmrczg",`a.svelte-1bmrczg.svelte-1bmrczg{text-decoration:none;color:inherit
  }a.svelte-1bmrczg.svelte-1bmrczg:hover{opacity:0.7}.container.svelte-1bmrczg.svelte-1bmrczg{height:100%;position:-webkit-sticky;position:sticky;overflow:auto;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;background-color:var(--background)}aside.svelte-1bmrczg.svelte-1bmrczg{min-width:56px;padding-left:8px;z-index:2;box-shadow:2px 8px 12px var(--box-shadow12)}section.svelte-1bmrczg.svelte-1bmrczg{position:fixed;left:70px;overflow:auto;background-color:var(--card);width:144px;box-shadow:2px 12px 12px var(--box-shadow02);transition:width 0.15s;transition-timing-function:ease-in-out}section.svelte-1bmrczg .footer.svelte-1bmrczg{height:8px;background-color:var(--background)}section.svelte-1bmrczg.svelte-1bmrczg{display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column
}@media(max-width: 640px){section.svelte-1bmrczg.svelte-1bmrczg{width:124px
  }}.close.svelte-1bmrczg.svelte-1bmrczg{visibility:hidden;width:0px}.close-arr.svelte-1bmrczg.svelte-1bmrczg{align-self:flex-end;padding:7px 12px;cursor:pointer}.menu-btn.svelte-1bmrczg.svelte-1bmrczg{height:33px;margin-top:5px;margin-right:8px;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:center;align-items:center}.hidden.svelte-1bmrczg.svelte-1bmrczg{visibility:hidden}`)}function J(t,s,e){const o=t.slice();return o[22]=s[e],o}function K(t,s,e){const o=t.slice();return o[25]=s[e],o}function R(t){let s,e,o,i;function b(){return t[15](t[25])}return e=new be({props:{community:t[25],selected:t[25].id===t[5]}}),e.$on("click",b),{c(){s=z("a"),Q(e.$$.fragment),h(s,"href",o=t[9]("/community/[id]",{id:t[25].id})),h(s,"class","svelte-1bmrczg")},m(n,c){O(n,s,c),T(e,s,null),i=!0},p(n,c){t=n;const r={};c&1&&(r.community=t[25]),c&33&&(r.selected=t[25].id===t[5]),e.$set(r),(!i||c&513&&o!==(o=t[9]("/community/[id]",{id:t[25].id})))&&h(s,"href",o)},i(n){i||(p(e.$$.fragment,n),i=!0)},o(n){y(e.$$.fragment,n),i=!1},d(n){n&&U(s),W(e)}}}function Y(t){let s,e;return s=new pe({}),s.$on("click",t[13]),{c(){Q(s.$$.fragment)},m(o,i){T(s,o,i),e=!0},p:le,i(o){e||(p(s.$$.fragment,o),e=!0)},o(o){y(s.$$.fragment,o),e=!1},d(o){W(s,o)}}}function Z(t){let s,e,o=t[6],i=[];for(let n=0;n<o.length;n+=1)i[n]=$(J(t,o,n));const b=n=>y(i[n],1,1,()=>{i[n]=null});return{c(){for(let n=0;n<i.length;n+=1)i[n].c();s=ie()},m(n,c){for(let r=0;r<i.length;r+=1)i[r].m(n,c);O(n,s,c),e=!0},p(n,c){if(c&2240){o=n[6];let r;for(r=0;r<o.length;r+=1){const w=J(n,o,r);i[r]?(i[r].p(w,c),p(i[r],1)):(i[r]=$(w),i[r].c(),p(i[r],1),i[r].m(s.parentNode,s))}for(V(),r=o.length;r<i.length;r+=1)b(r);H()}},i(n){if(!e){for(let c=0;c<o.length;c+=1)p(i[c]);e=!0}},o(n){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)y(i[c]);e=!1},d(n){D(i,n),n&&U(s)}}}function $(t){let s,e,o,i,b;return e=new _e({props:{menu:t[22],selectMenu:t[11],selected:t[22].path===t[7]}}),{c(){s=z("a"),Q(e.$$.fragment),o=q(),h(s,"href",i=t[22].path),h(s,"class","svelte-1bmrczg")},m(n,c){O(n,s,c),T(e,s,null),_(s,o),b=!0},p(n,c){const r={};c&64&&(r.menu=n[22]),c&192&&(r.selected=n[22].path===n[7]),e.$set(r),(!b||c&64&&i!==(i=n[22].path))&&h(s,"href",i)},i(n){b||(p(e.$$.fragment,n),b=!0)},o(n){y(e.$$.fragment,n),b=!1},d(n){n&&U(s),W(e)}}}function ke(t){let s,e,o,i,b,n,c,r,w,A,f,S,k,x,v,C,E,j,B,N,M=t[0],m=[];for(let a=0;a<M.length;a+=1)m[a]=R(K(t,M,a));const P=a=>y(m[a],1,1,()=>{m[a]=null});let l=t[8]&&Y(t),u=t[3]&&Z(t);return{c(){s=z("div"),e=z("aside"),o=z("div"),i=z("img"),n=q();for(let a=0;a<m.length;a+=1)m[a].c();c=q(),l&&l.c(),r=q(),w=z("div"),A=q(),f=z("section"),S=z("div"),k=z("img"),v=q(),u&&u.c(),C=q(),E=z("div"),F(i.src,b=ge)||h(i,"src",b),h(i,"alt","menu"),h(o,"class","menu-btn svelte-1bmrczg"),I(o,"hidden",t[2]),oe(w,"height","8px"),h(e,"class","svelte-1bmrczg"),F(k.src,x=he)||h(k,"src",x),h(k,"alt","menu"),h(S,"class","close-arr svelte-1bmrczg"),h(E,"class","footer svelte-1bmrczg"),h(f,"style",t[1]),h(f,"class","svelte-1bmrczg"),I(f,"close",!t[2]),h(s,"class","container svelte-1bmrczg")},m(a,d){O(a,s,d),_(s,e),_(e,o),_(o,i),_(e,n);for(let g=0;g<m.length;g+=1)m[g].m(e,null);_(e,c),l&&l.m(e,null),_(e,r),_(e,w),_(s,A),_(s,f),_(f,S),_(S,k),_(f,v),u&&u.m(f,null),_(f,C),_(f,E),t[16](f),j=!0,B||(N=[G(o,"click",t[10]),G(S,"click",t[10])],B=!0)},p(a,[d]){if(d&4&&I(o,"hidden",a[2]),d&4641){M=a[0];let g;for(g=0;g<M.length;g+=1){const X=K(a,M,g);m[g]?(m[g].p(X,d),p(m[g],1)):(m[g]=R(X),m[g].c(),p(m[g],1),m[g].m(e,c))}for(V(),g=M.length;g<m.length;g+=1)P(g);H()}a[8]?l?(l.p(a,d),d&256&&p(l,1)):(l=Y(a),l.c(),p(l,1),l.m(e,r)):l&&(V(),y(l,1,1,()=>{l=null}),H()),a[3]?u?(u.p(a,d),d&8&&p(u,1)):(u=Z(a),u.c(),p(u,1),u.m(f,C)):u&&(V(),y(u,1,1,()=>{u=null}),H()),(!j||d&2)&&h(f,"style",a[1]),d&4&&I(f,"close",!a[2])},i(a){if(!j){for(let d=0;d<M.length;d+=1)p(m[d]);p(l),p(u),j=!0}},o(a){m=m.filter(Boolean);for(let d=0;d<m.length;d+=1)y(m[d]);y(l),y(u),j=!1},d(a){a&&U(s),D(m,a),l&&l.d(),u&&u.d(),t[16](null),B=!1,re(N)}}}function we(t,s,e){let o,i,b,n,c;L(t,ce,l=>e(17,o=l)),L(t,ve,l=>e(8,i=l)),L(t,ae,l=>e(9,b=l)),L(t,me,l=>e(18,n=l)),L(t,ue,l=>e(19,c=l));let{communities:r}=s,{menuStyle:w=void 0}=s,{context:A}=s,f=!1,S=f,k,x=c.id;const v=[{name:o("community.sidebar.dashboard"),path:`/community/${x}`},{name:o("community.sidebar.feeds"),path:`/community/${x}/feeds`}];let C=v[0].path;const E=()=>e(2,f=!f),j=l=>{e(7,C=l)},B=l=>{const u=e(6,v[0].path=`/community/${l}`,v);e(6,v[1].path=`/community/${l}/feeds`,v),e(6,v[2].path=`/community/${l}/settings`,v),e(5,x=l),e(7,C=u),j(u)},N=()=>n(b("/community/create")),M=()=>{k.addEventListener("transitionend",()=>{e(3,S=f)})};fe(async()=>{await ze(x,(i==null?void 0:i.id)||"")&&v.push({name:o("community.sidebar.settings"),path:`/community/${x}/settings`}),M()});const m=l=>B(l.id);function P(l){de[l?"unshift":"push"](()=>{k=l,e(4,k)})}return t.$$set=l=>{"communities"in l&&e(0,r=l.communities),"menuStyle"in l&&e(1,w=l.menuStyle),"context"in l&&e(14,A=l.context)},[r,w,f,S,k,x,v,C,i,b,E,j,B,N,A,m,P]}class Ae extends ee{constructor(s){super();te(this,s,we,ke,ne,{communities:0,menuStyle:1,context:14},ye)}}export{Ae as default};

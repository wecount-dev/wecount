import{S as $e,i as ke,s as je,a as Re,e as i,d as c,N as W,f as m,p as r,n as Y,j as f,v as $,o as h,b as Z,g as ee,z as De,x as q,t as D,h as z,k as te,Q as Ke,A as Ne,B as We,q as qe,X as ze,O as Le}from"./vendor.b98bd16b.js";import{R as Me}from"./index.713fa5bd.js";import{d as oe}from"./functions.b4f8bb22.js";import{B as Oe}from"./button.ae34cc20.js";import{C as Pe}from"./community-card.22d99d03.js";import{b as Te}from"./communityService.8ed7e568.js";import"./icons.68ec2dd0.js";import"./user-image.be24a4b7.js";function Ae(l){Re(l,"svelte-1644i2x",".container.svelte-1644i2x{width:100%;height:10px;background-color:var(--disabled);border-radius:8px}.bar.svelte-1644i2x{background-color:var(--primary);height:10px;border-radius:8px;width:var(--percentage);transition:width 1s ease}")}function Ee(l){let o,n;return{c(){o=i("div"),n=i("div"),c(n,"class","bar svelte-1644i2x"),W(n,"--percentage",l[0]+"%"),c(o,"class","container svelte-1644i2x")},m(t,s){m(t,o,s),r(o,n)},p(t,[s]){s&1&&W(n,"--percentage",t[0]+"%")},i:Y,o:Y,d(t){t&&f(o)}}}function Qe(l,o,n){let{percentage:t=0}=o;return l.$$set=s=>{"percentage"in s&&n(0,t=s.percentage)},[t]}class Xe extends $e{constructor(o){super();ke(this,o,Qe,Ee,je,{percentage:0},Ae)}}function Fe(l){Re(l,"svelte-c7uooh",`.container.svelte-c7uooh.svelte-c7uooh{grid-area:summary;background-color:var(--card);padding:0 20px 12px 20px;border-radius:16px;display:grid;align-items:stretch;grid-auto-flow:row;grid-column-gap:40px;-moz-column-gap:40px;-webkit-column-gap:40px;grid-column-gap:40px;column-gap:40px;grid-template-columns:330px 1fr;grid-template-rows:repeat(5, 1fr);grid-template-areas:'title title'
      'card usage'
      'card usage'
      'card usage'
      'amount sponsor'
  }@media(max-width: 640px){.container.svelte-c7uooh.svelte-c7uooh{display:-webkit-box;display:-ms-flexbox;display:flex;flex-wrap:wrap;flex-direction:column;padding:12px 20px 28px 20px
  }}.container.svelte-c7uooh div.svelte-c7uooh{display:-webkit-box;display:-ms-flexbox;display:flex;align-items:center;color:var(--text)}.container.svelte-c7uooh .title.svelte-c7uooh{grid-area:title;padding-top:8px;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:space-between;flex-wrap:wrap}.container.svelte-c7uooh .title .manage.svelte-c7uooh{cursor:pointer;color:var(--text-light)
      }.container.svelte-c7uooh .title .manage.svelte-c7uooh:hover{color:var(--text)}@media(max-width: 640px){.container.svelte-c7uooh .title.svelte-c7uooh{padding-bottom:8px
    }}.container.svelte-c7uooh .usage.svelte-c7uooh{grid-area:usage;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start
    }@media(max-width: 640px){.container.svelte-c7uooh .usage.svelte-c7uooh{margin-top:8px
    }}.container.svelte-c7uooh .usage .head.svelte-c7uooh{align-self:stretch;border-width:3px;border-color:white;color:var(--placeholder)}.container.svelte-c7uooh .usage hr.svelte-c7uooh{border:1px solid var(--placeholder);width:100%}.container.svelte-c7uooh .usage .price.svelte-c7uooh{margin:6px 0;align-self:flex-end;color:var(--price)}.container.svelte-c7uooh .amount.svelte-c7uooh{grid-area:amount;padding-top:16px;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:center;flex-direction:column}.container.svelte-c7uooh .amount .placeholder.svelte-c7uooh{color:var(--placeholder)}.container.svelte-c7uooh .amount .current.svelte-c7uooh{align-self:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:row;justify-content:space-between}@media(max-width: 640px){.container.svelte-c7uooh .amount .current div.svelte-c7uooh:nth-child(1){display:none
        }}.container.svelte-c7uooh .sponsor.svelte-c7uooh{grid-area:sponsor}.container.svelte-c7uooh .sponsor .body3.svelte-c7uooh{color:white;font-weight:bold}`)}function Ce(l,o,n){const t=l.slice();return t[7]=o[n],t}function Ue(l){var ue,pe,de,me,fe;let o,n,t=l[0].name+"",s,u,d,g=l[3]("manage")+"",K,L,_,Q,k,j,M,X,b,O,P=l[3]("recent_history")+"",F,le,G,se,H,R,C,ne,U,T,A=l[3]("remaining_amount")+"",I,ae,S,E,re,Be=oe({price:4e5,currency:"KRW",currencyDisplay:null,style:null})+"",ie,J,N,x,w,V,ce;k=new Pe({props:{style:"grid-area: card;",name:((ue=l[0])==null?void 0:ue.name)||"",owner:((pe=l[1])==null?void 0:pe.displayName)||((de=l[1])==null?void 0:de.name)||"",currency:l[0].currency,description:l[0].description,balance:1e5,profileURL:((me=l[1])==null?void 0:me.avatarUrlThumb)||((fe=l[1])==null?void 0:fe.avatarUrl)||""}});let B=l[4],p=[];for(let e=0;e<B.length;e+=1)p[e]=Se(Ce(l,B,e));return C=new Xe({props:{percentage:l[2]}}),x=new Oe({props:{primary:!0,type:"submit",style:"flex: 1;",$$slots:{default:[Ge]},$$scope:{ctx:l}}}),x.$on("click",l[6]),{c(){o=i("div"),n=i("div"),s=$(t),u=h(),d=i("div"),K=$(g),L=h(),_=i("i"),_.textContent="chevron_right",Q=h(),j=i("div"),Z(k.$$.fragment),X=h(),b=i("div"),O=i("div"),F=$(P),le=h(),G=i("hr"),se=h();for(let e=0;e<p.length;e+=1)p[e].c();H=h(),R=i("div"),Z(C.$$.fragment),ne=h(),U=i("div"),T=i("div"),I=$(A),ae=h(),S=i("div"),E=i("pre"),E.textContent=`${oe({price:1e5,currency:"KRW",currencyDisplay:null,style:null})}`,re=$(`
          \xA0/\xA0
          `),ie=$(Be),J=h(),N=i("div"),Z(x.$$.fragment),c(n,"class","body1 svelte-c7uooh"),c(_,"class","material-icons md-18"),c(d,"class","manage body3 svelte-c7uooh"),c(o,"class","title svelte-c7uooh"),W(j,"display","contents"),W(j,"--color",M=l[0].color),c(O,"class","head body3 svelte-c7uooh"),c(G,"class","svelte-c7uooh"),c(b,"class","usage svelte-c7uooh"),c(T,"class","body3 placeholder svelte-c7uooh"),c(E,"class","placeholder svelte-c7uooh"),c(S,"class","body3 svelte-c7uooh"),c(U,"class","current svelte-c7uooh"),c(R,"class","amount svelte-c7uooh"),c(N,"class","sponsor svelte-c7uooh")},m(e,a){m(e,o,a),r(o,n),r(n,s),r(o,u),r(o,d),r(d,K),r(d,L),r(d,_),m(e,Q,a),m(e,j,a),ee(k,j,null),m(e,X,a),m(e,b,a),r(b,O),r(O,F),r(b,le),r(b,G),r(b,se);for(let y=0;y<p.length;y+=1)p[y].m(b,null);m(e,H,a),m(e,R,a),ee(C,R,null),r(R,ne),r(R,U),r(U,T),r(T,I),r(U,ae),r(U,S),r(S,E),r(S,re),r(S,ie),m(e,J,a),m(e,N,a),ee(x,N,null),w=!0,V||(ce=De(d,"click",l[5]),V=!0)},p(e,a){var ge,be,ye,_e,xe;(!w||a&1)&&t!==(t=e[0].name+"")&&q(s,t),(!w||a&8)&&g!==(g=e[3]("manage")+"")&&q(K,g),a&1&&M!==(M=e[0].color)&&W(j,"--color",M);const y={};if(a&1&&(y.name=((ge=e[0])==null?void 0:ge.name)||""),a&2&&(y.owner=((be=e[1])==null?void 0:be.displayName)||((ye=e[1])==null?void 0:ye.name)||""),a&1&&(y.currency=e[0].currency),a&1&&(y.description=e[0].description),a&2&&(y.profileURL=((_e=e[1])==null?void 0:_e.avatarUrlThumb)||((xe=e[1])==null?void 0:xe.avatarUrl)||""),k.$set(y),(!w||a&8)&&P!==(P=e[3]("recent_history")+"")&&q(F,P),a&16){B=e[4];let v;for(v=0;v<B.length;v+=1){const we=Ce(e,B,v);p[v]?p[v].p(we,a):(p[v]=Se(we),p[v].c(),p[v].m(b,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=B.length}const ve={};a&4&&(ve.percentage=e[2]),C.$set(ve),(!w||a&8)&&A!==(A=e[3]("remaining_amount")+"")&&q(I,A);const he={};a&1032&&(he.$$scope={dirty:a,ctx:e}),x.$set(he)},i(e){w||(D(k.$$.fragment,e),D(C.$$.fragment,e),D(x.$$.fragment,e),w=!0)},o(e){z(k.$$.fragment,e),z(C.$$.fragment,e),z(x.$$.fragment,e),w=!1},d(e){e&&f(o),e&&f(Q),e&&f(j),te(k,e),e&&f(X),e&&f(b),Ke(p,e),e&&f(H),e&&f(R),te(C),e&&f(J),e&&f(N),te(x),V=!1,ce()}}}function Se(l){let o,n=oe({price:l[7],currency:"KRW"})+"",t,s,u;return{c(){o=i("div"),t=$(n),s=h(),c(o,"class","body3 price svelte-c7uooh"),c(o,"style",u=`--price: ${l[7]<0?Me:""};`)},m(d,g){m(d,o,g),r(o,t),r(o,s)},p:Y,d(d){d&&f(o)}}}function Ge(l){let o,n=l[3]("sponsor")+"",t;return{c(){o=i("div"),t=$(n),c(o,"class","body3 svelte-c7uooh")},m(s,u){m(s,o,u),r(o,t)},p(s,u){u&8&&n!==(n=s[3]("sponsor")+"")&&q(t,n)},d(s){s&&f(o)}}}function He(l){let o,n,t=l[0]&&Ue(l);return{c(){o=i("div"),t&&t.c(),c(o,"class","container svelte-c7uooh")},m(s,u){m(s,o,u),t&&t.m(o,null),n=!0},p(s,[u]){s[0]?t?(t.p(s,u),u&1&&D(t,1)):(t=Ue(s),t.c(),D(t,1),t.m(o,null)):t&&(Ne(),z(t,1,1,()=>{t=null}),We())},i(s){n||(D(t),n=!0)},o(s){z(t),n=!1},d(s){s&&f(o),t&&t.d()}}}function Ie(l,o,n){let t;qe(l,ze,_=>n(3,t=_));let{community:s=null}=o,u;const d=[4e5,-3e5,4e5,14e5,14e5];let g=20;const K=()=>{console.log("click manage")},L=()=>{g>=100||n(2,g+=10)};return Le(async()=>{s&&n(1,u=await Te(s.id))}),l.$$set=_=>{"community"in _&&n(0,s=_.community)},[s,u,g,t,d,K,L]}class st extends $e{constructor(o){super();ke(this,o,Ie,He,je,{community:0},Fe)}}export{st as default};

var Je=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var Ge=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable;var We=(e,t,n)=>t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Me=(e,t)=>{for(var n in t||(t={}))Ze.call(t,n)&&We(e,n,t[n]);if(Ge)for(var n of Ge(t))Xe.call(t,n)&&We(e,n,t[n]);return e},He=(e,t)=>et(e,tt(t));var qe=(e,t)=>{var n={};for(var y in e)Ze.call(e,y)&&t.indexOf(y)<0&&(n[y]=e[y]);if(e!=null&&Ge)for(var y of Ge(e))t.indexOf(y)<0&&Xe.call(e,y)&&(n[y]=e[y]);return n};var Ie=(e,t,n)=>(We(e,typeof t!="symbol"?t+"":t,n),n),Ke=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var De=(e,t,n)=>(Ke(e,t,"read from private field"),n?n.call(e):t.get(e)),Ye=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Qe=(e,t,n,y)=>(Ke(e,t,"write to private field"),y?y.call(e,n):t.set(e,n),n);function noop$2(){}function assign(e,t){for(const n in t)e[n]=t[n];return e}function run$1(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run$1)}function is_function(e){return typeof e=="function"}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let src_url_equal_anchor;function src_url_equal(e,t){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,e===src_url_equal_anchor.href}function is_empty(e){return Object.keys(e).length===0}function subscribe(e,...t){if(e==null)return noop$2;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function get_store_value(e){let t;return subscribe(e,n=>t=n)(),t}function component_subscribe(e,t,n){e.$$.on_destroy.push(subscribe(t,n))}function create_slot(e,t,n,y){if(e){const A=get_slot_context(e,t,n,y);return e[0](A)}}function get_slot_context(e,t,n,y){return e[1]&&y?assign(n.ctx.slice(),e[1](y(t))):n.ctx}function get_slot_changes(e,t,n,y){if(e[2]&&y){const A=e[2](y(n));if(t.dirty===void 0)return A;if(typeof A=="object"){const S=[],P=Math.max(t.dirty.length,A.length);for(let F=0;F<P;F+=1)S[F]=t.dirty[F]|A[F];return S}return t.dirty|A}return t.dirty}function update_slot_base(e,t,n,y,A,S){if(A){const P=get_slot_context(t,n,y,S);e.p(P,A)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let y=0;y<n;y++)t[y]=-1;return t}return-1}function exclude_internal_props(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function null_to_empty(e){return e==null?"":e}function set_store_value(e,t,n){return e.set(n),t}function action_destroyer(e){return e&&is_function(e.destroy)?e.destroy:noop$2}function append(e,t){e.appendChild(t)}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode.removeChild(e)}function destroy_each(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function element(e){return document.createElement(e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty$1(){return text("")}function listen(e,t,n,y){return e.addEventListener(t,n,y),()=>e.removeEventListener(t,n,y)}function prevent_default(e){return function(t){return t.preventDefault(),e.call(this,t)}}function stop_propagation(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function attr(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_input_value(e,t){e.value=t==null?"":t}function set_style(e,t,n,y){e.style.setProperty(t,n,y?"important":"")}function toggle_class(e,t,n){e.classList[n?"add":"remove"](t)}function custom_event(e,t,n=!1){const y=document.createEvent("CustomEvent");return y.initCustomEvent(e,n,!1,t),y}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,n)=>{const y=e.$$.callbacks[t];if(y){const A=custom_event(t,n);y.slice().forEach(S=>{S.call(e,A)})}}}function setContext(e,t){get_current_component().$$.context.set(e,t)}function getContext(e){return get_current_component().$$.context.get(e)}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush$1))}function add_render_callback(e){render_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush$1(){const e=current_component;do{for(;flushidx<dirty_components.length;){const t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const n=render_callbacks[t];seen_callbacks.has(n)||(seen_callbacks.add(n),n())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(e.fragment!==null){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,n,y){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),y&&(n&&e.d(1),y())}),e.o(t)}}function outro_and_destroy_block(e,t){transition_out(e,1,1,()=>{t.delete(e.key)})}function update_keyed_each(e,t,n,y,A,S,P,F,z,Y,ee,te){let ne=e.length,oe=S.length,ie=ne;const se={};for(;ie--;)se[e[ie].key]=ie;const ae=[],le=new Map,pe=new Map;for(ie=oe;ie--;){const me=te(A,S,ie),he=n(me);let _e=P.get(he);_e?y&&_e.p(me,t):(_e=Y(he,me),_e.c()),le.set(he,ae[ie]=_e),he in se&&pe.set(he,Math.abs(ie-se[he]))}const ue=new Set,Ee=new Set;function ve(me){transition_in(me,1),me.m(F,ee),P.set(me.key,me),ee=me.first,oe--}for(;ne&&oe;){const me=ae[oe-1],he=e[ne-1],_e=me.key,be=he.key;me===he?(ee=me.first,ne--,oe--):le.has(be)?!P.has(_e)||ue.has(_e)?ve(me):Ee.has(be)?ne--:pe.get(_e)>pe.get(be)?(Ee.add(_e),ve(me)):(ue.add(be),ne--):(z(he,P),ne--)}for(;ne--;){const me=e[ne];le.has(me.key)||z(me,P)}for(;oe;)ve(ae[oe-1]);return ae}function get_spread_update(e,t){const n={},y={},A={$$scope:1};let S=e.length;for(;S--;){const P=e[S],F=t[S];if(F){for(const z in P)z in F||(y[z]=1);for(const z in F)A[z]||(n[z]=F[z],A[z]=1);e[S]=F}else for(const z in P)A[z]=1}for(const P in y)P in n||(n[P]=void 0);return n}function get_spread_object(e){return typeof e=="object"&&e!==null?e:{}}function create_component(e){e&&e.c()}function mount_component(e,t,n,y){const{fragment:A,on_mount:S,on_destroy:P,after_update:F}=e.$$;A&&A.m(t,n),y||add_render_callback(()=>{const z=S.map(run$1).filter(is_function);P?P.push(...z):run_all(z),e.$$.on_mount=[]}),F.forEach(add_render_callback)}function destroy_component(e,t){const n=e.$$;n.fragment!==null&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(e,t){e.$$.dirty[0]===-1&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,n,y,A,S,P,F=[-1]){const z=current_component;set_current_component(e);const Y=e.$$={fragment:null,ctx:null,props:S,update:noop$2,not_equal:A,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(z?z.$$.context:[])),callbacks:blank_object(),dirty:F,skip_bound:!1,root:t.target||z.$$.root};P&&P(Y.root);let ee=!1;if(Y.ctx=n?n(e,t.props||{},(te,ne,...oe)=>{const ie=oe.length?oe[0]:ne;return Y.ctx&&A(Y.ctx[te],Y.ctx[te]=ie)&&(!Y.skip_bound&&Y.bound[te]&&Y.bound[te](ie),ee&&make_dirty(e,te)),ne}):[],Y.update(),ee=!0,run_all(Y.before_update),Y.fragment=y?y(Y.ctx):!1,t.target){if(t.hydrate){const te=children(t.target);Y.fragment&&Y.fragment.l(te),te.forEach(detach)}else Y.fragment&&Y.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush$1()}set_current_component(z)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$2}$on(t,n){const y=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return y.push(n),()=>{const A=y.indexOf(n);A!==-1&&y.splice(A,1)}}$set(t){this.$$set&&!is_empty(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const subscriber_queue=[];function readable(e,t){return{subscribe:writable(e,t).subscribe}}function writable(e,t=noop$2){let n;const y=new Set;function A(F){if(safe_not_equal(e,F)&&(e=F,n)){const z=!subscriber_queue.length;for(const Y of y)Y[1](),subscriber_queue.push(Y,e);if(z){for(let Y=0;Y<subscriber_queue.length;Y+=2)subscriber_queue[Y][0](subscriber_queue[Y+1]);subscriber_queue.length=0}}}function S(F){A(F(e))}function P(F,z=noop$2){const Y=[F,z];return y.add(Y),y.size===1&&(n=t(A)||noop$2),F(e),()=>{y.delete(Y),y.size===0&&(n(),n=null)}}return{set:A,update:S,subscribe:P}}function derived(e,t,n){const y=!Array.isArray(e),A=y?[e]:e,S=t.length<2;return readable(n,P=>{let F=!1;const z=[];let Y=0,ee=noop$2;const te=()=>{if(Y)return;ee();const oe=t(y?z[0]:z,P);S?P(oe):ee=is_function(oe)?oe:noop$2},ne=A.map((oe,ie)=>subscribe(oe,se=>{z[ie]=se,Y&=~(1<<ie),F&&te()},()=>{Y|=1<<ie}));return F=!0,te(),function(){run_all(ne),ee()}})}var commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var isMergeableObject=function(t){return isNonNullObject(t)&&!isSpecial$1(t)};function isNonNullObject(e){return!!e&&typeof e=="object"}function isSpecial$1(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||isReactElement(e)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,t){return t.clone!==!1&&t.isMergeableObject(e)?deepmerge(emptyTarget(e),e,t):e}function defaultArrayMerge(e,t,n){return e.concat(t).map(function(y){return cloneUnlessOtherwiseSpecified(y,n)})}function getMergeFunction(e,t){if(!t.customMerge)return deepmerge;var n=t.customMerge(e);return typeof n=="function"?n:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,t){try{return t in e}catch{return!1}}function propertyIsUnsafe(e,t){return propertyIsOnObject(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function mergeObject(e,t,n){var y={};return n.isMergeableObject(e)&&getKeys(e).forEach(function(A){y[A]=cloneUnlessOtherwiseSpecified(e[A],n)}),getKeys(t).forEach(function(A){propertyIsUnsafe(e,A)||(propertyIsOnObject(e,A)&&n.isMergeableObject(t[A])?y[A]=getMergeFunction(A,n)(e[A],t[A],n):y[A]=cloneUnlessOtherwiseSpecified(t[A],n))}),y}function deepmerge(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||defaultArrayMerge,n.isMergeableObject=n.isMergeableObject||isMergeableObject,n.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var y=Array.isArray(t),A=Array.isArray(e),S=y===A;return S?y?n.arrayMerge(e,t,n):mergeObject(e,t,n):cloneUnlessOtherwiseSpecified(t,n)}deepmerge.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(y,A){return deepmerge(y,A,n)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,y){n.__proto__=y}||function(n,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(n[A]=y[A])},extendStatics(e,t)};function __extends(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");extendStatics(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var __assign=function(){return __assign=Object.assign||function(t){for(var n,y=1,A=arguments.length;y<A;y++){n=arguments[y];for(var S in n)Object.prototype.hasOwnProperty.call(n,S)&&(t[S]=n[S])}return t},__assign.apply(this,arguments)};function __spreadArray(e,t,n){if(n||arguments.length===2)for(var y=0,A=t.length,S;y<A;y++)(S||!(y in t))&&(S||(S=Array.prototype.slice.call(t,0,y)),S[y]=t[y]);return e.concat(S||Array.prototype.slice.call(t))}var ErrorKind;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(ErrorKind||(ErrorKind={}));var TYPE;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(TYPE||(TYPE={}));var SKELETON_TYPE;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(SKELETON_TYPE||(SKELETON_TYPE={}));function isLiteralElement(e){return e.type===TYPE.literal}function isArgumentElement(e){return e.type===TYPE.argument}function isNumberElement(e){return e.type===TYPE.number}function isDateElement(e){return e.type===TYPE.date}function isTimeElement(e){return e.type===TYPE.time}function isSelectElement(e){return e.type===TYPE.select}function isPluralElement(e){return e.type===TYPE.plural}function isPoundElement(e){return e.type===TYPE.pound}function isTagElement(e){return e.type===TYPE.tag}function isNumberSkeleton(e){return!!(e&&typeof e=="object"&&e.type===SKELETON_TYPE.number)}function isDateTimeSkeleton(e){return!!(e&&typeof e=="object"&&e.type===SKELETON_TYPE.dateTime)}var SPACE_SEPARATOR_REGEX=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,DATE_TIME_REGEX=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function parseDateTimeSkeleton(e){var t={};return e.replace(DATE_TIME_REGEX,function(n){var y=n.length;switch(n[0]){case"G":t.era=y===4?"long":y===5?"narrow":"short";break;case"y":t.year=y===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][y-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][y-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=y===4?"short":y===5?"narrow":"short";break;case"e":if(y<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][y-4];break;case"c":if(y<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][y-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][y-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][y-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][y-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][y-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][y-1];break;case"s":t.second=["numeric","2-digit"][y-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=y<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function parseNumberSkeletonFromString(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(WHITE_SPACE_REGEX).filter(function(ne){return ne.length>0}),n=[],y=0,A=t;y<A.length;y++){var S=A[y],P=S.split("/");if(P.length===0)throw new Error("Invalid number skeleton");for(var F=P[0],z=P.slice(1),Y=0,ee=z;Y<ee.length;Y++){var te=ee[Y];if(te.length===0)throw new Error("Invalid number skeleton")}n.push({stem:F,options:z})}return n}function icuUnitToEcma(e){return e.replace(/^(.*?)-/,"")}var FRACTION_PRECISION_REGEX=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,SIGNIFICANT_PRECISION_REGEX=/^(@+)?(\+|#+)?[rs]?$/g,INTEGER_WIDTH_REGEX=/(\*)(0+)|(#+)(0+)|(0+)/g,CONCISE_INTEGER_WIDTH_REGEX=/^(0+)$/;function parseSignificantPrecision(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(SIGNIFICANT_PRECISION_REGEX,function(n,y,A){return typeof A!="string"?(t.minimumSignificantDigits=y.length,t.maximumSignificantDigits=y.length):A==="+"?t.minimumSignificantDigits=y.length:y[0]==="#"?t.maximumSignificantDigits=y.length:(t.minimumSignificantDigits=y.length,t.maximumSignificantDigits=y.length+(typeof A=="string"?A.length:0)),""}),t}function parseSign(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function parseConciseScientificAndEngineeringStem(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if(n==="+!"?(t.signDisplay="always",e=e.slice(2)):n==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!CONCISE_INTEGER_WIDTH_REGEX.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function parseNotationOptions(e){var t={},n=parseSign(e);return n||t}function parseNumberSkeleton(e){for(var t={},n=0,y=e;n<y.length;n++){var A=y[n];switch(A.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=A.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=icuUnitToEcma(A.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=__assign(__assign(__assign({},t),{notation:"scientific"}),A.options.reduce(function(z,Y){return __assign(__assign({},z),parseNotationOptions(Y))},{}));continue;case"engineering":t=__assign(__assign(__assign({},t),{notation:"engineering"}),A.options.reduce(function(z,Y){return __assign(__assign({},z),parseNotationOptions(Y))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(A.options[0]);continue;case"integer-width":if(A.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");A.options[0].replace(INTEGER_WIDTH_REGEX,function(z,Y,ee,te,ne,oe){if(Y)t.minimumIntegerDigits=ee.length;else{if(te&&ne)throw new Error("We currently do not support maximum integer digits");if(oe)throw new Error("We currently do not support exact integer digits")}return""});continue}if(CONCISE_INTEGER_WIDTH_REGEX.test(A.stem)){t.minimumIntegerDigits=A.stem.length;continue}if(FRACTION_PRECISION_REGEX.test(A.stem)){if(A.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");A.stem.replace(FRACTION_PRECISION_REGEX,function(z,Y,ee,te,ne,oe){return ee==="*"?t.minimumFractionDigits=Y.length:te&&te[0]==="#"?t.maximumFractionDigits=te.length:ne&&oe?(t.minimumFractionDigits=ne.length,t.maximumFractionDigits=ne.length+oe.length):(t.minimumFractionDigits=Y.length,t.maximumFractionDigits=Y.length),""});var S=A.options[0];S==="w"?t=__assign(__assign({},t),{trailingZeroDisplay:"stripIfInteger"}):S&&(t=__assign(__assign({},t),parseSignificantPrecision(S)));continue}if(SIGNIFICANT_PRECISION_REGEX.test(A.stem)){t=__assign(__assign({},t),parseSignificantPrecision(A.stem));continue}var P=parseSign(A.stem);P&&(t=__assign(__assign({},t),P));var F=parseConciseScientificAndEngineeringStem(A.stem);F&&(t=__assign(__assign({},t),F))}return t}var _a,SPACE_SEPARATOR_START_REGEX=new RegExp("^".concat(SPACE_SEPARATOR_REGEX.source,"*")),SPACE_SEPARATOR_END_REGEX=new RegExp("".concat(SPACE_SEPARATOR_REGEX.source,"*$"));function createLocation(e,t){return{start:e,end:t}}var hasNativeStartsWith=!!String.prototype.startsWith,hasNativeFromCodePoint=!!String.fromCodePoint,hasNativeFromEntries=!!Object.fromEntries,hasNativeCodePointAt=!!String.prototype.codePointAt,hasTrimStart=!!String.prototype.trimStart,hasTrimEnd=!!String.prototype.trimEnd,hasNativeIsSafeInteger=!!Number.isSafeInteger,isSafeInteger=hasNativeIsSafeInteger?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},REGEX_SUPPORTS_U_AND_Y=!0;try{var re=RE("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");REGEX_SUPPORTS_U_AND_Y=((_a=re.exec("a"))===null||_a===void 0?void 0:_a[0])==="a"}catch{REGEX_SUPPORTS_U_AND_Y=!1}var startsWith=hasNativeStartsWith?function(t,n,y){return t.startsWith(n,y)}:function(t,n,y){return t.slice(y,y+n.length)===n},fromCodePoint=hasNativeFromCodePoint?String.fromCodePoint:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var y="",A=t.length,S=0,P;A>S;){if(P=t[S++],P>1114111)throw RangeError(P+" is not a valid code point");y+=P<65536?String.fromCharCode(P):String.fromCharCode(((P-=65536)>>10)+55296,P%1024+56320)}return y},fromEntries$1=hasNativeFromEntries?Object.fromEntries:function(t){for(var n={},y=0,A=t;y<A.length;y++){var S=A[y],P=S[0],F=S[1];n[P]=F}return n},codePointAt=hasNativeCodePointAt?function(t,n){return t.codePointAt(n)}:function(t,n){var y=t.length;if(!(n<0||n>=y)){var A=t.charCodeAt(n),S;return A<55296||A>56319||n+1===y||(S=t.charCodeAt(n+1))<56320||S>57343?A:(A-55296<<10)+(S-56320)+65536}},trimStart=hasTrimStart?function(t){return t.trimStart()}:function(t){return t.replace(SPACE_SEPARATOR_START_REGEX,"")},trimEnd=hasTrimEnd?function(t){return t.trimEnd()}:function(t){return t.replace(SPACE_SEPARATOR_END_REGEX,"")};function RE(e,t){return new RegExp(e,t)}var matchIdentifierAtIndex;if(REGEX_SUPPORTS_U_AND_Y){var IDENTIFIER_PREFIX_RE_1=RE("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");matchIdentifierAtIndex=function(t,n){var y;IDENTIFIER_PREFIX_RE_1.lastIndex=n;var A=IDENTIFIER_PREFIX_RE_1.exec(t);return(y=A[1])!==null&&y!==void 0?y:""}}else matchIdentifierAtIndex=function(t,n){for(var y=[];;){var A=codePointAt(t,n);if(A===void 0||_isWhiteSpace(A)||_isPatternSyntax(A))break;y.push(A),n+=A>=65536?2:1}return fromCodePoint.apply(void 0,y)};var Parser=function(){function e(t,n){n===void 0&&(n={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,n,y){for(var A=[];!this.isEOF();){var S=this.char();if(S===123){var P=this.parseArgument(t,y);if(P.err)return P;A.push(P.val)}else{if(S===125&&t>0)break;if(S===35&&(n==="plural"||n==="selectordinal")){var F=this.clonePosition();this.bump(),A.push({type:TYPE.pound,location:createLocation(F,this.clonePosition())})}else if(S===60&&!this.ignoreTag&&this.peek()===47){if(y)break;return this.error(ErrorKind.UNMATCHED_CLOSING_TAG,createLocation(this.clonePosition(),this.clonePosition()))}else if(S===60&&!this.ignoreTag&&_isAlpha(this.peek()||0)){var P=this.parseTag(t,n);if(P.err)return P;A.push(P.val)}else{var P=this.parseLiteral(t,n);if(P.err)return P;A.push(P.val)}}}return{val:A,err:null}},e.prototype.parseTag=function(t,n){var y=this.clonePosition();this.bump();var A=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:TYPE.literal,value:"<".concat(A,"/>"),location:createLocation(y,this.clonePosition())},err:null};if(this.bumpIf(">")){var S=this.parseMessage(t+1,n,!0);if(S.err)return S;var P=S.val,F=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!_isAlpha(this.char()))return this.error(ErrorKind.INVALID_TAG,createLocation(F,this.clonePosition()));var z=this.clonePosition(),Y=this.parseTagName();return A!==Y?this.error(ErrorKind.UNMATCHED_CLOSING_TAG,createLocation(z,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:TYPE.tag,value:A,children:P,location:createLocation(y,this.clonePosition())},err:null}:this.error(ErrorKind.INVALID_TAG,createLocation(F,this.clonePosition())))}else return this.error(ErrorKind.UNCLOSED_TAG,createLocation(y,this.clonePosition()))}else return this.error(ErrorKind.INVALID_TAG,createLocation(y,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&_isPotentialElementNameChar(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,n){for(var y=this.clonePosition(),A="";;){var S=this.tryParseQuote(n);if(S){A+=S;continue}var P=this.tryParseUnquoted(t,n);if(P){A+=P;continue}var F=this.tryParseLeftAngleBracket();if(F){A+=F;continue}break}var z=createLocation(y,this.clonePosition());return{val:{type:TYPE.literal,value:A,location:z},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!_isAlphaOrSlash(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var y=this.char();if(y===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(y);this.bump()}return fromCodePoint.apply(void 0,n)},e.prototype.tryParseUnquoted=function(t,n){if(this.isEOF())return null;var y=this.char();return y===60||y===123||y===35&&(n==="plural"||n==="selectordinal")||y===125&&t>0?null:(this.bump(),fromCodePoint(y))},e.prototype.parseArgument=function(t,n){var y=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,createLocation(y,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(ErrorKind.EMPTY_ARGUMENT,createLocation(y,this.clonePosition()));var A=this.parseIdentifierIfPossible().value;if(!A)return this.error(ErrorKind.MALFORMED_ARGUMENT,createLocation(y,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,createLocation(y,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:TYPE.argument,value:A,location:createLocation(y,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,createLocation(y,this.clonePosition())):this.parseArgumentOptions(t,n,A,y);default:return this.error(ErrorKind.MALFORMED_ARGUMENT,createLocation(y,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),n=this.offset(),y=matchIdentifierAtIndex(this.message,n),A=n+y.length;this.bumpTo(A);var S=this.clonePosition(),P=createLocation(t,S);return{value:y,location:P}},e.prototype.parseArgumentOptions=function(t,n,y,A){var S,P=this.clonePosition(),F=this.parseIdentifierIfPossible().value,z=this.clonePosition();switch(F){case"":return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE,createLocation(P,z));case"number":case"date":case"time":{this.bumpSpace();var Y=null;if(this.bumpIf(",")){this.bumpSpace();var ee=this.clonePosition(),te=this.parseSimpleArgStyleIfPossible();if(te.err)return te;var ne=trimEnd(te.val);if(ne.length===0)return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE,createLocation(this.clonePosition(),this.clonePosition()));var oe=createLocation(ee,this.clonePosition());Y={style:ne,styleLocation:oe}}var ie=this.tryParseArgumentClose(A);if(ie.err)return ie;var se=createLocation(A,this.clonePosition());if(Y&&startsWith(Y==null?void 0:Y.style,"::",0)){var ae=trimStart(Y.style.slice(2));if(F==="number"){var te=this.parseNumberSkeletonFromString(ae,Y.styleLocation);return te.err?te:{val:{type:TYPE.number,value:y,location:se,style:te.val},err:null}}else{if(ae.length===0)return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON,se);var ne={type:SKELETON_TYPE.dateTime,pattern:ae,location:Y.styleLocation,parsedOptions:this.shouldParseSkeletons?parseDateTimeSkeleton(ae):{}},le=F==="date"?TYPE.date:TYPE.time;return{val:{type:le,value:y,location:se,style:ne},err:null}}}return{val:{type:F==="number"?TYPE.number:F==="date"?TYPE.date:TYPE.time,value:y,location:se,style:(S=Y==null?void 0:Y.style)!==null&&S!==void 0?S:null},err:null}}case"plural":case"selectordinal":case"select":{var pe=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS,createLocation(pe,__assign({},pe)));this.bumpSpace();var ue=this.parseIdentifierIfPossible(),Ee=0;if(F!=="select"&&ue.value==="offset"){if(!this.bumpIf(":"))return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,createLocation(this.clonePosition(),this.clonePosition()));this.bumpSpace();var te=this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(te.err)return te;this.bumpSpace(),ue=this.parseIdentifierIfPossible(),Ee=te.val}var ve=this.tryParsePluralOrSelectOptions(t,F,n,ue);if(ve.err)return ve;var ie=this.tryParseArgumentClose(A);if(ie.err)return ie;var me=createLocation(A,this.clonePosition());return F==="select"?{val:{type:TYPE.select,value:y,options:fromEntries$1(ve.val),location:me},err:null}:{val:{type:TYPE.plural,value:y,options:fromEntries$1(ve.val),offset:Ee,pluralType:F==="plural"?"cardinal":"ordinal",location:me},err:null}}default:return this.error(ErrorKind.INVALID_ARGUMENT_TYPE,createLocation(P,z))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,createLocation(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,n=this.clonePosition();!this.isEOF();){var y=this.char();switch(y){case 39:{this.bump();var A=this.clonePosition();if(!this.bumpUntil("'"))return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,createLocation(A,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,n){var y=[];try{y=parseNumberSkeletonFromString(t)}catch{return this.error(ErrorKind.INVALID_NUMBER_SKELETON,n)}return{val:{type:SKELETON_TYPE.number,tokens:y,location:n,parsedOptions:this.shouldParseSkeletons?parseNumberSkeleton(y):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,n,y,A){for(var S,P=!1,F=[],z=new Set,Y=A.value,ee=A.location;;){if(Y.length===0){var te=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var ne=this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);if(ne.err)return ne;ee=createLocation(te,this.clonePosition()),Y=this.message.slice(te.offset,this.offset())}else break}if(z.has(Y))return this.error(n==="select"?ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR:ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,ee);Y==="other"&&(P=!0),this.bumpSpace();var oe=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,createLocation(this.clonePosition(),this.clonePosition()));var ie=this.parseMessage(t+1,n,y);if(ie.err)return ie;var se=this.tryParseArgumentClose(oe);if(se.err)return se;F.push([Y,{value:ie.val,location:createLocation(oe,this.clonePosition())}]),z.add(Y),this.bumpSpace(),S=this.parseIdentifierIfPossible(),Y=S.value,ee=S.location}return F.length===0?this.error(n==="select"?ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR:ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,createLocation(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!P?this.error(ErrorKind.MISSING_OTHER_CLAUSE,createLocation(this.clonePosition(),this.clonePosition())):{val:F,err:null}},e.prototype.tryParseDecimalInteger=function(t,n){var y=1,A=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(y=-1);for(var S=!1,P=0;!this.isEOF();){var F=this.char();if(F>=48&&F<=57)S=!0,P=P*10+(F-48),this.bump();else break}var z=createLocation(A,this.clonePosition());return S?(P*=y,isSafeInteger(P)?{val:P,err:null}:this.error(n,z)):this.error(t,z)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var n=codePointAt(this.message,t);if(n===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return n},e.prototype.error=function(t,n){return{val:null,err:{kind:t,message:this.message,location:n}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(startsWith(this.message,t,this.offset())){for(var n=0;n<t.length;n++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var n=this.offset(),y=this.message.indexOf(t,n);return y>=0?(this.bumpTo(y),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var n=this.offset();if(n===t)break;if(n>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&_isWhiteSpace(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),n=this.offset(),y=this.message.charCodeAt(n+(t>=65536?2:1));return y!=null?y:null},e}();function _isAlpha(e){return e>=97&&e<=122||e>=65&&e<=90}function _isAlphaOrSlash(e){return _isAlpha(e)||e===47}function _isPotentialElementNameChar(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function _isWhiteSpace(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function _isPatternSyntax(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function pruneLocation(e){e.forEach(function(t){if(delete t.location,isSelectElement(t)||isPluralElement(t))for(var n in t.options)delete t.options[n].location,pruneLocation(t.options[n].value);else isNumberElement(t)&&isNumberSkeleton(t.style)||(isDateElement(t)||isTimeElement(t))&&isDateTimeSkeleton(t.style)?delete t.style.location:isTagElement(t)&&pruneLocation(t.children)})}function parse$1(e,t){t===void 0&&(t={}),t=__assign({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Parser(e,t).parse();if(n.err){var y=SyntaxError(ErrorKind[n.err.kind]);throw y.location=n.err.location,y.originalMessage=n.err.message,y}return(t==null?void 0:t.captureLocation)||pruneLocation(n.val),n.val}function memoize(e,t){var n=t&&t.cache?t.cache:cacheDefault,y=t&&t.serializer?t.serializer:serializerDefault,A=t&&t.strategy?t.strategy:strategyDefault;return A(e,{cache:n,serializer:y})}function isPrimitive(e){return e==null||typeof e=="number"||typeof e=="boolean"}function monadic(e,t,n,y){var A=isPrimitive(y)?y:n(y),S=t.get(A);return typeof S=="undefined"&&(S=e.call(this,y),t.set(A,S)),S}function variadic(e,t,n){var y=Array.prototype.slice.call(arguments,3),A=n(y),S=t.get(A);return typeof S=="undefined"&&(S=e.apply(this,y),t.set(A,S)),S}function assemble(e,t,n,y,A){return n.bind(t,e,y,A)}function strategyDefault(e,t){var n=e.length===1?monadic:variadic;return assemble(e,this,n,t.cache.create(),t.serializer)}function strategyVariadic(e,t){return assemble(e,this,variadic,t.cache.create(),t.serializer)}function strategyMonadic(e,t){return assemble(e,this,monadic,t.cache.create(),t.serializer)}var serializerDefault=function(){return JSON.stringify(arguments)};function ObjectWithoutPrototypeCache(){this.cache=Object.create(null)}ObjectWithoutPrototypeCache.prototype.get=function(e){return this.cache[e]};ObjectWithoutPrototypeCache.prototype.set=function(e,t){this.cache[e]=t};var cacheDefault={create:function(){return new ObjectWithoutPrototypeCache}},strategies={variadic:strategyVariadic,monadic:strategyMonadic},ErrorCode;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(ErrorCode||(ErrorCode={}));var FormatError=function(e){__extends(t,e);function t(n,y,A){var S=e.call(this,n)||this;return S.code=y,S.originalMessage=A,S}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),InvalidValueError=function(e){__extends(t,e);function t(n,y,A,S){return e.call(this,'Invalid values for "'.concat(n,'": "').concat(y,'". Options are "').concat(Object.keys(A).join('", "'),'"'),ErrorCode.INVALID_VALUE,S)||this}return t}(FormatError),InvalidValueTypeError=function(e){__extends(t,e);function t(n,y,A){return e.call(this,'Value for "'.concat(n,'" must be of type ').concat(y),ErrorCode.INVALID_VALUE,A)||this}return t}(FormatError),MissingValueError=function(e){__extends(t,e);function t(n,y){return e.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(y,'"'),ErrorCode.MISSING_VALUE,y)||this}return t}(FormatError),PART_TYPE;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(PART_TYPE||(PART_TYPE={}));function mergeLiteral(e){return e.length<2?e:e.reduce(function(t,n){var y=t[t.length-1];return!y||y.type!==PART_TYPE.literal||n.type!==PART_TYPE.literal?t.push(n):y.value+=n.value,t},[])}function isFormatXMLElementFn(e){return typeof e=="function"}function formatToParts(e,t,n,y,A,S,P){if(e.length===1&&isLiteralElement(e[0]))return[{type:PART_TYPE.literal,value:e[0].value}];for(var F=[],z=0,Y=e;z<Y.length;z++){var ee=Y[z];if(isLiteralElement(ee)){F.push({type:PART_TYPE.literal,value:ee.value});continue}if(isPoundElement(ee)){typeof S=="number"&&F.push({type:PART_TYPE.literal,value:n.getNumberFormat(t).format(S)});continue}var te=ee.value;if(!(A&&te in A))throw new MissingValueError(te,P);var ne=A[te];if(isArgumentElement(ee)){(!ne||typeof ne=="string"||typeof ne=="number")&&(ne=typeof ne=="string"||typeof ne=="number"?String(ne):""),F.push({type:typeof ne=="string"?PART_TYPE.literal:PART_TYPE.object,value:ne});continue}if(isDateElement(ee)){var oe=typeof ee.style=="string"?y.date[ee.style]:isDateTimeSkeleton(ee.style)?ee.style.parsedOptions:void 0;F.push({type:PART_TYPE.literal,value:n.getDateTimeFormat(t,oe).format(ne)});continue}if(isTimeElement(ee)){var oe=typeof ee.style=="string"?y.time[ee.style]:isDateTimeSkeleton(ee.style)?ee.style.parsedOptions:void 0;F.push({type:PART_TYPE.literal,value:n.getDateTimeFormat(t,oe).format(ne)});continue}if(isNumberElement(ee)){var oe=typeof ee.style=="string"?y.number[ee.style]:isNumberSkeleton(ee.style)?ee.style.parsedOptions:void 0;oe&&oe.scale&&(ne=ne*(oe.scale||1)),F.push({type:PART_TYPE.literal,value:n.getNumberFormat(t,oe).format(ne)});continue}if(isTagElement(ee)){var ie=ee.children,se=ee.value,ae=A[se];if(!isFormatXMLElementFn(ae))throw new InvalidValueTypeError(se,"function",P);var le=formatToParts(ie,t,n,y,A,S),pe=ae(le.map(function(ve){return ve.value}));Array.isArray(pe)||(pe=[pe]),F.push.apply(F,pe.map(function(ve){return{type:typeof ve=="string"?PART_TYPE.literal:PART_TYPE.object,value:ve}}))}if(isSelectElement(ee)){var ue=ee.options[ne]||ee.options.other;if(!ue)throw new InvalidValueError(ee.value,ne,Object.keys(ee.options),P);F.push.apply(F,formatToParts(ue.value,t,n,y,A));continue}if(isPluralElement(ee)){var ue=ee.options["=".concat(ne)];if(!ue){if(!Intl.PluralRules)throw new FormatError(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,ErrorCode.MISSING_INTL_API,P);var Ee=n.getPluralRules(t,{type:ee.pluralType}).select(ne-(ee.offset||0));ue=ee.options[Ee]||ee.options.other}if(!ue)throw new InvalidValueError(ee.value,ne,Object.keys(ee.options),P);F.push.apply(F,formatToParts(ue.value,t,n,y,A,ne-(ee.offset||0)));continue}}return mergeLiteral(F)}function mergeConfig(e,t){return t?__assign(__assign(__assign({},e||{}),t||{}),Object.keys(e).reduce(function(n,y){return n[y]=__assign(__assign({},e[y]),t[y]||{}),n},{})):e}function mergeConfigs(e,t){return t?Object.keys(e).reduce(function(n,y){return n[y]=mergeConfig(e[y],t[y]),n},__assign({},e)):e}function createFastMemoizeCache(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function createDefaultFormatters(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:memoize(function(){for(var t,n=[],y=0;y<arguments.length;y++)n[y]=arguments[y];return new((t=Intl.NumberFormat).bind.apply(t,__spreadArray([void 0],n,!1)))},{cache:createFastMemoizeCache(e.number),strategy:strategies.variadic}),getDateTimeFormat:memoize(function(){for(var t,n=[],y=0;y<arguments.length;y++)n[y]=arguments[y];return new((t=Intl.DateTimeFormat).bind.apply(t,__spreadArray([void 0],n,!1)))},{cache:createFastMemoizeCache(e.dateTime),strategy:strategies.variadic}),getPluralRules:memoize(function(){for(var t,n=[],y=0;y<arguments.length;y++)n[y]=arguments[y];return new((t=Intl.PluralRules).bind.apply(t,__spreadArray([void 0],n,!1)))},{cache:createFastMemoizeCache(e.pluralRules),strategy:strategies.variadic})}}var IntlMessageFormat=function(){function e(t,n,y,A){var S=this;if(n===void 0&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(P){var F=S.formatToParts(P);if(F.length===1)return F[0].value;var z=F.reduce(function(Y,ee){return!Y.length||ee.type!==PART_TYPE.literal||typeof Y[Y.length-1]!="string"?Y.push(ee.value):Y[Y.length-1]+=ee.value,Y},[]);return z.length<=1?z[0]||"":z},this.formatToParts=function(P){return formatToParts(S.ast,S.locales,S.formatters,S.formats,P,void 0,S.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(S.locales)[0]}},this.getAst=function(){return S.ast},typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:A==null?void 0:A.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=mergeConfigs(e.formats,y),this.locales=n,this.formatters=A&&A.formatters||createDefaultFormatters(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=parse$1,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),o=IntlMessageFormat;const r={},i=(e,t,n)=>n&&(t in r||(r[t]={}),e in r[t]||(r[t][e]=n),n),l=(e,t)=>{if(t==null)return;if(t in r&&e in r[t])return r[t][e];const n=E(t);for(let y=0;y<n.length;y++){const A=c(n[y],e);if(A)return i(e,t,A)}};let a;const s=writable({});function u(e){return e in a}function c(e,t){return u(e)?function(n,y){if(y==null)return;if(y in n)return n[y];const A=y.split(".");let S=n;for(let P=0;P<A.length;P++)if(typeof S=="object"){if(P>0){const F=A.slice(P,A.length).join(".");if(F in S){S=S[F];break}}S=S[A[P]]}else S=void 0;return S}(function(n){return a[n]||null}(e),t):null}function m(e,...t){delete r[e],s.update(n=>(n[e]=cjs.all([n[e]||{},...t]),n))}derived([s],([e])=>Object.keys(e));s.subscribe(e=>a=e);const d={};function g(e){return d[e]}function w(e){return e!=null&&E(e).some(t=>{var n;return(n=g(t))===null||n===void 0?void 0:n.size})}function h(e,t){return Promise.all(t.map(n=>(function(y,A){d[y].delete(A),d[y].size===0&&delete d[y]}(e,n),n().then(y=>y.default||y)))).then(n=>m(e,...n))}const p={};function b(e){if(!w(e))return e in p?p[e]:Promise.resolve();const t=function(n){return E(n).map(y=>{const A=g(y);return[y,A?[...A]:[]]}).filter(([,y])=>y.length>0)}(e);return p[e]=Promise.all(t.map(([n,y])=>h(n,y))).then(()=>{if(w(e))return b(e);delete p[e]}),p[e]}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function v(e,t){var n={};for(var y in e)Object.prototype.hasOwnProperty.call(e,y)&&t.indexOf(y)<0&&(n[y]=e[y]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var A=0;for(y=Object.getOwnPropertySymbols(e);A<y.length;A++)t.indexOf(y[A])<0&&Object.prototype.propertyIsEnumerable.call(e,y[A])&&(n[y[A]]=e[y[A]])}return n}const O={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,ignoreTag:!0};function j$2(){return O}function $(e){const{formats:t}=e,n=v(e,["formats"]),y=e.initialLocale||e.fallbackLocale;return Object.assign(O,n,{initialLocale:y}),t&&("number"in t&&Object.assign(O.formats.number,t.number),"date"in t&&Object.assign(O.formats.date,t.date),"time"in t&&Object.assign(O.formats.time,t.time)),M.set(y)}const k=writable(!1);let L;const T=writable(null);function x(e){return e.split("-").map((t,n,y)=>y.slice(0,n+1).join("-")).reverse()}function E(e,t=j$2().fallbackLocale){const n=x(e);return t?[...new Set([...n,...x(t)])]:n}function D(){return L!=null?L:void 0}T.subscribe(e=>{L=e!=null?e:void 0,typeof window!="undefined"&&e!=null&&document.documentElement.setAttribute("lang",e)});const M=Object.assign(Object.assign({},T),{set:e=>{if(e&&function(t){if(t==null)return;const n=E(t);for(let y=0;y<n.length;y++){const A=n[y];if(u(A))return A}}(e)&&w(e)){const{loadingDelay:t}=j$2();let n;return typeof window!="undefined"&&D()!=null&&t?n=window.setTimeout(()=>k.set(!0),t):k.set(!0),b(e).then(()=>{T.set(e)}).finally(()=>{clearTimeout(n),k.set(!1)})}return T.set(e)}}),I=()=>typeof window=="undefined"?null:window.navigator.language||window.navigator.languages[0],Z=e=>{const t=Object.create(null);return n=>{const y=JSON.stringify(n);return y in t?t[y]:t[y]=e(n)}},C=(e,t)=>{const{formats:n}=j$2();if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},G=Z(e=>{var{locale:t,format:n}=e,y=v(e,["locale","format"]);if(t==null)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(y=C("number",n)),new Intl.NumberFormat(t,y)}),J=Z(e=>{var{locale:t,format:n}=e,y=v(e,["locale","format"]);if(t==null)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?y=C("date",n):Object.keys(y).length===0&&(y=C("date","short")),new Intl.DateTimeFormat(t,y)}),U=Z(e=>{var{locale:t,format:n}=e,y=v(e,["locale","format"]);if(t==null)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?y=C("time",n):Object.keys(y).length===0&&(y=C("time","short")),new Intl.DateTimeFormat(t,y)}),_=(e={})=>{var{locale:t=D()}=e,n=v(e,["locale"]);return G(Object.assign({locale:t},n))},q=(e={})=>{var{locale:t=D()}=e,n=v(e,["locale"]);return J(Object.assign({locale:t},n))},B=(e={})=>{var{locale:t=D()}=e,n=v(e,["locale"]);return U(Object.assign({locale:t},n))},H$1=Z((e,t=D())=>new o(e,t,j$2().formats,{ignoreTag:j$2().ignoreTag})),K=(e,t={})=>{let n=t;typeof e=="object"&&(n=e,e=n.id);const{values:y,locale:A=D(),default:S}=n;if(A==null)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let P=l(e,A);if(P){if(typeof P!="string")return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof P}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),P}else j$2().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${e}" was not found in "${E(A).join('", "')}".${w(D())?`

Note: there are at least one loader still registered to this locale that wasn't executed.`:""}`),P=S!=null?S:e;if(!y)return P;let F=P;try{F=H$1(P,A).format(y)}catch(z){console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,z.message)}return F},Q=(e,t)=>B(t).format(e),R=(e,t)=>q(t).format(e),V=(e,t)=>_(t).format(e),W$1=(e,t=D())=>l(e,t),X=derived([M,s],()=>K);derived([M],()=>Q);derived([M],()=>R);derived([M],()=>V);derived([M,s],()=>W$1);class RouteFragment{constructor(t,n,y){Ie(this,"_params",{});this.route=t,this.node=n,this.load=void 0,this.urlFragment=y,Object.defineProperty(this,"route",{enumerable:!1})}get params(){return this._params}setParams(t){this._params=t}getParamsFromFragment(){const{getFieldsFromName:t,getValuesFromPath:n,mapFieldsWithValues:y}=this.route.router.instance.utils;return y(t(this.node.name),n(this.node.regex,this.urlFragment))}}const spreadsLast=e=>e.name.match(/\[\.\.\.(.+)\]/)?1:-1,getNearestAncestorNodeWithSpreadParam=e=>{var t;for(const n of[...e].reverse())for(const y of((t=n.node.parent)==null?void 0:t.children)||[])if(y.name.match(/\[\.\.\.(.+)\]/))return y},getUrlFragments=e=>e.replace(/[?#].+/,"").replace(/\/$/,"").split("/").slice(1),indexOfNode=(e,t)=>e.findIndex(n=>n.node===t),URL_STATES=["pushState","replaceState","popState"];class Route{constructor(t,n,y){Ie(this,"allFragments",[]);Ie(this,"loaded");Ie(this,"load",{status:200,error:null,maxage:null,props:{},redirect:null});if(this.router=t,this.url=n,this.mode=y,!t.rootNode){this.router.log.error("Can't navigate without a rootNode");const A=new Error("Can't navigate without a rootNode");throw Object.assign(A,{routify:{router:t}}),A}if(!URL_STATES.includes(y))throw new Error("url.mode must be pushState, replaceState or popState");this.allFragments=this._createFragments()}get fragments(){const t=this.allFragments.filter(n=>n.node.module);return this.router.transformFragments.run(t)}get params(){const t=this.url.match(/\?.+/),n=t&&t[0];return Object.assign({},...this.allFragments.map(y=>y.params),n&&this.router.queryHandler.parse(n))}async loadRoute(){const{router:t}=this,n=[this.runBeforeUrlChangeHooks,this.loadComponents,this.runGuards,this.runPreloads];return this.loaded=new Promise(async(y,A)=>{for(const P of n){const F=await P.bind(this)(),z=this!==t.pendingRoute.get();if(t.pendingRoute.get()){if(z){t.pendingRoute.get().loaded.then(y).catch(A);return}else if(!F){t.pendingRoute.set(null);return}}else{y({route:t.activeRoute.get()});return}}const S=this.router.activeRoute.get();S&&t.history.push(S),t.activeRoute.set(this),t.afterUrlChange.run({route:this,history:[...t.history].reverse()}),t.pendingRoute.set(null),y({route:this})}),this.loaded}async loadComponents(){return await Promise.all(this.fragments.map(async t=>{const n=await t.node.module();t.node.module=()=>n})),!0}async runPreloads(){var n;const t={route:this,node:[...this.fragments].pop().node};for(const y of this.fragments)if(((n=y.node.module())==null?void 0:n.load)&&(y.load=await y.node.module().load(t),Object.assign(this.load,y.load),y.load.redirect))return this.router.url.replace(y.load.redirect);return this}async runGuards(){const t=this.fragments.map(n=>n.node.module()).filter(n=>n==null?void 0:n.guard);for(const n of t)if(console.warn('"guard" will be deprecated. Please use "load.redirect" instead.'),!await n.guard(this))return!1;return!0}async runBeforeUrlChangeHooks(){return await this.router.beforeUrlChange.run({route:this})}_createFragments(){const{url:t="",router:n}=this,{rootNode:y}=n;let A=[],S=y;const P=(ee,te,ne)=>{const oe=new RouteFragment(this,ee,te),ie=ee.name.match(/\[\.\.\.(.+)\]/);return ie?ne.push(te):ne=[],ie?oe.setParams({[ie[1]]:ne}):oe.setParams(oe.getParamsFromFragment()),oe},F=getUrlFragments(t),z=[new RouteFragment(this,S,"")];for(let ee=0;ee<F.length;ee++){const te=F[ee],ne=S.children.filter(ie=>!ie.name.startsWith("_")),oe=ne.find(ie=>ie.name===te)||ne.sort(spreadsLast).find(ie=>ie.regex.test(te));if(oe)z.push(P(oe,te,A)),S=oe;else if(A.length)A.push(te);else{const ie=getNearestAncestorNodeWithSpreadParam(z);if(ie){const se=indexOfNode(z,ie),ae=z.splice(se);ee=ee-ae.length,z.push(P(ie,F[ee],A)),S=ie}else{const se=S._fallback;if(!se)throw new Error(`router: "${n.name||"[default]"}" could not find route: ${t}`);z.splice(se.level),z.push(new RouteFragment(this,se,""));break}}}let Y=z[z.length-1].node;for(;Y;)Y=Y.children.find(ee=>ee.name==="index"),Y&&z.push(new RouteFragment(this,Y,""));if(!z.filter(({node:ee})=>ee.module).length)throw new Error(`could not find route: ${t}`);return z}}const getUrlFromClick=e=>{const t=e.target.closest("a"),n=t&&t.href;if(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button||e.key&&e.key!=="Enter"||e.defaultPrevented||!n||t.target||t.host!==location.host)return;const y=new URL(n),A=y.pathname+y.search+y.hash;return e.preventDefault(),A},fromEntries=e=>[...e].reduce((t,[n,y])=>(t[n]=y,t),{}),populateUrl=(e,t,n)=>{const y={};Object.entries(t).forEach(([S,P])=>{const F=new RegExp(`\\[${S}\\]|\\:${S}`);e.match(F)?e=e.replace(`[${S}]`,P):y[S]=P});const A=Object.keys(y).length?n.stringify(y):"";return e+A},urlFromAddress=()=>(({pathname:e,search:t,hash:n})=>e+t+n)(window.location),contexts={get router(){return getContext("routify-fragment-context").route.router},get fragment(){return getContext("routify-fragment-context")}},getContextMaybe=e=>{try{return getContext(e)}catch{}},getable=(e,t)=>{const n=writable(e,t);return Object.assign(n,{get:()=>get_store_value(n)})},identicalRoutes=(...e)=>e.map(t=>JSON.stringify([t==null?void 0:t.allFragments,t==null?void 0:t.url])).reduce((t,n)=>t===n&&n);class BaseReflector{constructor(t){this.router=t,this.log=this.router.log}install(){}uninstall(){}reflect(){}}const createBrowserAdapter=e=>{const t=(e==null?void 0:e.delimiter)||";";return{toRouter:(n,y)=>{const A=y.name?`${y.name}=(.+?)`:"(.+?)",S=new RegExp(`(^|${t})${A}(${t}|$)`),P=n.match(S);return P?P[2]:"/"},toBrowser:n=>n.map(y=>(y.name?`${y.name}=`:"")+y.url.external()).join(t)}};class Global{constructor(){Ie(this,"instances",[]);Ie(this,"browserAdapter",createBrowserAdapter());Ie(this,"urlFromBrowser",t=>this.browserAdapter.toRouter(urlFromAddress(),t));typeof window!="undefined"&&(window.__routify=this)}get routers(){return[].concat(...this.instances.map(t=>t.routers))}register(t){return this.instances.push(t),this}}const globalInstance=new Global,defaultRe=/\[(.+?)\]/gm;class UrlParamUtils{constructor(t=defaultRe){Ie(this,"getFieldsFromName",t=>[...t.matchAll(this.RE)].map(n=>n[1]));Ie(this,"getRegexFromName",t=>new RegExp("^"+t.replace(this.RE,"(.+)")+"$"));Ie(this,"getValuesFromPath",(t,n)=>(n.match(t)||[]).slice(1));Ie(this,"mapFieldsWithValues",(t,n)=>this.haveEqualLength(t,n)&&t.reduce((y,A,S)=>(y[A]=n[S],y),{}));Ie(this,"haveEqualLength",(t,n)=>{if(t.length!==n.length)throw new Error(`fields and values should be of same length
fields: ${JSON.stringify(t)}
values: ${JSON.stringify(n)}`);return!0});this.RE=t}}class RNode{constructor(t,n,y){Ie(this,"instance");Ie(this,"parent");Ie(this,"meta",{});Ie(this,"id");this.instance=y,this.name=t,y.nodeIndex.push(this),this.module=n,Object.defineProperty(this,"Instance",{enumerable:!1}),Object.defineProperty(this,"instance",{enumerable:!1}),Object.defineProperty(this,"parent",{enumerable:!1})}appendChild(t){t.parent=this}createChild(t,n){const y=this.instance.createNode(t,n);return this.appendChild(y),y}get descendants(){return this.instance.nodeIndex.filter(t=>t.ancestors.find(n=>n===this))}remove(){const{nodeIndex:t}=this.instance,n=t.findIndex(y=>y===this);t.splice(n,1)}get ancestors(){let t=this;const n=[];for(;t=t.parent;)n.push(t);return n}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get isRoot(){return this===this.root}get children(){return this.instance.nodeIndex.filter(t=>t.parent===this)}get level(){var t;return(((t=this.parent)==null?void 0:t.level)||0)+1}traverse(t){const n=t.startsWith("/")?this.root:this,y=t.split("/").filter(A=>A!==".").filter(Boolean);try{return y.reduce((S,P)=>P===".."?S.parent:S.children.find(F=>F.name===P),n)}catch(A){console.error("can't resolve path",t,"from",this.path,`
`,A)}}toJSON(){return He(Me({},this),{children:[...this.children]})}get path(){return"/"+[this,...this.ancestors].reverse().map(t=>t.name).filter(Boolean).join("/")}}function create_else_block(e){let t;const n=e[4].default,y=create_slot(n,e,e[5],null);return{c(){y&&y.c()},m(A,S){y&&y.m(A,S),t=!0},p(A,S){y&&y.p&&(!t||S&32)&&update_slot_base(y,n,A,A[5],t?get_slot_changes(n,A[5],S,null):get_all_dirty_from_scope(A[5]),null)},i(A){t||(transition_in(y,A),t=!0)},o(A){transition_out(y,A),t=!1},d(A){y&&y.d(A)}}}function create_if_block$2(e){let t,n,y=e[2]&&create_if_block_1$1(e);return{c(){y&&y.c(),t=empty$1()},m(A,S){y&&y.m(A,S),insert(A,t,S),n=!0},p(A,S){A[2]?y?(y.p(A,S),S&4&&transition_in(y,1)):(y=create_if_block_1$1(A),y.c(),transition_in(y,1),y.m(t.parentNode,t)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(A){n||(transition_in(y),n=!0)},o(A){transition_out(y),n=!1},d(A){y&&y.d(A),A&&detach(t)}}}function create_if_block_1$1(e){let t,n;const y=[e[1],{context:e[3]}];let A={$$slots:{default:[create_default_slot$1]},$$scope:{ctx:e}};for(let S=0;S<y.length;S+=1)A=assign(A,y[S]);return t=new e[2]({props:A}),{c(){create_component(t.$$.fragment)},m(S,P){mount_component(t,S,P),n=!0},p(S,P){const F=P&10?get_spread_update(y,[P&2&&get_spread_object(S[1]),P&8&&{context:S[3]}]):{};P&32&&(F.$$scope={dirty:P,ctx:S}),t.$set(F)},i(S){n||(transition_in(t.$$.fragment,S),n=!0)},o(S){transition_out(t.$$.fragment,S),n=!1},d(S){destroy_component(t,S)}}}function create_default_slot$1(e){let t;const n=e[4].default,y=create_slot(n,e,e[5],null);return{c(){y&&y.c()},m(A,S){y&&y.m(A,S),t=!0},p(A,S){y&&y.p&&(!t||S&32)&&update_slot_base(y,n,A,A[5],t?get_slot_changes(n,A[5],S,null):get_all_dirty_from_scope(A[5]),null)},i(A){t||(transition_in(y,A),t=!0)},o(A){transition_out(y,A),t=!1},d(A){y&&y.d(A)}}}function create_fragment$4(e){let t,n,y,A;const S=[create_if_block$2,create_else_block],P=[];function F(z,Y){return z[0].module?0:1}return t=F(e),n=P[t]=S[t](e),{c(){n.c(),y=empty$1()},m(z,Y){P[t].m(z,Y),insert(z,y,Y),A=!0},p(z,[Y]){let ee=t;t=F(z),t===ee?P[t].p(z,Y):(group_outros(),transition_out(P[ee],1,1,()=>{P[ee]=null}),check_outros(),n=P[t],n?n.p(z,Y):(n=P[t]=S[t](z),n.c()),transition_in(n,1),n.m(y.parentNode,y))},i(z){A||(transition_in(n),A=!0)},o(z){transition_out(n),A=!1},d(z){P[t].d(z),z&&detach(y)}}}const CTX="routify-fragment-context";function instance$3(e,t,n){let{$$slots:y={},$$scope:A}=t,{node:S}=t,{passthrough:P}=t;const F=He(Me({},getContext(CTX)),{node:S});setContext(CTX,F);let z;return S.module&&S.getRawComponent().then(Y=>n(2,z=Y)),e.$$set=Y=>{"node"in Y&&n(0,S=Y.node),"passthrough"in Y&&n(1,P=Y.passthrough),"$$scope"in Y&&n(5,A=Y.$$scope)},[S,P,z,F,y,A]}class Node extends SvelteComponent{constructor(t){super();init(this,t,instance$3,create_fragment$4,safe_not_equal,{node:0,passthrough:1})}}var ke;class RNodeRuntime extends RNode{constructor(){super(...arguments);Ye(this,ke,{});Ie(this,"importTree",t=>{const n=[[this,t]];for(;n.length;){const[A,S]=n.pop(),y=S,{children:P}=y,F=qe(y,["children"]);Object.assign(A,F);for(const z of P){const Y=A.createChild(S.name||S.rootName||"");n.push([Y,z])}}return this})}get regex(){const{name:t}=this;return De(this,ke)[t]||(De(this,ke)[t]=this.instance.utils.getRegexFromName(this.name)),De(this,ke)[t]}set regex(t){De(this,ke)[this.name]=new RegExp(t)}get children(){return this.instance.nodeIndex.filter(n=>n.parent===this).sort((n,y)=>(n.meta.order||0)-(y.meta.order||0))}get pages(){return this.children.filter(t=>t.name!=="index").filter(t=>!t.meta.fallback).filter(t=>!t.name.startsWith("_")).filter(t=>!t.name.includes("[")).filter(t=>{var n;return((n=t.meta)==null?void 0:n.order)!==!1})}getRawComponent(){return this.module&&new Promise(t=>{const n=this.module(),y=n.then?n.then(A=>A.default):n.default;t(y)})}get component(){const t=this;return function(n){return n.props=He(Me({},n.props),{passthrough:n.props,node:t}),new Node(Me({},n))}}appendChild(t){t.instance&&(t.parent=this)}get _fallback(){var t;return this.children.find(n=>n.meta.fallback)||((t=this.parent)==null?void 0:t._fallback)}}ke=new WeakMap;class Routify{constructor(t){Ie(this,"Node",RNode);Ie(this,"mode","runtime");Ie(this,"nodeIndex",[]);Ie(this,"rootNodes",{})}createNode(t,n){return new this.Node(t,n,this)}}class RoutifyRuntime extends Routify{constructor(t){super();Ie(this,"Node",RNodeRuntime);Ie(this,"mode","runtime");Ie(this,"routers",[]);Ie(this,"rootNodes",{});this.options=t,t.routes&&(this.rootNodes[t.routes.rootName||"unnamed"]=this.createNode(t.routes.rootName).importTree(t.routes)),this.utils=new UrlParamUtils,this.global=globalInstance.register(this),Object.defineProperty(this,"routers",{enumerable:!1}),this.log=this.global.log}}const createHooksCollection=e=>{const t=[],n=y=>(t.push(y),()=>t.splice(t.indexOf(y),1));return n.hooks=t,n.run=e(t),n},createPipelineCollection=e=>createHooksCollection(t=>(n,...y)=>t.reduce((A,S)=>(A==null?void 0:A.then)?A.then(P=>S(P,...y)):S(A,...y),n)),createSequenceHooksCollection=e=>createHooksCollection(t=>(n,...y)=>t.reduce((A,S)=>(A==null?void 0:A.then)?A.then(P=>S(n,...y)):S(n,...y),n)),createGuardsCollection=e=>createHooksCollection(t=>(n,...y)=>t.reduce((A,S)=>(A==null?void 0:A.then)?A.then(P=>P&&S(n,...y)):A&&S(n,...y),n||!0));class AddressReflector extends BaseReflector{constructor(t){super(t);Ie(this,"reflect",()=>{const{mode:t}=get_store_value(this.router.activeRoute);if(t==="popState")return!1;const{routers:n,browserAdapter:y}=this.router.instance.global,A=n.filter(P=>P.urlReflector instanceof this.constructor),S=y.toBrowser(A);history[`${t}Native`]({},"",S)});const{instance:n,urlRewrites:y}=t,{urlFromBrowser:A,browserAdapter:S}=n.global;history.onPushstate||polyfillHistory();const P=F=>function(z,Y,ee){var ne,oe;const te=(oe=(ne=z==null?void 0:z.routify)==null?void 0:ne.router)!=null?oe:!1;if(te===!1)ee=S.toRouter(ee,t);else if(te!==t.name)return!1;for(const ie of y)ee=ie.toInternal(ee,{router:t});t.url[F](ee)};this.absorb=()=>t.url.replace(A(t)),this._pushstateHandler=P("push"),this._replacestateHandler=P("replace"),this._popstateHandler=()=>t.url.pop(A(t))}install(){this.hooks=[history.onPushstate(this._pushstateHandler),history.onReplacestate(this._replacestateHandler),history.onPopstate(this._popstateHandler)],get_store_value(this.router.activeRoute)?this.reflect():this.absorb()}uninstall(){this.hooks.forEach(t=>t()),setTimeout(()=>this.reflect())}}function polyfillHistory(){const e={onPushstate:createSequenceHooksCollection(),onReplacestate:createSequenceHooksCollection(),onPopstate:createSequenceHooksCollection()};Object.assign(history,e);const{pushState:t,replaceState:n}=history;return history.pushStateNative=t,history.replaceStateNative=n,history.pushState=e.onPushstate.run,history.replaceState=e.onReplacestate.run,window.addEventListener("popstate",e.onPopstate.run),!0}class InternalReflector extends BaseReflector{}const sleep=()=>new Promise(requestAnimationFrame),scrollIsIdle=(e=100)=>new Promise(t=>{let n;const y=async A=>{clearTimeout(n),await sleep(),n=setTimeout(()=>{t(),removeEventListener("scroll",y)},e)};addEventListener("scroll",y)}),createScrollHandler=()=>{const e=writable(!1);return{isScrolling:e,run:({route:n,history:y})=>{var Y;const[A,S]=n.url.split("#"),[P,F]=((Y=y[0])==null?void 0:Y.url.split("#"))||[];if(!S)return;const z=async ee=>{const te=A===P,ne=document.getElementById(S);if(ne&&ne.scrollIntoView({behavior:te?"smooth":"auto"}),te&&ne&&(e.set(!0),await scrollIsIdle(),e.set(!1)),!te&&!ee){const oe=new MutationObserver(z);oe.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),setTimeout(oe.disconnect.bind(oe),500)}};z()}}},plugin={beforeRouterInit:({router:e})=>{const{isScrolling:t,run:n}=createScrollHandler();e.afterUrlChange(n),e.scrollHandler={isScrolling:t}}};var reset=()=>({beforeUrlChange:({route:e})=>{const t=e.allFragments;return t.forEach(n=>{const{reset:y}=n.node.meta;if(y){const A=t.indexOf(n),S=y===!0?A:Number(y),P=A-S;t.splice(P,A)}}),!0}});const stripNullFields=e=>Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null)),normalizeRouterOptions=(e,t)=>{t=t||{name:"",beforeRouterInit:[],afterRouterInit:[],urlRewrite:[],beforeUrlChange:[],afterUrlChange:[],transformFragments:[],onDestroy:[]};const S=e,{plugins:n}=S,y=qe(S,["plugins"]);return[...n||[],y].forEach(P=>{"plugin"in P&&normalizeRouterOptions(P,t),Object.entries(P).forEach(([F,z])=>{Array.isArray(t[F])?t[F].push(...[z].flat().filter(Boolean)):t[F]=z||t[F]})}),t},defaultPlugins=[plugin,reset()];var je;const ze=class{constructor(t){Ie(this,"pendingRoute",getable(null));Ie(this,"activeRoute",getable(null));Ye(this,je,null);Ie(this,"urlRewrites",[]);Ie(this,"beforeRouterInit",createSequenceHooksCollection());Ie(this,"afterRouterInit",createSequenceHooksCollection());Ie(this,"beforeUrlChange",createGuardsCollection());Ie(this,"afterUrlChange",createSequenceHooksCollection());Ie(this,"transformFragments",createPipelineCollection());Ie(this,"onDestroy",createSequenceHooksCollection());Ie(this,"parentElem",null);Ie(this,"queryHandler",{parse:t=>fromEntries(new URLSearchParams(t)),stringify:t=>"?"+new URLSearchParams(t).toString()});Ie(this,"url",{internal:()=>this.url.getPending()||this.url.getActive(),external:()=>this.getExternalUrl(),getActive:()=>{var t;return(t=get_store_value(this.activeRoute))==null?void 0:t.url},getPending:()=>{var t;return(t=get_store_value(this.pendingRoute))==null?void 0:t.url},toString:()=>this.url.internal(),set:this._setUrl,push:t=>this._setUrl(t,"pushState"),replace:t=>this._setUrl(t,"replaceState"),pop:t=>this._setUrl(t,"popState")});Ie(this,"ready",(()=>new Promise(t=>{let n;n=this.activeRoute.subscribe(y=>{y&&t(),n&&n()})}))());Ie(this,"history",[]);Ie(this,"setParentElem",t=>this.parentElem=t);Ie(this,"getExternalUrl",t=>this.urlRewrites.reduce((y,A)=>A.toExternal(y,{router:this}),t||this.url.internal()));Ie(this,"getInternalUrl",t=>this.urlRewrites.reduce((n,y)=>y.toInternal(n,{router:this}),t));const{subscribe:n,set:y}=writable(this);this.subscribe=n,this.triggerStore=()=>y(this),t.plugins=[...t.plugins||[],...defaultPlugins].filter(Boolean),this.init(t),this.params=derived(this.activeRoute,A=>A.params),this.afterUrlChange(()=>setTimeout(()=>De(this,je).reflect())),this.activeRoute.get=()=>get_store_value(this.activeRoute),this.pendingRoute.get=()=>get_store_value(this.pendingRoute)}init(t){const n=!this.options;t=stripNullFields(t),this.options=normalizeRouterOptions(Me(Me({},this.options),t));let{instance:y,rootNode:A,name:S,routes:P,urlRewrite:F,urlReflector:z,url:Y,passthrough:ee,beforeUrlChange:te,afterUrlChange:ne,transformFragments:oe,onDestroy:ie,beforeRouterInit:se,afterRouterInit:ae}=this.options;te.forEach(this.beforeUrlChange),oe.forEach(this.transformFragments),ne.forEach(this.afterUrlChange),ie.forEach(this.onDestroy),se.forEach(this.beforeRouterInit),ae.forEach(this.afterRouterInit),this.beforeRouterInit.run({router:this,firstInit:n});const le=getContextMaybe("routify-fragment-context");this.instance=y||this.instance||(le==null?void 0:le.route.router.instance)||globalInstance.instances[0]||new RoutifyRuntime({}),this.name=S,this.urlRewrites=F,ee&&!(ee instanceof ze)&&(ee=(le==null?void 0:le.route.router)||ee),this.passthrough=ee||this.passthrough,globalInstance.instances.forEach(ue=>{const Ee=ue.routers.indexOf(this);Ee!==-1&&ue.routers.splice(Ee,1)}),this.instance.routers.push(this),P&&this.importRoutes(P),this.parentCmpCtx=le,this.rootNode=A||this.rootNode||this.instance.rootNodes.default,this.url.getActive()&&this._setUrl(this.url.getActive(),"pushState",!0),(!this.urlReflector||z&&!(this.urlReflector instanceof z))&&(z=z||(typeof window!="undefined"?AddressReflector:InternalReflector),this.setUrlReflector(z)),Y&&this.url.replace(Y),this.triggerStore(),this.afterRouterInit.run({router:this,firstInit:n})}importRoutes(t){this.rootNode=this.instance.createNode().importTree(t),this.instance.rootNodes[t.rootName||"unnamed"]=this.rootNode}async _setUrl(t,n,y){y||(t=this.getInternalUrl(t)),t=t||"/",t=t.replace(/(.+)\/+([#?]|$)/,"$1$2");const{activeRoute:A,pendingRoute:S}=this;A.get(),t.startsWith("/")||(t=t.replace(new URL(t).origin,""));const P=new Route(this,t,n),F=S.get()||A.get();return identicalRoutes(F,P)||(S.set(P),await P.loadRoute()),!0}destroy(){this.instance.routers=this.instance.routers.filter(t=>t!==this),this.onDestroy.run({router:this})}get urlReflector(){return De(this,je)}setUrlReflector(t){var n;(n=De(this,je))==null||n.uninstall(),Qe(this,je,new t(this)),De(this,je).install(),this.triggerStore()}};let Router=ze;je=new WeakMap;function create_fragment$3(e){let t;const n=e[2].default,y=create_slot(n,e,e[1],null);return{c(){y&&y.c()},m(A,S){y&&y.m(A,S),t=!0},p(A,[S]){y&&y.p&&(!t||S&2)&&update_slot_base(y,n,A,A[1],t?get_slot_changes(n,A[1],S,null):get_all_dirty_from_scope(A[1]),null)},i(A){t||(transition_in(y,A),t=!0)},o(A){transition_out(y,A),t=!1},d(A){y&&y.d(A)}}}function instance$2(e,t,n){let{$$slots:y={},$$scope:A}=t,{context:S=null}=t;return e.$$set=P=>{"context"in P&&n(0,S=P.context),"$$scope"in P&&n(1,A=P.$$scope)},[S,A,y]}class Noop extends SvelteComponent{constructor(t){super();init(this,t,instance$2,create_fragment$3,safe_not_equal,{context:0})}}function create_if_block$1(e){let t,n;return t=new Component({props:{fragments:e[5],props:e[1],decorator:e[0]}}),{c(){create_component(t.$$.fragment)},m(y,A){mount_component(t,y,A),n=!0},p(y,A){const S={};A&32&&(S.fragments=y[5]),A&2&&(S.props=y[1]),A&1&&(S.decorator=y[0]),t.$set(S)},i(y){n||(transition_in(t.$$.fragment,y),n=!0)},o(y){transition_out(t.$$.fragment,y),n=!1},d(y){destroy_component(t,y)}}}function create_default_slot_1(e){let t,n,y=e[5].length&&create_if_block$1(e);return{c(){y&&y.c(),t=empty$1()},m(A,S){y&&y.m(A,S),insert(A,t,S),n=!0},p(A,S){A[5].length?y?(y.p(A,S),S&32&&transition_in(y,1)):(y=create_if_block$1(A),y.c(),transition_in(y,1),y.m(t.parentNode,t)):y&&(group_outros(),transition_out(y,1,1,()=>{y=null}),check_outros())},i(A){n||(transition_in(y),n=!0)},o(A){transition_out(y),n=!1},d(A){y&&y.d(A),A&&detach(t)}}}function create_default_slot(e){var F;let t,n,y;const A=[{context:e[2]},e[1],(F=e[4])==null?void 0:F.props];var S=e[3].node.module().default;function P(z){let Y={$$slots:{default:[create_default_slot_1,({props:ee,decorator:te})=>({1:ee,0:te}),({props:ee,decorator:te})=>(ee?2:0)|(te?1:0)]},$$scope:{ctx:z}};for(let ee=0;ee<A.length;ee+=1)Y=assign(Y,A[ee]);return{props:Y}}return S&&(t=new S(P(e))),{c(){t&&create_component(t.$$.fragment),n=empty$1()},m(z,Y){t&&mount_component(t,z,Y),insert(z,n,Y),y=!0},p(z,Y){var te;const ee=Y&22?get_spread_update(A,[Y&4&&{context:z[2]},Y&2&&get_spread_object(z[1]),Y&16&&get_spread_object((te=z[4])==null?void 0:te.props)]):{};if(Y&547&&(ee.$$scope={dirty:Y,ctx:z}),S!==(S=z[3].node.module().default)){if(t){group_outros();const ne=t;transition_out(ne.$$.fragment,1,0,()=>{destroy_component(ne,1)}),check_outros()}S?(t=new S(P(z)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,n.parentNode,n)):t=null}else S&&t.$set(ee)},i(z){y||(t&&transition_in(t.$$.fragment,z),y=!0)},o(z){t&&transition_out(t.$$.fragment,z),y=!1},d(z){z&&detach(n),t&&destroy_component(t,z)}}}function create_fragment$2(e){let t,n,y;var A=e[0]||Noop;function S(P){return{props:{context:P[2],$$slots:{default:[create_default_slot]},$$scope:{ctx:P}}}}return A&&(t=new A(S(e))),{c(){t&&create_component(t.$$.fragment),n=empty$1()},m(P,F){t&&mount_component(t,P,F),insert(P,n,F),y=!0},p(P,[F]){const z={};if(F&4&&(z.context=P[2]),F&575&&(z.$$scope={dirty:F,ctx:P}),A!==(A=P[0]||Noop)){if(t){group_outros();const Y=t;transition_out(Y.$$.fragment,1,0,()=>{destroy_component(Y,1)}),check_outros()}A?(t=new A(S(P)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,n.parentNode,n)):t=null}else A&&t.$set(z)},i(P){y||(t&&transition_in(t.$$.fragment,P),y=!0)},o(P){t&&transition_out(t.$$.fragment,P),y=!1},d(P){P&&detach(n),t&&destroy_component(t,P)}}}function instance$1(e,t,n){let y,A,S,P,F,{fragments:z}=t,{decorator:Y=null}=t,{props:ee={}}=t,te={};return setContext("routify-fragment-context",te),e.$$set=ne=>{"fragments"in ne&&n(6,z=ne.fragments),"decorator"in ne&&n(0,Y=ne.decorator),"props"in ne&&n(1,ee=ne.props)},e.$$.update=()=>{e.$$.dirty&64&&n(3,[y,...A]=[...z],y,(n(5,A),n(6,z))),e.$$.dirty&8&&n(7,{node:S,load:P,route:F}=y,S,(n(4,P),n(3,y),n(6,z)),(n(8,F),n(3,y),n(6,z))),e.$$.dirty&412&&n(2,te=Object.assign(te,{route:F,node:S,load:P,fragment:y}))},[Y,ee,te,y,P,A,z,S,F]}class Component extends SvelteComponent{constructor(t){super();init(this,t,instance$1,create_fragment$2,safe_not_equal,{fragments:6,decorator:0,props:1})}}function create_if_block_1(e){let t,n,y,A,S,P;return n=new Component({props:{fragments:e[2],decorator:e[1]}}),{c(){t=element("div"),create_component(n.$$.fragment),set_style(t,"display","contents")},m(F,z){insert(F,t,z),mount_component(n,t,null),A=!0,S||(P=action_destroyer(y=e[5].call(null,t)),S=!0)},p(F,z){const Y={};z&4&&(Y.fragments=F[2]),z&2&&(Y.decorator=F[1]),n.$set(Y)},i(F){A||(transition_in(n.$$.fragment,F),A=!0)},o(F){transition_out(n.$$.fragment,F),A=!1},d(F){F&&detach(t),destroy_component(n),S=!1,P()}}}function create_if_block(e){let t,n,y,A;return{c(){t=element("div")},m(S,P){insert(S,t,P),y||(A=action_destroyer(n=e[0].setParentElem(t)),y=!0)},d(S){S&&detach(t),y=!1,A()}}}function create_fragment$1(e){let t,n,y,A=e[3]&&create_if_block_1(e),S=!e[0].parentElem&&create_if_block(e);return{c(){A&&A.c(),t=space(),S&&S.c(),n=empty$1()},m(P,F){A&&A.m(P,F),insert(P,t,F),S&&S.m(P,F),insert(P,n,F),y=!0},p(P,[F]){P[3]?A?(A.p(P,F),F&8&&transition_in(A,1)):(A=create_if_block_1(P),A.c(),transition_in(A,1),A.m(t.parentNode,t)):A&&(group_outros(),transition_out(A,1,1,()=>{A=null}),check_outros()),P[0].parentElem?S&&(S.d(1),S=null):S||(S=create_if_block(P),S.c(),S.m(n.parentNode,n))},i(P){y||(transition_in(A),y=!0)},o(P){transition_out(A),y=!1},d(P){A&&A.d(P),P&&detach(t),S&&S.d(P),P&&detach(n)}}}function instance_1(e,t,n){let y,A,S,P=noop$2,F=()=>(P(),P=subscribe(y,de=>n(3,S=de)),y);e.$$.on_destroy.push(()=>P());let{router:z=null}=t,{routes:Y=null}=t,{decorator:ee=null}=t,{urlReflector:te=null}=t,{instance:ne=null}=t,{urlRewrite:oe=null}=t,{url:ie=null}=t,{name:se=null}=t,{rootNode:ae=null}=t,{passthrough:le=null}=t,{beforeRouterInit:pe=null}=t,{afterRouterInit:ue=null}=t,{beforeUrlChange:Ee=null}=t,{afterUrlChange:ve=null}=t,{transformFragments:me=null}=t,{onDestroy:he=null}=t,{plugins:_e=null}=t;const be=de=>{z.passthrough||(de.addEventListener("click",Ae),de.addEventListener("keydown",Ae))},Ae=de=>{const Se=getUrlFromClick(de);Se&&z.url.push(Se)};return typeof window!="undefined"&&onDestroy(()=>z.destroy()),e.$$set=de=>{"router"in de&&n(0,z=de.router),"routes"in de&&n(6,Y=de.routes),"decorator"in de&&n(1,ee=de.decorator),"urlReflector"in de&&n(7,te=de.urlReflector),"instance"in de&&n(8,ne=de.instance),"urlRewrite"in de&&n(9,oe=de.urlRewrite),"url"in de&&n(10,ie=de.url),"name"in de&&n(11,se=de.name),"rootNode"in de&&n(12,ae=de.rootNode),"passthrough"in de&&n(13,le=de.passthrough),"beforeRouterInit"in de&&n(14,pe=de.beforeRouterInit),"afterRouterInit"in de&&n(15,ue=de.afterRouterInit),"beforeUrlChange"in de&&n(16,Ee=de.beforeUrlChange),"afterUrlChange"in de&&n(17,ve=de.afterUrlChange),"transformFragments"in de&&n(18,me=de.transformFragments),"onDestroy"in de&&n(19,he=de.onDestroy),"plugins"in de&&n(20,_e=de.plugins)},e.$$.update=()=>{if(e.$$.dirty&2096065){const de={instance:ne,rootNode:ae,name:se,routes:Y,urlRewrite:oe,urlReflector:te,passthrough:le,beforeRouterInit:pe,afterRouterInit:ue,beforeUrlChange:Ee,afterUrlChange:ve,transformFragments:me,onDestroy:he,plugins:_e};z?z.init(de):n(0,z=new Router(de))}e.$$.dirty&1025&&ie&&ie!==z.url.internal()&&z.url.replace(ie),e.$$.dirty&1&&F(n(4,y=z.activeRoute)),e.$$.dirty&8&&n(2,A=(S==null?void 0:S.fragments)||[]),e.$$.dirty&5},[z,ee,A,S,y,be,Y,te,ne,oe,ie,se,ae,le,pe,ue,Ee,ve,me,he,_e]}class Router_1 extends SvelteComponent{constructor(t){super();init(this,t,instance_1,create_fragment$1,safe_not_equal,{router:0,routes:6,decorator:1,urlReflector:7,instance:8,urlRewrite:9,url:10,name:11,rootNode:12,passthrough:13,beforeRouterInit:14,afterRouterInit:15,beforeUrlChange:16,afterUrlChange:17,transformFragments:18,onDestroy:19,plugins:20})}}const getMRCA=(e,t)=>{const n=[e,...e.ancestors],y=[t,...t.ancestors];return n.find(A=>y.includes(A))},getPath=(e,t)=>{const n=[e,...e.ancestors],y=[t,...t.ancestors],A=getMRCA(e,t),S=n.indexOf(A),P=S?"../".repeat(S):"",F=y.indexOf(A),z=y.slice(0,F).reverse().map(Y=>Y.name).join("/");return P+z},goto={subscribe:(e,t)=>{const{router:n}=contexts;return derived(url,y=>(A,S,P)=>{const F=y(A,S);n.url.push(F)}).subscribe(e,t)}},url={subscribe:(e,t)=>{const{router:n}=contexts;let y=contexts.fragment.node;return derived(n.activeRoute,A=>(y=n.rootNode.traverse(y.path),(S,P={})=>{const F=S.startsWith("/")?n.rootNode.path:"",z=y.traverse(F+S);if(!z){console.error("could not find destination node",S);return}const Y=getMRCA(z,n.rootNode),ee="/"+getPath(Y,z),te=Me(Me({},inheritedParams(z,A)),P),ne=populateUrl(ee,te,n.queryHandler);return n.getExternalUrl(ne)})).subscribe(e,t)}},inheritedParams=(e,t)=>{const y=[e,...e.ancestors].reverse().map(A=>{var S;return(S=t.fragments.find(P=>P.node===A||P.node.path===A.path))==null?void 0:S.params});return Object.assign({},...y)},pseudoStore=e=>({subscribe:t=>(t(e()),()=>{})}),context=pseudoStore(()=>contexts.fragment),version$7="1.29.1",DEFAULT_HEADERS$4={"X-Client-Info":`supabase-js/${version$7}`},STORAGE_KEY$1="supabase.auth.token";function stripTrailingSlash(e){return e.replace(/\/$/,"")}const isBrowser$3=()=>typeof window!="undefined";var browserPonyfill={exports:{}};(function(e,t){var n=typeof self!="undefined"?self:commonjsGlobal$1,y=function(){function S(){this.fetch=!1,this.DOMException=n.DOMException}return S.prototype=n,new S}();(function(S){(function(P){var F={searchParams:"URLSearchParams"in S,iterable:"Symbol"in S&&"iterator"in Symbol,blob:"FileReader"in S&&"Blob"in S&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in S,arrayBuffer:"ArrayBuffer"in S};function z(ce){return ce&&DataView.prototype.isPrototypeOf(ce)}if(F.arrayBuffer)var Y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ee=ArrayBuffer.isView||function(ce){return ce&&Y.indexOf(Object.prototype.toString.call(ce))>-1};function te(ce){if(typeof ce!="string"&&(ce=String(ce)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ce))throw new TypeError("Invalid character in header field name");return ce.toLowerCase()}function ne(ce){return typeof ce!="string"&&(ce=String(ce)),ce}function oe(ce){var fe={next:function(){var ye=ce.shift();return{done:ye===void 0,value:ye}}};return F.iterable&&(fe[Symbol.iterator]=function(){return fe}),fe}function ie(ce){this.map={},ce instanceof ie?ce.forEach(function(fe,ye){this.append(ye,fe)},this):Array.isArray(ce)?ce.forEach(function(fe){this.append(fe[0],fe[1])},this):ce&&Object.getOwnPropertyNames(ce).forEach(function(fe){this.append(fe,ce[fe])},this)}ie.prototype.append=function(ce,fe){ce=te(ce),fe=ne(fe);var ye=this.map[ce];this.map[ce]=ye?ye+", "+fe:fe},ie.prototype.delete=function(ce){delete this.map[te(ce)]},ie.prototype.get=function(ce){return ce=te(ce),this.has(ce)?this.map[ce]:null},ie.prototype.has=function(ce){return this.map.hasOwnProperty(te(ce))},ie.prototype.set=function(ce,fe){this.map[te(ce)]=ne(fe)},ie.prototype.forEach=function(ce,fe){for(var ye in this.map)this.map.hasOwnProperty(ye)&&ce.call(fe,this.map[ye],ye,this)},ie.prototype.keys=function(){var ce=[];return this.forEach(function(fe,ye){ce.push(ye)}),oe(ce)},ie.prototype.values=function(){var ce=[];return this.forEach(function(fe){ce.push(fe)}),oe(ce)},ie.prototype.entries=function(){var ce=[];return this.forEach(function(fe,ye){ce.push([ye,fe])}),oe(ce)},F.iterable&&(ie.prototype[Symbol.iterator]=ie.prototype.entries);function se(ce){if(ce.bodyUsed)return Promise.reject(new TypeError("Already read"));ce.bodyUsed=!0}function ae(ce){return new Promise(function(fe,ye){ce.onload=function(){fe(ce.result)},ce.onerror=function(){ye(ce.error)}})}function le(ce){var fe=new FileReader,ye=ae(fe);return fe.readAsArrayBuffer(ce),ye}function pe(ce){var fe=new FileReader,ye=ae(fe);return fe.readAsText(ce),ye}function ue(ce){for(var fe=new Uint8Array(ce),ye=new Array(fe.length),Te=0;Te<fe.length;Te++)ye[Te]=String.fromCharCode(fe[Te]);return ye.join("")}function Ee(ce){if(ce.slice)return ce.slice(0);var fe=new Uint8Array(ce.byteLength);return fe.set(new Uint8Array(ce)),fe.buffer}function ve(){return this.bodyUsed=!1,this._initBody=function(ce){this._bodyInit=ce,ce?typeof ce=="string"?this._bodyText=ce:F.blob&&Blob.prototype.isPrototypeOf(ce)?this._bodyBlob=ce:F.formData&&FormData.prototype.isPrototypeOf(ce)?this._bodyFormData=ce:F.searchParams&&URLSearchParams.prototype.isPrototypeOf(ce)?this._bodyText=ce.toString():F.arrayBuffer&&F.blob&&z(ce)?(this._bodyArrayBuffer=Ee(ce.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):F.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ce)||ee(ce))?this._bodyArrayBuffer=Ee(ce):this._bodyText=ce=Object.prototype.toString.call(ce):this._bodyText="",this.headers.get("content-type")||(typeof ce=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):F.searchParams&&URLSearchParams.prototype.isPrototypeOf(ce)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},F.blob&&(this.blob=function(){var ce=se(this);if(ce)return ce;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?se(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(le)}),this.text=function(){var ce=se(this);if(ce)return ce;if(this._bodyBlob)return pe(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ue(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},F.formData&&(this.formData=function(){return this.text().then(be)}),this.json=function(){return this.text().then(JSON.parse)},this}var me=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function he(ce){var fe=ce.toUpperCase();return me.indexOf(fe)>-1?fe:ce}function _e(ce,fe){fe=fe||{};var ye=fe.body;if(ce instanceof _e){if(ce.bodyUsed)throw new TypeError("Already read");this.url=ce.url,this.credentials=ce.credentials,fe.headers||(this.headers=new ie(ce.headers)),this.method=ce.method,this.mode=ce.mode,this.signal=ce.signal,!ye&&ce._bodyInit!=null&&(ye=ce._bodyInit,ce.bodyUsed=!0)}else this.url=String(ce);if(this.credentials=fe.credentials||this.credentials||"same-origin",(fe.headers||!this.headers)&&(this.headers=new ie(fe.headers)),this.method=he(fe.method||this.method||"GET"),this.mode=fe.mode||this.mode||null,this.signal=fe.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ye)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(ye)}_e.prototype.clone=function(){return new _e(this,{body:this._bodyInit})};function be(ce){var fe=new FormData;return ce.trim().split("&").forEach(function(ye){if(ye){var Te=ye.split("="),Pe=Te.shift().replace(/\+/g," "),Re=Te.join("=").replace(/\+/g," ");fe.append(decodeURIComponent(Pe),decodeURIComponent(Re))}}),fe}function Ae(ce){var fe=new ie,ye=ce.replace(/\r?\n[\t ]+/g," ");return ye.split(/\r?\n/).forEach(function(Te){var Pe=Te.split(":"),Re=Pe.shift().trim();if(Re){var Oe=Pe.join(":").trim();fe.append(Re,Oe)}}),fe}ve.call(_e.prototype);function de(ce,fe){fe||(fe={}),this.type="default",this.status=fe.status===void 0?200:fe.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in fe?fe.statusText:"OK",this.headers=new ie(fe.headers),this.url=fe.url||"",this._initBody(ce)}ve.call(de.prototype),de.prototype.clone=function(){return new de(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new ie(this.headers),url:this.url})},de.error=function(){var ce=new de(null,{status:0,statusText:""});return ce.type="error",ce};var Se=[301,302,303,307,308];de.redirect=function(ce,fe){if(Se.indexOf(fe)===-1)throw new RangeError("Invalid status code");return new de(null,{status:fe,headers:{location:ce}})},P.DOMException=S.DOMException;try{new P.DOMException}catch{P.DOMException=function(fe,ye){this.message=fe,this.name=ye;var Te=Error(fe);this.stack=Te.stack},P.DOMException.prototype=Object.create(Error.prototype),P.DOMException.prototype.constructor=P.DOMException}function ge(ce,fe){return new Promise(function(ye,Te){var Pe=new _e(ce,fe);if(Pe.signal&&Pe.signal.aborted)return Te(new P.DOMException("Aborted","AbortError"));var Re=new XMLHttpRequest;function Oe(){Re.abort()}Re.onload=function(){var we={status:Re.status,statusText:Re.statusText,headers:Ae(Re.getAllResponseHeaders()||"")};we.url="responseURL"in Re?Re.responseURL:we.headers.get("X-Request-URL");var Ue="response"in Re?Re.response:Re.responseText;ye(new de(Ue,we))},Re.onerror=function(){Te(new TypeError("Network request failed"))},Re.ontimeout=function(){Te(new TypeError("Network request failed"))},Re.onabort=function(){Te(new P.DOMException("Aborted","AbortError"))},Re.open(Pe.method,Pe.url,!0),Pe.credentials==="include"?Re.withCredentials=!0:Pe.credentials==="omit"&&(Re.withCredentials=!1),"responseType"in Re&&F.blob&&(Re.responseType="blob"),Pe.headers.forEach(function(we,Ue){Re.setRequestHeader(Ue,we)}),Pe.signal&&(Pe.signal.addEventListener("abort",Oe),Re.onreadystatechange=function(){Re.readyState===4&&Pe.signal.removeEventListener("abort",Oe)}),Re.send(typeof Pe._bodyInit=="undefined"?null:Pe._bodyInit)})}return ge.polyfill=!0,S.fetch||(S.fetch=ge,S.Headers=ie,S.Request=_e,S.Response=de),P.Headers=ie,P.Request=_e,P.Response=de,P.fetch=ge,Object.defineProperty(P,"__esModule",{value:!0}),P})({})})(y),y.fetch.ponyfill=!0,delete y.fetch.polyfill;var A=y;t=A.fetch,t.default=A.fetch,t.fetch=A.fetch,t.Headers=A.Headers,t.Request=A.Request,t.Response=A.Response,e.exports=t})(browserPonyfill,browserPonyfill.exports);var fetch=getDefaultExportFromCjs(browserPonyfill.exports),__awaiter$8=globalThis&&globalThis.__awaiter||function(e,t,n,y){function A(S){return S instanceof n?S:new n(function(P){P(S)})}return new(n||(n=Promise))(function(S,P){function F(ee){try{Y(y.next(ee))}catch(te){P(te)}}function z(ee){try{Y(y.throw(ee))}catch(te){P(te)}}function Y(ee){ee.done?S(ee.value):A(ee.value).then(F,z)}Y((y=y.apply(e,t||[])).next())})};const _getErrorMessage$1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError$1=(e,t)=>{if(typeof e.json!="function")return t(e);e.json().then(n=>t({message:_getErrorMessage$1(n),status:(e==null?void 0:e.status)||500}))},_getRequestParams$1=(e,t,n)=>{const y={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||(y.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},t==null?void 0:t.headers),y.body=JSON.stringify(n)),y};function _handleRequest$1(e=fetch,t,n,y,A){return __awaiter$8(this,void 0,void 0,function*(){return new Promise((S,P)=>{e(n,_getRequestParams$1(t,y,A)).then(F=>{if(!F.ok)throw F;return(y==null?void 0:y.noResolveJson)?S:F.json()}).then(F=>S(F)).catch(F=>handleError$1(F,P))})})}function get$3(e,t,n){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"GET",t,n)})}function post$2(e,t,n,y){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"POST",t,y,n)})}function put$1(e,t,n,y){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"PUT",t,y,n)})}function remove$1(e,t,n,y){return __awaiter$8(this,void 0,void 0,function*(){return _handleRequest$1(e,"DELETE",t,y,n)})}const version$6="1.21.7",GOTRUE_URL="http://localhost:9999",DEFAULT_HEADERS$3={"X-Client-Info":`gotrue-js/${version$6}`},STORAGE_KEY="supabase.auth.token",COOKIE_OPTIONS={name:"sb:token",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};function serialize$1(e,t,n){const y=n||{},A=encodeURIComponent,S=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof A!="function")throw new TypeError("option encode is invalid");if(!S.test(e))throw new TypeError("argument name is invalid");const P=A(t);if(P&&!S.test(P))throw new TypeError("argument val is invalid");let F=e+"="+P;if(y.maxAge!=null){const z=y.maxAge-0;if(isNaN(z)||!isFinite(z))throw new TypeError("option maxAge is invalid");F+="; Max-Age="+Math.floor(z)}if(y.domain){if(!S.test(y.domain))throw new TypeError("option domain is invalid");F+="; Domain="+y.domain}if(y.path){if(!S.test(y.path))throw new TypeError("option path is invalid");F+="; Path="+y.path}if(y.expires){if(typeof y.expires.toUTCString!="function")throw new TypeError("option expires is invalid");F+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(F+="; HttpOnly"),y.secure&&(F+="; Secure"),y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case"lax":F+="; SameSite=Lax";break;case"strict":F+="; SameSite=Strict";break;case"none":F+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return F}function isSecureEnvironment(e){if(!e||!e.headers||!e.headers.host)throw new Error('The "host" request header is not available');const t=e.headers.host.indexOf(":")>-1&&e.headers.host.split(":")[0]||e.headers.host;return!(["localhost","127.0.0.1"].indexOf(t)>-1||t.endsWith(".local"))}function serializeCookie(e,t){var n,y,A;return serialize$1(e.name,e.value,{maxAge:e.maxAge,expires:new Date(Date.now()+e.maxAge*1e3),httpOnly:!0,secure:t,path:(n=e.path)!==null&&n!==void 0?n:"/",domain:(y=e.domain)!==null&&y!==void 0?y:"",sameSite:(A=e.sameSite)!==null&&A!==void 0?A:"lax"})}function setCookies(e,t,n){const y=n.map(S=>serializeCookie(S,isSecureEnvironment(e))),A=t.getHeader("Set-Cookie");A&&(A instanceof Array?Array.prototype.push.apply(y,A):typeof A=="string"&&y.push(A)),t.setHeader("Set-Cookie",y)}function setCookie(e,t,n){setCookies(e,t,[n])}function deleteCookie(e,t,n){setCookie(e,t,{name:n,value:"",maxAge:-1})}function expiresAt(e){return Math.round(Date.now()/1e3)+e}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const isBrowser$2=()=>typeof window!="undefined";function getParameterByName(e,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),e=e.replace(/[\[\]]/g,"\\$&");const y=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)"),A=y.exec(t);return A?A[2]?decodeURIComponent(A[2].replace(/\+/g," ")):"":null}var __awaiter$7=globalThis&&globalThis.__awaiter||function(e,t,n,y){function A(S){return S instanceof n?S:new n(function(P){P(S)})}return new(n||(n=Promise))(function(S,P){function F(ee){try{Y(y.next(ee))}catch(te){P(te)}}function z(ee){try{Y(y.throw(ee))}catch(te){P(te)}}function Y(ee){ee.done?S(ee.value):A(ee.value).then(F,z)}Y((y=y.apply(e,t||[])).next())})};class GoTrueApi{constructor({url:t="",headers:n={},cookieOptions:y,fetch:A}){this.url=t,this.headers=n,this.cookieOptions=Object.assign(Object.assign({},COOKIE_OPTIONS),y),this.fetch=A}createUser(t){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:yield post$2(this.fetch,`${this.url}/admin/users`,t,{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}listUsers(){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:(yield get$3(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(t){return{data:null,error:t}}})}signUpWithEmail(t,n,y={}){return __awaiter$7(this,void 0,void 0,function*(){try{const A=Object.assign({},this.headers);let S="";y.redirectTo&&(S="?redirect_to="+encodeURIComponent(y.redirectTo));const P=yield post$2(this.fetch,`${this.url}/signup${S}`,{email:t,password:n,data:y.data},{headers:A}),F=Object.assign({},P);return F.expires_in&&(F.expires_at=expiresAt(P.expires_in)),{data:F,error:null}}catch(A){return{data:null,error:A}}})}signInWithEmail(t,n,y={}){return __awaiter$7(this,void 0,void 0,function*(){try{const A=Object.assign({},this.headers);let S="?grant_type=password";y.redirectTo&&(S+="&redirect_to="+encodeURIComponent(y.redirectTo));const P=yield post$2(this.fetch,`${this.url}/token${S}`,{email:t,password:n},{headers:A}),F=Object.assign({},P);return F.expires_in&&(F.expires_at=expiresAt(P.expires_in)),{data:F,error:null}}catch(A){return{data:null,error:A}}})}signUpWithPhone(t,n,y={}){return __awaiter$7(this,void 0,void 0,function*(){try{const A=Object.assign({},this.headers),S=yield post$2(this.fetch,`${this.url}/signup`,{phone:t,password:n,data:y.data},{headers:A}),P=Object.assign({},S);return P.expires_in&&(P.expires_at=expiresAt(S.expires_in)),{data:P,error:null}}catch(A){return{data:null,error:A}}})}signInWithPhone(t,n){return __awaiter$7(this,void 0,void 0,function*(){try{const y=Object.assign({},this.headers),A="?grant_type=password",S=yield post$2(this.fetch,`${this.url}/token${A}`,{phone:t,password:n},{headers:y}),P=Object.assign({},S);return P.expires_in&&(P.expires_at=expiresAt(S.expires_in)),{data:P,error:null}}catch(y){return{data:null,error:y}}})}sendMagicLinkEmail(t,n={}){return __awaiter$7(this,void 0,void 0,function*(){try{const y=Object.assign({},this.headers);let A="";return n.redirectTo&&(A+="?redirect_to="+encodeURIComponent(n.redirectTo)),{data:yield post$2(this.fetch,`${this.url}/magiclink${A}`,{email:t},{headers:y}),error:null}}catch(y){return{data:null,error:y}}})}sendMobileOTP(t){return __awaiter$7(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);return{data:yield post$2(this.fetch,`${this.url}/otp`,{phone:t},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}verifyMobileOTP(t,n,y={}){return __awaiter$7(this,void 0,void 0,function*(){try{const A=Object.assign({},this.headers);return{data:yield post$2(this.fetch,`${this.url}/verify`,{phone:t,token:n,type:"sms",redirect_to:y.redirectTo},{headers:A}),error:null}}catch(A){return{data:null,error:A}}})}inviteUserByEmail(t,n={}){return __awaiter$7(this,void 0,void 0,function*(){try{const y=Object.assign({},this.headers);let A="";return n.redirectTo&&(A+="?redirect_to="+encodeURIComponent(n.redirectTo)),{data:yield post$2(this.fetch,`${this.url}/invite${A}`,{email:t,data:n.data},{headers:y}),error:null}}catch(y){return{data:null,error:y}}})}resetPasswordForEmail(t,n={}){return __awaiter$7(this,void 0,void 0,function*(){try{const y=Object.assign({},this.headers);let A="";return n.redirectTo&&(A+="?redirect_to="+encodeURIComponent(n.redirectTo)),{data:yield post$2(this.fetch,`${this.url}/recover${A}`,{email:t},{headers:y}),error:null}}catch(y){return{data:null,error:y}}})}_createRequestHeaders(t){const n=Object.assign({},this.headers);return n.Authorization=`Bearer ${t}`,n}signOut(t){return __awaiter$7(this,void 0,void 0,function*(){try{return yield post$2(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(t),noResolveJson:!0}),{error:null}}catch(n){return{error:n}}})}getUrlForProvider(t,n){const y=[`provider=${encodeURIComponent(t)}`];return(n==null?void 0:n.redirectTo)&&y.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(n==null?void 0:n.scopes)&&y.push(`scopes=${encodeURIComponent(n.scopes)}`),`${this.url}/authorize?${y.join("&")}`}getUser(t){return __awaiter$7(this,void 0,void 0,function*(){try{const n=yield get$3(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(t)});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}updateUser(t,n){return __awaiter$7(this,void 0,void 0,function*(){try{const y=yield put$1(this.fetch,`${this.url}/user`,n,{headers:this._createRequestHeaders(t)});return{user:y,data:y,error:null}}catch(y){return{user:null,data:null,error:y}}})}deleteUser(t,n){return __awaiter$7(this,void 0,void 0,function*(){try{const y=yield remove$1(this.fetch,`${this.url}/admin/users/${t}`,{},{headers:this._createRequestHeaders(n)});return{user:y,data:y,error:null}}catch(y){return{user:null,data:null,error:y}}})}refreshAccessToken(t){return __awaiter$7(this,void 0,void 0,function*(){try{const n=yield post$2(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:t},{headers:this.headers}),y=Object.assign({},n);return y.expires_in&&(y.expires_at=expiresAt(n.expires_in)),{data:y,error:null}}catch(n){return{data:null,error:n}}})}setAuthCookie(t,n){t.method!=="POST"&&(n.setHeader("Allow","POST"),n.status(405).end("Method Not Allowed"));const{event:y,session:A}=t.body;if(!y)throw new Error("Auth event missing!");if(y==="SIGNED_IN"){if(!A)throw new Error("Auth session missing!");setCookie(t,n,{name:this.cookieOptions.name,value:A.access_token,domain:this.cookieOptions.domain,maxAge:this.cookieOptions.lifetime,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}y==="SIGNED_OUT"&&deleteCookie(t,n,this.cookieOptions.name),n.status(200).json({})}getUserByCookie(t){return __awaiter$7(this,void 0,void 0,function*(){try{if(!t.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");if(!t.cookies[this.cookieOptions.name])throw new Error("No cookie found!");const n=t.cookies[this.cookieOptions.name],{user:y,error:A}=yield this.getUser(n);if(A)throw A;return{token:n,user:y,data:y,error:null}}catch(n){return{token:null,user:null,data:null,error:n}}})}generateLink(t,n,y={}){return __awaiter$7(this,void 0,void 0,function*(){try{return{data:yield post$2(this.fetch,`${this.url}/admin/generate_link`,{type:t,email:n,password:y.password,data:y.data,redirect_to:y.redirectTo},{headers:this.headers}),error:null}}catch(A){return{data:null,error:A}}})}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}var __awaiter$6=globalThis&&globalThis.__awaiter||function(e,t,n,y){function A(S){return S instanceof n?S:new n(function(P){P(S)})}return new(n||(n=Promise))(function(S,P){function F(ee){try{Y(y.next(ee))}catch(te){P(te)}}function z(ee){try{Y(y.throw(ee))}catch(te){P(te)}}function Y(ee){ee.done?S(ee.value):A(ee.value).then(F,z)}Y((y=y.apply(e,t||[])).next())})};polyfillGlobalThis();const DEFAULT_OPTIONS$1={url:GOTRUE_URL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:DEFAULT_HEADERS$3};class GoTrueClient{constructor(t){this.stateChangeEmitters=new Map;const n=Object.assign(Object.assign({},DEFAULT_OPTIONS$1),t);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.multiTab=n.multiTab,this.localStorage=n.localStorage||globalThis.localStorage,this.api=new GoTrueApi({url:n.url,headers:n.headers,cookieOptions:n.cookieOptions,fetch:n.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),n.detectSessionInUrl&&isBrowser$2()&&!!getParameterByName("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:y})=>{y&&console.error("Error getting session from URL.",y)})}signUp({email:t,password:n,phone:y},A={}){return __awaiter$6(this,void 0,void 0,function*(){try{this._removeSession();const{data:S,error:P}=y&&n?yield this.api.signUpWithPhone(y,n,{data:A.data}):yield this.api.signUpWithEmail(t,n,{redirectTo:A.redirectTo,data:A.data});if(P)throw P;if(!S)throw"An error occurred on sign up.";let F=null,z=null;return S.access_token&&(F=S,z=F.user,this._saveSession(F),this._notifyAllSubscribers("SIGNED_IN")),S.id&&(z=S),{user:z,session:F,error:null}}catch(S){return{user:null,session:null,error:S}}})}signIn({email:t,phone:n,password:y,refreshToken:A,provider:S},P={}){return __awaiter$6(this,void 0,void 0,function*(){try{if(this._removeSession(),t&&!y){const{error:F}=yield this.api.sendMagicLinkEmail(t,{redirectTo:P.redirectTo});return{user:null,session:null,error:F}}if(t&&y)return this._handleEmailSignIn(t,y,{redirectTo:P.redirectTo});if(n&&!y){const{error:F}=yield this.api.sendMobileOTP(n);return{user:null,session:null,error:F}}if(n&&y)return this._handlePhoneSignIn(n,y);if(A){const{error:F}=yield this._callRefreshToken(A);if(F)throw F;return{user:this.currentUser,session:this.currentSession,error:null}}if(S)return this._handleProviderSignIn(S,{redirectTo:P.redirectTo,scopes:P.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(F){return{user:null,session:null,error:F}}})}verifyOTP({phone:t,token:n},y={}){return __awaiter$6(this,void 0,void 0,function*(){try{this._removeSession();const{data:A,error:S}=yield this.api.verifyMobileOTP(t,n,y);if(S)throw S;if(!A)throw"An error occurred on token verification.";let P=null,F=null;return A.access_token&&(P=A,F=P.user,this._saveSession(P),this._notifyAllSubscribers("SIGNED_IN")),A.id&&(F=A),{user:F,session:P,error:null}}catch(A){return{user:null,session:null,error:A}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var t;return __awaiter$6(this,void 0,void 0,function*(){try{if(!((t=this.currentSession)===null||t===void 0?void 0:t.access_token))throw new Error("Not logged in.");const{error:n}=yield this._callRefreshToken();if(n)throw n;return{data:this.currentSession,user:this.currentUser,error:null}}catch(n){return{data:null,user:null,error:n}}})}update(t){var n;return __awaiter$6(this,void 0,void 0,function*(){try{if(!((n=this.currentSession)===null||n===void 0?void 0:n.access_token))throw new Error("Not logged in.");const{user:y,error:A}=yield this.api.updateUser(this.currentSession.access_token,t);if(A)throw A;if(!y)throw Error("Invalid user data.");const S=Object.assign(Object.assign({},this.currentSession),{user:y});return this._saveSession(S),this._notifyAllSubscribers("USER_UPDATED"),{data:y,user:y,error:null}}catch(y){return{data:null,user:null,error:y}}})}setSession(t){return __awaiter$6(this,void 0,void 0,function*(){try{if(!t)throw new Error("No current session.");const{data:n,error:y}=yield this.api.refreshAccessToken(t);return y?{session:null,error:y}:(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"),{session:n,error:null})}catch(n){return{error:n,session:null}}})}setAuth(t){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:t,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(t){return __awaiter$6(this,void 0,void 0,function*(){try{if(!isBrowser$2())throw new Error("No browser detected.");const n=getParameterByName("error_description");if(n)throw new Error(n);const y=getParameterByName("provider_token"),A=getParameterByName("access_token");if(!A)throw new Error("No access_token detected.");const S=getParameterByName("expires_in");if(!S)throw new Error("No expires_in detected.");const P=getParameterByName("refresh_token");if(!P)throw new Error("No refresh_token detected.");const F=getParameterByName("token_type");if(!F)throw new Error("No token_type detected.");const Y=Math.round(Date.now()/1e3)+parseInt(S),{user:ee,error:te}=yield this.api.getUser(A);if(te)throw te;const ne={provider_token:y,access_token:A,expires_in:parseInt(S),expires_at:Y,refresh_token:P,token_type:F,user:ee};if(t==null?void 0:t.storeSession){this._saveSession(ne);const oe=getParameterByName("type");this._notifyAllSubscribers("SIGNED_IN"),oe==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:ne,error:null}}catch(n){return{data:null,error:n}}})}signOut(){var t;return __awaiter$6(this,void 0,void 0,function*(){const n=(t=this.currentSession)===null||t===void 0?void 0:t.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),n){const{error:y}=yield this.api.signOut(n);if(y)return{error:y}}return{error:null}})}onAuthStateChange(t){try{const n=uuid(),y={id:n,callback:t,unsubscribe:()=>{this.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,y),{data:y,error:null}}catch(n){return{data:null,error:n}}}_handleEmailSignIn(t,n,y={}){var A,S;return __awaiter$6(this,void 0,void 0,function*(){try{const{data:P,error:F}=yield this.api.signInWithEmail(t,n,{redirectTo:y.redirectTo});return F||!P?{data:null,user:null,session:null,error:F}:((((A=P==null?void 0:P.user)===null||A===void 0?void 0:A.confirmed_at)||((S=P==null?void 0:P.user)===null||S===void 0?void 0:S.email_confirmed_at))&&(this._saveSession(P),this._notifyAllSubscribers("SIGNED_IN")),{data:P,user:P.user,session:P,error:null})}catch(P){return{data:null,user:null,session:null,error:P}}})}_handlePhoneSignIn(t,n){var y;return __awaiter$6(this,void 0,void 0,function*(){try{const{data:A,error:S}=yield this.api.signInWithPhone(t,n);return S||!A?{data:null,user:null,session:null,error:S}:(((y=A==null?void 0:A.user)===null||y===void 0?void 0:y.phone_confirmed_at)&&(this._saveSession(A),this._notifyAllSubscribers("SIGNED_IN")),{data:A,user:A.user,session:A,error:null})}catch(A){return{data:null,user:null,session:null,error:A}}})}_handleProviderSignIn(t,n={}){const y=this.api.getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes});try{return isBrowser$2()&&(window.location.href=y),{provider:t,url:y,data:null,session:null,user:null,error:null}}catch(A){return y?{provider:t,url:y,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:A}}}_recoverSession(){var t;try{const n=isBrowser$2()&&((t=this.localStorage)===null||t===void 0?void 0:t.getItem(STORAGE_KEY));if(!n||typeof n!="string")return null;const y=JSON.parse(n),{currentSession:A,expiresAt:S}=y,P=Math.round(Date.now()/1e3);S>=P&&(A==null?void 0:A.user)&&(this._saveSession(A),this._notifyAllSubscribers("SIGNED_IN"))}catch(n){console.log("error",n)}}_recoverAndRefresh(){return __awaiter$6(this,void 0,void 0,function*(){try{const t=isBrowser$2()&&(yield this.localStorage.getItem(STORAGE_KEY));if(!t)return null;const n=JSON.parse(t),{currentSession:y,expiresAt:A}=n,S=Math.round(Date.now()/1e3);if(A<S)if(this.autoRefreshToken&&y.refresh_token){const{error:P}=yield this._callRefreshToken(y.refresh_token);P&&(console.log(P.message),yield this._removeSession())}else this._removeSession();else!y||!y.user?(console.log("Current session is missing data."),this._removeSession()):(this._saveSession(y),this._notifyAllSubscribers("SIGNED_IN"))}catch(t){return console.error(t),null}})}_callRefreshToken(t){var n;return t===void 0&&(t=(n=this.currentSession)===null||n===void 0?void 0:n.refresh_token),__awaiter$6(this,void 0,void 0,function*(){try{if(!t)throw new Error("No current session.");const{data:y,error:A}=yield this.api.refreshAccessToken(t);if(A)throw A;if(!y)throw Error("Invalid session data.");return this._saveSession(y),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:y,error:null}}catch(y){return{data:null,error:y}}})}_notifyAllSubscribers(t){this.stateChangeEmitters.forEach(n=>n.callback(t,this.currentSession))}_saveSession(t){this.currentSession=t,this.currentUser=t.user;const n=t.expires_at;if(n){const y=Math.round(Date.now()/1e3),A=n-y,S=A>60?60:.5;this._startAutoRefreshToken((A-S)*1e3)}this.persistSession&&t.expires_at&&this._persistSession(this.currentSession)}_persistSession(t){const n={currentSession:t,expiresAt:t.expires_at};isBrowser$2()&&this.localStorage.setItem(STORAGE_KEY,JSON.stringify(n))}_removeSession(){return __awaiter$6(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),isBrowser$2()&&(yield this.localStorage.removeItem(STORAGE_KEY))})}_startAutoRefreshToken(t){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(t<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>this._callRefreshToken(),t),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!isBrowser$2()||!(window==null?void 0:window.addEventListener))return!1;try{window==null||window.addEventListener("storage",t=>{var n;if(t.key===STORAGE_KEY){const y=JSON.parse(String(t.newValue));((n=y==null?void 0:y.currentSession)===null||n===void 0?void 0:n.access_token)?(this._recoverAndRefresh(),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(t){console.error("_listenForMultiTabEvents",t)}}}class SupabaseAuthClient extends GoTrueClient{constructor(t){super(t)}}var __awaiter$5=globalThis&&globalThis.__awaiter||function(e,t,n,y){function A(S){return S instanceof n?S:new n(function(P){P(S)})}return new(n||(n=Promise))(function(S,P){function F(ee){try{Y(y.next(ee))}catch(te){P(te)}}function z(ee){try{Y(y.throw(ee))}catch(te){P(te)}}function Y(ee){ee.done?S(ee.value):A(ee.value).then(F,z)}Y((y=y.apply(e,t||[])).next())})};class PostgrestBuilder{constructor(t){this.shouldThrowOnError=!1,Object.assign(this,t),this.fetch=t.fetch||fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){typeof this.schema=="undefined"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let y=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(A=>__awaiter$5(this,void 0,void 0,function*(){var S,P,F;let z=null,Y=null,ee=null;if(A.ok){const ne=(S=this.headers.Prefer)===null||S===void 0?void 0:S.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!ne){const se=yield A.text();se&&(this.headers.Accept==="text/csv"?Y=se:Y=JSON.parse(se))}const oe=(P=this.headers.Prefer)===null||P===void 0?void 0:P.match(/count=(exact|planned|estimated)/),ie=(F=A.headers.get("content-range"))===null||F===void 0?void 0:F.split("/");oe&&ie&&ie.length>1&&(ee=parseInt(ie[1]))}else if(z=yield A.json(),z&&this.shouldThrowOnError)throw z;return{error:z,data:Y,count:ee,status:A.status,statusText:A.statusText,body:Y}}));return this.shouldThrowOnError||(y=y.catch(A=>({error:{message:`FetchError: ${A.message}`,details:"",hint:"",code:A.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),y.then(t,n)}}class PostgrestTransformBuilder extends PostgrestBuilder{select(t="*"){let n=!1;const y=t.split("").map(A=>/\s/.test(A)&&!n?"":(A==='"'&&(n=!n),A)).join("");return this.url.searchParams.set("select",y),this}order(t,{ascending:n=!0,nullsFirst:y=!1,foreignTable:A}={}){const S=typeof A=="undefined"?"order":`${A}.order`,P=this.url.searchParams.get(S);return this.url.searchParams.set(S,`${P?`${P},`:""}${t}.${n?"asc":"desc"}.${y?"nullsfirst":"nullslast"}`),this}limit(t,{foreignTable:n}={}){const y=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(y,`${t}`),this}range(t,n,{foreignTable:y}={}){const A=typeof y=="undefined"?"offset":`${y}.offset`,S=typeof y=="undefined"?"limit":`${y}.limit`;return this.url.searchParams.set(A,`${t}`),this.url.searchParams.set(S,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const t=new PostgrestTransformBuilder(this);return t.then=(n,y)=>this.then(A=>{var S,P;return((P=(S=A.error)===null||S===void 0?void 0:S.details)===null||P===void 0?void 0:P.includes("Results contain 0 rows"))?n({error:null,data:null,count:A.count,status:200,statusText:"OK",body:null}):n(A)},y),t}csv(){return this.headers.Accept="text/csv",this}}class PostgrestFilterBuilder extends PostgrestTransformBuilder{constructor(){super(...arguments);this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(t,n,y){return this.url.searchParams.append(`${t}`,`not.${n}.${y}`),this}or(t,{foreignTable:n}={}){const y=typeof n=="undefined"?"or":`${n}.or`;return this.url.searchParams.append(y,`(${t})`),this}eq(t,n){return this.url.searchParams.append(`${t}`,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(`${t}`,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(`${t}`,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(`${t}`,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(`${t}`,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(`${t}`,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(`${t}`,`like.${n}`),this}ilike(t,n){return this.url.searchParams.append(`${t}`,`ilike.${n}`),this}is(t,n){return this.url.searchParams.append(`${t}`,`is.${n}`),this}in(t,n){const y=n.map(A=>typeof A=="string"&&new RegExp("[,()]").test(A)?`"${A}"`:`${A}`).join(",");return this.url.searchParams.append(`${t}`,`in.(${y})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(`${t}`,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(`${t}`,`cs.{${n.join(",")}}`):this.url.searchParams.append(`${t}`,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(`${t}`,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(`${t}`,`cd.{${n.join(",")}}`):this.url.searchParams.append(`${t}`,`cd.${JSON.stringify(n)}`),this}rangeLt(t,n){return this.url.searchParams.append(`${t}`,`sl.${n}`),this}rangeGt(t,n){return this.url.searchParams.append(`${t}`,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(`${t}`,`nxl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(`${t}`,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(`${t}`,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(`${t}`,`ov.${n}`):this.url.searchParams.append(`${t}`,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:y,type:A=null}={}){let S="";A==="plain"?S="pl":A==="phrase"?S="ph":A==="websearch"&&(S="w");const P=y===void 0?"":`(${y})`;return this.url.searchParams.append(`${t}`,`${S}fts${P}.${n}`),this}fts(t,n,{config:y}={}){const A=typeof y=="undefined"?"":`(${y})`;return this.url.searchParams.append(`${t}`,`fts${A}.${n}`),this}plfts(t,n,{config:y}={}){const A=typeof y=="undefined"?"":`(${y})`;return this.url.searchParams.append(`${t}`,`plfts${A}.${n}`),this}phfts(t,n,{config:y}={}){const A=typeof y=="undefined"?"":`(${y})`;return this.url.searchParams.append(`${t}`,`phfts${A}.${n}`),this}wfts(t,n,{config:y}={}){const A=typeof y=="undefined"?"":`(${y})`;return this.url.searchParams.append(`${t}`,`wfts${A}.${n}`),this}filter(t,n,y){return this.url.searchParams.append(`${t}`,`${n}.${y}`),this}match(t){return Object.keys(t).forEach(n=>{this.url.searchParams.append(`${n}`,`eq.${t[n]}`)}),this}}class PostgrestQueryBuilder extends PostgrestBuilder{constructor(t,{headers:n={},schema:y,fetch:A}={}){super({fetch:A});this.url=new URL(t),this.headers=Object.assign({},n),this.schema=y}select(t="*",{head:n=!1,count:y=null}={}){this.method="GET";let A=!1;const S=t.split("").map(P=>/\s/.test(P)&&!A?"":(P==='"'&&(A=!A),P)).join("");return this.url.searchParams.set("select",S),y&&(this.headers.Prefer=`count=${y}`),n&&(this.method="HEAD"),new PostgrestFilterBuilder(this)}insert(t,{upsert:n=!1,onConflict:y,returning:A="representation",count:S=null}={}){this.method="POST";const P=[`return=${A}`];if(n&&P.push("resolution=merge-duplicates"),n&&y!==void 0&&this.url.searchParams.set("on_conflict",y),this.body=t,S&&P.push(`count=${S}`),this.headers.Prefer=P.join(","),Array.isArray(t)){const F=t.reduce((z,Y)=>z.concat(Object.keys(Y)),[]);if(F.length>0){const z=[...new Set(F)].map(Y=>`"${Y}"`);this.url.searchParams.set("columns",z.join(","))}}return new PostgrestFilterBuilder(this)}upsert(t,{onConflict:n,returning:y="representation",count:A=null,ignoreDuplicates:S=!1}={}){this.method="POST";const P=[`resolution=${S?"ignore":"merge"}-duplicates`,`return=${y}`];return n!==void 0&&this.url.searchParams.set("on_conflict",n),this.body=t,A&&P.push(`count=${A}`),this.headers.Prefer=P.join(","),new PostgrestFilterBuilder(this)}update(t,{returning:n="representation",count:y=null}={}){this.method="PATCH";const A=[`return=${n}`];return this.body=t,y&&A.push(`count=${y}`),this.headers.Prefer=A.join(","),new PostgrestFilterBuilder(this)}delete({returning:t="representation",count:n=null}={}){this.method="DELETE";const y=[`return=${t}`];return n&&y.push(`count=${n}`),this.headers.Prefer=y.join(","),new PostgrestFilterBuilder(this)}}class PostgrestRpcBuilder extends PostgrestBuilder{constructor(t,{headers:n={},schema:y,fetch:A}={}){super({fetch:A});this.url=new URL(t),this.headers=Object.assign({},n),this.schema=y}rpc(t,{head:n=!1,count:y=null}={}){return n?(this.method="HEAD",t&&Object.entries(t).forEach(([A,S])=>{this.url.searchParams.append(A,S)})):(this.method="POST",this.body=t),y&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${y}`:this.headers.Prefer=`count=${y}`),new PostgrestFilterBuilder(this)}}const version$5="0.35.0",DEFAULT_HEADERS$2={"X-Client-Info":`postgrest-js/${version$5}`};class PostgrestClient{constructor(t,{headers:n={},schema:y,fetch:A}={}){this.url=t,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),n),this.schema=y,this.fetch=A}auth(t){return this.headers.Authorization=`Bearer ${t}`,this}from(t){const n=`${this.url}/${t}`;return new PostgrestQueryBuilder(n,{headers:this.headers,schema:this.schema,fetch:this.fetch})}rpc(t,n,{head:y=!1,count:A=null}={}){const S=`${this.url}/rpc/${t}`;return new PostgrestRpcBuilder(S,{headers:this.headers,schema:this.schema,fetch:this.fetch}).rpc(n,{head:y,count:A})}}var PostgresTypes;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(e,t,n={})=>{var y;const A=(y=n.skipTypes)!==null&&y!==void 0?y:[];return Object.keys(t).reduce((S,P)=>(S[P]=convertColumn(P,e,t,A),S),{})},convertColumn=(e,t,n,y)=>{const A=t.find(F=>F.name===e),S=A==null?void 0:A.type,P=n[e];return S&&!y.includes(S)?convertCell(S,P):noop$1(P)},convertCell=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return toArray(t,n)}switch(e){case PostgresTypes.bool:return toBoolean(t);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber$1(t);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(t);case PostgresTypes.timestamp:return toTimestampString(t);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(t);default:return noop$1(t)}},noop$1=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber$1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},toJson=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},toArray=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,y=e[n];if(e[0]==="{"&&y==="}"){let S;const P=e.slice(1,n);try{S=JSON.parse("["+P+"]")}catch{S=P?P.split(","):[]}return S.map(F=>convertCell(t,F))}return e},toTimestampString=e=>typeof e=="string"?e.replace(" ","T"):e,version$4="1.3.4",DEFAULT_HEADERS$1={"X-Client-Info":`realtime-js/${version$4}`},VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3;var SOCKET_STATES;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(e){e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));class Timer{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Push{constructor(t,n,y={},A=DEFAULT_TIMEOUT){this.channel=t,this.event=n,this.payload=y,this.timeout=A,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var y;return this._hasReceived(t)&&n((y=this.receivedResp)===null||y===void 0?void 0:y.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(t,n){this.refEvent&&this.channel.trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(y=>y.status===t).forEach(y=>y.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}class RealtimeSubscription{constructor(t,n={},y){this.topic=t,this.params=n,this.socket=y,this.bindings=[],this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(A=>A.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket.remove(this)}),this.onError(A=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,A),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.on(CHANNEL_EVENTS.reply,(A,S)=>{this.trigger(this.replyEventName(S),A)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(t=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(t),this.joinPush}onClose(t){this.on(CHANNEL_EVENTS.close,t)}onError(t){this.on(CHANNEL_EVENTS.error,n=>t(n))}on(t,n){this.bindings.push({event:t,callback:n})}off(t){this.bindings=this.bindings.filter(n=>n.event!==t)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(t,n,y=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let A=new Push(this,t,n,y);return this.canPush()?A.send():(A.startTimeout(),this.pushBuffer.push(A)),A}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=CHANNEL_STATES.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(CHANNEL_EVENTS.close,"leave",this.joinRef())};this.joinPush.destroy();let y=new Push(this,CHANNEL_EVENTS.leave,{},t);return y.receive("ok",()=>n()).receive("timeout",()=>n()),y.send(),this.canPush()||y.trigger("ok",{}),y}onMessage(t,n,y){return n}isMember(t){return this.topic===t}joinRef(){return this.joinPush.ref}sendJoin(t){this.state=CHANNEL_STATES.joining,this.joinPush.resend(t)}rejoin(t=this.timeout){this.isLeaving()||this.sendJoin(t)}trigger(t,n,y){let{close:A,error:S,leave:P,join:F}=CHANNEL_EVENTS;if(y&&[A,S,P,F].indexOf(t)>=0&&y!==this.joinRef())return;let Y=this.onMessage(t,n,y);if(n&&!Y)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(ee=>ee.event==="*"?t===(n==null?void 0:n.type):ee.event===t).map(ee=>ee.callback(Y,y))}replyEventName(t){return`chan_reply_${t}`}isClosed(){return this.state===CHANNEL_STATES.closed}isErrored(){return this.state===CHANNEL_STATES.errored}isJoined(){return this.state===CHANNEL_STATES.joined}isJoining(){return this.state===CHANNEL_STATES.joining}isLeaving(){return this.state===CHANNEL_STATES.leaving}}const name="websocket",description="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",contributors=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version$3="1.0.34",repository={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage="https://github.com/theturtle32/WebSocket-Node",engines={node:">=4.0.0"},dependencies={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},devDependencies={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},config={verbose:!1},scripts={test:"tape test/unit/*.js",gulp:"gulp"},main="index",directories={lib:"./lib"},browser$1="lib/browser.js",license="Apache-2.0";var require$$0={name,description,keywords,author,contributors,version:version$3,repository,homepage,engines,dependencies,devDependencies,config,scripts,main,directories,browser:browser$1,license},version$2=require$$0.version,_globalThis;if(typeof globalThis=="object")_globalThis=globalThis;else try{_globalThis=require("es5-ext/global")}catch{}finally{if(!_globalThis&&typeof window!="undefined"&&(_globalThis=window),!_globalThis)throw new Error("Could not determine global this")}var NativeWebSocket=_globalThis.WebSocket||_globalThis.MozWebSocket,websocket_version=version$2;function W3CWebSocket(e,t){var n;return t?n=new NativeWebSocket(e,t):n=new NativeWebSocket(e),n}NativeWebSocket&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(W3CWebSocket,e,{get:function(){return NativeWebSocket[e]}})});var browser={w3cwebsocket:NativeWebSocket?W3CWebSocket:null,version:websocket_version};class Serializer{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),y=new TextDecoder;return this._decodeBroadcast(t,n,y)}_decodeBroadcast(t,n,y){const A=n.getUint8(1),S=n.getUint8(2);let P=this.HEADER_LENGTH+2;const F=y.decode(t.slice(P,P+A));P=P+A;const z=y.decode(t.slice(P,P+S));P=P+S;const Y=JSON.parse(y.decode(t.slice(P,t.byteLength)));return{ref:null,topic:F,event:z,payload:Y}}}var __awaiter$4=globalThis&&globalThis.__awaiter||function(e,t,n,y){function A(S){return S instanceof n?S:new n(function(P){P(S)})}return new(n||(n=Promise))(function(S,P){function F(ee){try{Y(y.next(ee))}catch(te){P(te)}}function z(ee){try{Y(y.throw(ee))}catch(te){P(te)}}function Y(ee){ee.done?S(ee.value):A(ee.value).then(F,z)}Y((y=y.apply(e,t||[])).next())})};const noop=()=>{};class RealtimeClient{constructor(t,n){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=DEFAULT_HEADERS$1,this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=browser.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${t}/${TRANSPORTS.websocket}`,(n==null?void 0:n.params)&&(this.params=n.params),(n==null?void 0:n.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),(n==null?void 0:n.timeout)&&(this.timeout=n.timeout),(n==null?void 0:n.logger)&&(this.logger=n.logger),(n==null?void 0:n.transport)&&(this.transport=n.transport),(n==null?void 0:n.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs),(n==null?void 0:n.longpollerTimeout)&&(this.longpollerTimeout=n.longpollerTimeout),this.reconnectAfterMs=(n==null?void 0:n.reconnectAfterMs)?n.reconnectAfterMs:y=>[1e3,2e3,5e3,1e4][y-1]||1e4,this.encode=(n==null?void 0:n.encode)?n.encode:(y,A)=>A(JSON.stringify(y)),this.decode=(n==null?void 0:n.decode)?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Timer(()=>__awaiter$4(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this.onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,n){return new Promise((y,A)=>{try{this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),y({error:null,data:!0})}catch(S){y({error:S,data:!1})}})}log(t,n,y){this.logger(t,n,y)}onOpen(t){this.stateChangeCallbacks.open.push(t)}onClose(t){this.stateChangeCallbacks.close.push(t)}onError(t){this.stateChangeCallbacks.error.push(t)}onMessage(t){this.stateChangeCallbacks.message.push(t)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return"connecting";case SOCKET_STATES.open:return"open";case SOCKET_STATES.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(t){this.channels=this.channels.filter(n=>n.joinRef()!==t.joinRef())}channel(t,n={}){let y=new RealtimeSubscription(t,n,this);return this.channels.push(y),y}push(t){let{topic:n,event:y,payload:A,ref:S}=t,P=()=>{this.encode(t,F=>{var z;(z=this.conn)===null||z===void 0||z.send(F)})};this.log("push",`${n} ${y} (${S})`,A),this.isConnected()?P():this.sendBuffer.push(P)}onConnMessage(t){this.decode(t.data,n=>{let{topic:y,event:A,payload:S,ref:P}=n;P&&P===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:A===(S==null?void 0:S.type)&&this._resetHeartbeat(),this.log("receive",`${S.status||""} ${y} ${A} ${P&&"("+P+")"||""}`,S),this.channels.filter(F=>F.isMember(y)).forEach(F=>F.trigger(A,S,P)),this.stateChangeCallbacks.message.forEach(F=>F(n))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}setAuth(t){this.accessToken=t;try{this.channels.forEach(n=>{t&&n.updateJoinPayload({user_token:t}),n.joinedOnce&&n.isJoined()&&n.push(CHANNEL_EVENTS.access_token,{access_token:t})})}catch(n){console.log("setAuth error",n)}}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t.trigger(CHANNEL_EVENTS.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const y=t.match(/\?/)?"&":"?",A=new URLSearchParams(n);return`${t}${y}${A}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs)}_sendHeartbeat(){var t;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(WS_CLOSE_NORMAL,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class SupabaseRealtimeClient{constructor(t,n,y,A){const S={},P=A==="*"?`realtime:${y}`:`realtime:${y}:${A}`,F=n.Authorization.split(" ")[1];F&&(S.user_token=F),this.subscription=t.channel(P,S)}getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=convertChangeData(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=convertChangeData(t.columns,t.old_record)),n}on(t,n){return this.subscription.on(t,y=>{let A={schema:y.schema,table:y.table,commit_timestamp:y.commit_timestamp,eventType:y.type,new:{},old:{},errors:y.errors};A=Object.assign(Object.assign({},A),this.getPayloadRecords(y)),n(A)}),this}subscribe(t=()=>{}){return this.subscription.onError(n=>t("SUBSCRIPTION_ERROR",n)),this.subscription.onClose(()=>t("CLOSED")),this.subscription.subscribe().receive("ok",()=>t("SUBSCRIBED")).receive("error",n=>t("SUBSCRIPTION_ERROR",n)).receive("timeout",()=>t("RETRYING_AFTER_TIMEOUT")),this.subscription}}class SupabaseQueryBuilder extends PostgrestQueryBuilder{constructor(t,{headers:n={},schema:y,realtime:A,table:S,fetch:P}){super(t,{headers:n,schema:y,fetch:P});this._subscription=null,this._realtime=A,this._headers=n,this._schema=y,this._table=S}on(t,n){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new SupabaseRealtimeClient(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(t,n)}}var __awaiter$3=globalThis&&globalThis.__awaiter||function(e,t,n,y){function A(S){return S instanceof n?S:new n(function(P){P(S)})}return new(n||(n=Promise))(function(S,P){function F(ee){try{Y(y.next(ee))}catch(te){P(te)}}function z(ee){try{Y(y.throw(ee))}catch(te){P(te)}}function Y(ee){ee.done?S(ee.value):A(ee.value).then(F,z)}Y((y=y.apply(e,t||[])).next())})};const _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError=(e,t)=>{if(typeof e.json!="function")return t(e);e.json().then(n=>t({message:_getErrorMessage(n),status:(e==null?void 0:e.status)||500}))},_getRequestParams=(e,t,n,y)=>{const A={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?A:(A.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),A.body=JSON.stringify(y),Object.assign(Object.assign({},A),n))};function _handleRequest(e=fetch,t,n,y,A,S){return __awaiter$3(this,void 0,void 0,function*(){return new Promise((P,F)=>{e(n,_getRequestParams(t,y,A,S)).then(z=>{if(!z.ok)throw z;return(y==null?void 0:y.noResolveJson)?P(z):z.json()}).then(z=>P(z)).catch(z=>handleError(z,F))})})}function get$2(e,t,n,y){return __awaiter$3(this,void 0,void 0,function*(){return _handleRequest(e,"GET",t,n,y)})}function post$1(e,t,n,y,A){return __awaiter$3(this,void 0,void 0,function*(){return _handleRequest(e,"POST",t,y,A,n)})}function put(e,t,n,y,A){return __awaiter$3(this,void 0,void 0,function*(){return _handleRequest(e,"PUT",t,y,A,n)})}function remove(e,t,n,y,A){return __awaiter$3(this,void 0,void 0,function*(){return _handleRequest(e,"DELETE",t,y,A,n)})}const version$1="0.0.0",DEFAULT_HEADERS={"X-Client-Info":`storage-js/${version$1}`};var __awaiter$2=globalThis&&globalThis.__awaiter||function(e,t,n,y){function A(S){return S instanceof n?S:new n(function(P){P(S)})}return new(n||(n=Promise))(function(S,P){function F(ee){try{Y(y.next(ee))}catch(te){P(te)}}function z(ee){try{Y(y.throw(ee))}catch(te){P(te)}}function Y(ee){ee.done?S(ee.value):A(ee.value).then(F,z)}Y((y=y.apply(e,t||[])).next())})};class StorageBucketApi{constructor(t,n={},y){this.url=t,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS),n),this.fetch=y}listBuckets(){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield get$2(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){return{data:null,error:t}}})}getBucket(t){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield get$2(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}createBucket(t,n={public:!1}){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:(yield post$1(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public},{headers:this.headers})).name,error:null}}catch(y){return{data:null,error:y}}})}updateBucket(t,n){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(y){return{data:null,error:y}}})}emptyBucket(t){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}deleteBucket(t){return __awaiter$2(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}}var __awaiter$1=globalThis&&globalThis.__awaiter||function(e,t,n,y){function A(S){return S instanceof n?S:new n(function(P){P(S)})}return new(n||(n=Promise))(function(S,P){function F(ee){try{Y(y.next(ee))}catch(te){P(te)}}function z(ee){try{Y(y.throw(ee))}catch(te){P(te)}}function Y(ee){ee.done?S(ee.value):A(ee.value).then(F,z)}Y((y=y.apply(e,t||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(t,n={},y,A){this.url=t,this.headers=n,this.bucketId=y,this.fetch=A}uploadOrUpdate(t,n,y,A){return __awaiter$1(this,void 0,void 0,function*(){try{let S;const P=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),A),F=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(P.upsert)});typeof Blob!="undefined"&&y instanceof Blob?(S=new FormData,S.append("cacheControl",P.cacheControl),S.append("",y)):typeof FormData!="undefined"&&y instanceof FormData?(S=y,S.append("cacheControl",P.cacheControl)):(S=y,F["cache-control"]=`max-age=${P.cacheControl}`,F["content-type"]=P.contentType);const z=this._getFinalPath(n),Y=yield fetch(`${this.url}/object/${z}`,{method:t,body:S,headers:F});if(Y.ok)return{data:{Key:z},error:null};{const ee=yield Y.json();return{data:null,error:ee}}}catch(S){return{data:null,error:S}}})}upload(t,n,y){return __awaiter$1(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,y)})}update(t,n,y){return __awaiter$1(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,y)})}move(t,n){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield post$1(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(y){return{data:null,error:y}}})}createSignedUrl(t,n){return __awaiter$1(this,void 0,void 0,function*(){try{const y=this._getFinalPath(t);let A=yield post$1(this.fetch,`${this.url}/object/sign/${y}`,{expiresIn:n},{headers:this.headers});const S=`${this.url}${A.signedURL}`;return A={signedURL:S},{data:A,error:null,signedURL:S}}catch(y){return{data:null,error:y,signedURL:null}}})}download(t){return __awaiter$1(this,void 0,void 0,function*(){try{const n=this._getFinalPath(t);return{data:yield(yield get$2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(n){return{data:null,error:n}}})}getPublicUrl(t){try{const n=this._getFinalPath(t),y=`${this.url}/object/public/${n}`;return{data:{publicURL:y},error:null,publicURL:y}}catch(n){return{data:null,error:n,publicURL:null}}}remove(t){return __awaiter$1(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}list(t,n,y){return __awaiter$1(this,void 0,void 0,function*(){try{const A=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),n),{prefix:t||""});return{data:yield post$1(this.fetch,`${this.url}/object/list/${this.bucketId}`,A,{headers:this.headers},y),error:null}}catch(A){return{data:null,error:A}}})}_getFinalPath(t){return`${this.bucketId}/${t}`}}class SupabaseStorageClient extends StorageBucketApi{constructor(t,n={},y){super(t,n,y)}from(t){return new StorageFileApi(this.url,this.headers,t,this.fetch)}}var __awaiter=globalThis&&globalThis.__awaiter||function(e,t,n,y){function A(S){return S instanceof n?S:new n(function(P){P(S)})}return new(n||(n=Promise))(function(S,P){function F(ee){try{Y(y.next(ee))}catch(te){P(te)}}function z(ee){try{Y(y.throw(ee))}catch(te){P(te)}}function Y(ee){ee.done?S(ee.value):A(ee.value).then(F,z)}Y((y=y.apply(e,t||[])).next())})};const DEFAULT_OPTIONS={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:DEFAULT_HEADERS$4};class SupabaseClient{constructor(t,n,y){if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");t=stripTrailingSlash(t);const A=Object.assign(Object.assign({},DEFAULT_OPTIONS),y);this.restUrl=`${t}/rest/v1`,this.realtimeUrl=`${t}/realtime/v1`.replace("http","ws"),this.authUrl=`${t}/auth/v1`,this.storageUrl=`${t}/storage/v1`,this.schema=A.schema,this.multiTab=A.multiTab,this.fetch=A.fetch,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$4),y==null?void 0:y.headers),this.auth=this._initSupabaseAuthClient(A),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},A.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get storage(){return new SupabaseStorageClient(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(t){const n=`${this.restUrl}/${t}`;return new SupabaseQueryBuilder(n,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:t,fetch:this.fetch})}rpc(t,n,{head:y=!1,count:A=null}={}){return this._initPostgRESTClient().rpc(t,n,{head:y,count:A})}removeAllSubscriptions(){return __awaiter(this,void 0,void 0,function*(){const t=this.realtime.channels.slice();return yield Promise.allSettled(t.map(n=>this.removeSubscription(n)))})}removeSubscription(t){return new Promise(n=>__awaiter(this,void 0,void 0,function*(){try{yield this._closeSubscription(t);const y=this.getSubscriptions(),A=y.filter(S=>S.isJoined()).length;if(!y.length){const{error:S}=yield this.realtime.disconnect();if(S)return n({error:S})}return n({error:null,data:{openSubscriptions:A}})}catch(y){return n({error:y})}}))}_closeSubscription(t){return __awaiter(this,void 0,void 0,function*(){return t.isClosed()||(yield this._closeChannel(t)),new Promise(n=>(this.realtime.remove(t),n(!0)))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:y,localStorage:A,headers:S,fetch:P}){const F={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl,headers:Object.assign(Object.assign({},S),F),autoRefreshToken:t,persistSession:n,detectSessionInUrl:y,localStorage:A,fetch:P})}_initRealtimeClient(t){return new RealtimeClient(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign(Object.assign({},t==null?void 0:t.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new PostgrestClient(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch})}_getAuthHeaders(){var t,n;const y=this.headers,A=(n=(t=this.auth.session())===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey;return y.apikey=this.supabaseKey,y.Authorization=`Bearer ${A}`,y}_closeChannel(t){return new Promise((n,y)=>{t.unsubscribe().receive("ok",()=>n(!0)).receive("error",A=>y(A))})}_listenForMultiTabEvents(){if(!this.multiTab||!isBrowser$3()||!(window==null?void 0:window.addEventListener))return null;try{return window==null?void 0:window.addEventListener("storage",t=>{var n,y,A;if(t.key===STORAGE_KEY$1){const S=JSON.parse(String(t.newValue)),P=(y=(n=S==null?void 0:S.currentSession)===null||n===void 0?void 0:n.access_token)!==null&&y!==void 0?y:void 0,F=(A=this.auth.session())===null||A===void 0?void 0:A.access_token;P?!F&&P?this._handleTokenChanged("SIGNED_IN",P,"STORAGE"):F!==P&&this._handleTokenChanged("TOKEN_REFRESHED",P,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",P,"STORAGE")}})}catch(t){return console.error("_listenForMultiTabEvents",t),null}}_listenForAuthEvents(){let{data:t}=this.auth.onAuthStateChange((n,y)=>{this._handleTokenChanged(n,y==null?void 0:y.access_token,"CLIENT")});return t}_handleTokenChanged(t,n,y){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n),y=="STORAGE"&&this.auth.setAuth(n),this.changedAccessToken=n):(t==="SIGNED_OUT"||t==="USER_DELETED")&&(this.removeAllSubscriptions(),y=="STORAGE"&&this.auth.signOut())}}const createClient=(e,t,n)=>new SupabaseClient(e,t,n);function _mergeNamespaces(e,t){return t.forEach(function(n){Object.keys(n).forEach(function(y){if(y!=="default"&&!(y in e)){var A=Object.getOwnPropertyDescriptor(n,y);Object.defineProperty(e,y,A.get?A:{enumerable:!0,get:function(){return n[y]}})}})}),Object.freeze(e)}function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(e);t&&(y=y.filter(function(A){return Object.getOwnPropertyDescriptor(e,A).enumerable})),n.push.apply(n,y)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(n),!0).forEach(function(y){_defineProperty(e,y,n[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(y){Object.defineProperty(e,y,Object.getOwnPropertyDescriptor(n,y))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var n=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var y,A,S=[],P=!0,F=!1;try{for(n=n.call(e);!(P=(y=n.next()).done)&&(S.push(y.value),!t||S.length!==t);P=!0);}catch(z){F=!0,A=z}finally{try{P||n.return==null||n.return()}finally{if(F)throw A}}return S}}function _unsupportedIterableToArray(e,t){if(e){if(typeof e=="string")return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,y=new Array(t);n<t;n++)y[n]=e[n];return y}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function createCommonjsModule(e){var t={exports:{}};return e(t,t.exports),t.exports}var check=function(e){return e&&e.Math==Math&&e},global$1=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),isPure=!1,setGlobal=function(e,t){try{Object.defineProperty(global$1,e,{value:t,configurable:!0,writable:!0})}catch{global$1[e]=t}return t},SHARED="__core-js_shared__",store$1=global$1[SHARED]||setGlobal(SHARED,{}),sharedStore=store$1,shared=createCommonjsModule(function(e){(e.exports=function(t,n){return sharedStore[t]||(sharedStore[t]=n!==void 0?n:{})})("versions",[]).push({version:"3.18.0",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),requireObjectCoercible=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},toObject=function(e){return Object(requireObjectCoercible(e))},hasOwnProperty={}.hasOwnProperty,has$1=Object.hasOwn||function(t,n){return hasOwnProperty.call(toObject(t),n)},id=0,postfix=Math.random(),uid=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++id+postfix).toString(36)},isCallable=function(e){return typeof e=="function"},aFunction=function(e){return isCallable(e)?e:void 0},getBuiltIn=function(e,t){return arguments.length<2?aFunction(global$1[e]):global$1[e]&&global$1[e][t]},engineUserAgent=getBuiltIn("navigator","userAgent")||"",process$3=global$1.process,Deno=global$1.Deno,versions=process$3&&process$3.versions||Deno&&Deno.version,v8=versions&&versions.v8,match,version;v8?(match=v8.split("."),version=match[0]<4?1:match[0]+match[1]):engineUserAgent&&(match=engineUserAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=engineUserAgent.match(/Chrome\/(\d+)/),match&&(version=match[1])));var engineV8Version=version&&+version,fails=function(e){try{return!!e()}catch{return!0}},nativeSymbol=!!Object.getOwnPropertySymbols&&!fails(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&engineV8Version&&engineV8Version<41}),useSymbolAsUid=nativeSymbol&&!Symbol.sham&&typeof Symbol.iterator=="symbol",WellKnownSymbolsStore=shared("wks"),Symbol$1=global$1.Symbol,createWellKnownSymbol=useSymbolAsUid?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid,wellKnownSymbol=function(e){return has$1(WellKnownSymbolsStore,e)&&(nativeSymbol||typeof WellKnownSymbolsStore[e]=="string")||(nativeSymbol&&has$1(Symbol$1,e)?WellKnownSymbolsStore[e]=Symbol$1[e]:WellKnownSymbolsStore[e]=createWellKnownSymbol("Symbol."+e)),WellKnownSymbolsStore[e]},TO_STRING_TAG$4=wellKnownSymbol("toStringTag"),test$1={};test$1[TO_STRING_TAG$4]="z";var toStringTagSupport=String(test$1)==="[object z]",descriptors=!fails(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),isObject=function(e){return typeof e=="object"?e!==null:isCallable(e)},document$3=global$1.document,EXISTS$1=isObject(document$3)&&isObject(document$3.createElement),documentCreateElement=function(e){return EXISTS$1?document$3.createElement(e):{}},ie8DomDefine=!descriptors&&!fails(function(){return Object.defineProperty(documentCreateElement("div"),"a",{get:function(){return 7}}).a!=7}),anObject=function(e){if(isObject(e))return e;throw TypeError(String(e)+" is not an object")},isSymbol=useSymbolAsUid?function(e){return typeof e=="symbol"}:function(e){var t=getBuiltIn("Symbol");return isCallable(t)&&Object(e)instanceof t},tryToString=function(e){try{return String(e)}catch{return"Object"}},aCallable=function(e){if(isCallable(e))return e;throw TypeError(tryToString(e)+" is not a function")},getMethod=function(e,t){var n=e[t];return n==null?void 0:aCallable(n)},ordinaryToPrimitive=function(e,t){var n,y;if(t==="string"&&isCallable(n=e.toString)&&!isObject(y=n.call(e))||isCallable(n=e.valueOf)&&!isObject(y=n.call(e))||t!=="string"&&isCallable(n=e.toString)&&!isObject(y=n.call(e)))return y;throw TypeError("Can't convert object to primitive value")},TO_PRIMITIVE=wellKnownSymbol("toPrimitive"),toPrimitive=function(e,t){if(!isObject(e)||isSymbol(e))return e;var n,y=getMethod(e,TO_PRIMITIVE);if(y){if(t===void 0&&(t="default"),n=y.call(e,t),!isObject(n)||isSymbol(n))return n;throw TypeError("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive(e,t)},toPropertyKey=function(e){var t=toPrimitive(e,"string");return isSymbol(t)?t:String(t)},$defineProperty=Object.defineProperty,f$5=descriptors?$defineProperty:function(t,n,y){if(anObject(t),n=toPropertyKey(n),anObject(y),ie8DomDefine)try{return $defineProperty(t,n,y)}catch{}if("get"in y||"set"in y)throw TypeError("Accessors not supported");return"value"in y&&(t[n]=y.value),t},objectDefineProperty={f:f$5},createPropertyDescriptor=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},createNonEnumerableProperty=descriptors?function(e,t,n){return objectDefineProperty.f(e,t,createPropertyDescriptor(1,n))}:function(e,t,n){return e[t]=n,e},functionToString=Function.toString;isCallable(sharedStore.inspectSource)||(sharedStore.inspectSource=function(e){return functionToString.call(e)});var inspectSource=sharedStore.inspectSource,WeakMap$1=global$1.WeakMap,nativeWeakMap=isCallable(WeakMap$1)&&/native code/.test(inspectSource(WeakMap$1)),keys$2=shared("keys"),sharedKey=function(e){return keys$2[e]||(keys$2[e]=uid(e))},hiddenKeys$1={},OBJECT_ALREADY_INITIALIZED="Object already initialized",WeakMap=global$1.WeakMap,set$2,get$1,has,enforce=function(e){return has(e)?get$1(e):set$2(e,{})},getterFor=function(e){return function(t){var n;if(!isObject(t)||(n=get$1(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(nativeWeakMap||sharedStore.state){var store=sharedStore.state||(sharedStore.state=new WeakMap),wmget=store.get,wmhas=store.has,wmset=store.set;set$2=function(e,t){if(wmhas.call(store,e))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return t.facade=e,wmset.call(store,e,t),t},get$1=function(e){return wmget.call(store,e)||{}},has=function(e){return wmhas.call(store,e)}}else{var STATE=sharedKey("state");hiddenKeys$1[STATE]=!0,set$2=function(e,t){if(has$1(e,STATE))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return t.facade=e,createNonEnumerableProperty(e,STATE,t),t},get$1=function(e){return has$1(e,STATE)?e[STATE]:{}},has=function(e){return has$1(e,STATE)}}var internalState={set:set$2,get:get$1,has,enforce,getterFor},FunctionPrototype$1=Function.prototype,getDescriptor=descriptors&&Object.getOwnPropertyDescriptor,EXISTS=has$1(FunctionPrototype$1,"name"),PROPER=EXISTS&&function(){}.name==="something",CONFIGURABLE=EXISTS&&(!descriptors||descriptors&&getDescriptor(FunctionPrototype$1,"name").configurable),functionName={EXISTS,PROPER,CONFIGURABLE},redefine=createCommonjsModule(function(e){var t=functionName.CONFIGURABLE,n=internalState.get,y=internalState.enforce,A=String(String).split("String");(e.exports=function(S,P,F,z){var Y,ee=!!z&&!!z.unsafe,te=!!z&&!!z.enumerable,ne=!!z&&!!z.noTargetGet,oe=z&&z.name!==void 0?z.name:P;isCallable(F)&&(String(oe).slice(0,7)==="Symbol("&&(oe="["+String(oe).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!has$1(F,"name")||t&&F.name!==oe)&&createNonEnumerableProperty(F,"name",oe),(Y=y(F)).source||(Y.source=A.join(typeof oe=="string"?oe:""))),S!==global$1?(ee?!ne&&S[P]&&(te=!0):delete S[P],te?S[P]=F:createNonEnumerableProperty(S,P,F)):te?S[P]=F:setGlobal(P,F)})(Function.prototype,"toString",function(){return isCallable(this)&&n(this).source||inspectSource(this)})}),toString$1={}.toString,classofRaw=function(e){return toString$1.call(e).slice(8,-1)},TO_STRING_TAG$3=wellKnownSymbol("toStringTag"),CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments",tryGet=function(e,t){try{return e[t]}catch{}},classof=toStringTagSupport?classofRaw:function(e){var t,n,y;return e===void 0?"Undefined":e===null?"Null":typeof(n=tryGet(t=Object(e),TO_STRING_TAG$3))=="string"?n:CORRECT_ARGUMENTS?classofRaw(t):(y=classofRaw(t))=="Object"&&isCallable(t.callee)?"Arguments":y},objectToString=toStringTagSupport?{}.toString:function(){return"[object "+classof(this)+"]"};toStringTagSupport||redefine(Object.prototype,"toString",objectToString,{unsafe:!0});var $propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$4=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$4&&!$propertyIsEnumerable.call({1:2},1),f$4=NASHORN_BUG?function(t){var n=getOwnPropertyDescriptor$4(this,t);return!!n&&n.enumerable}:$propertyIsEnumerable,objectPropertyIsEnumerable={f:f$4},split="".split,indexedObject=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return classofRaw(e)=="String"?split.call(e,""):Object(e)}:Object,toIndexedObject=function(e){return indexedObject(requireObjectCoercible(e))},$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,f$3=descriptors?$getOwnPropertyDescriptor:function(t,n){if(t=toIndexedObject(t),n=toPropertyKey(n),ie8DomDefine)try{return $getOwnPropertyDescriptor(t,n)}catch{}if(has$1(t,n))return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(t,n),t[n])},objectGetOwnPropertyDescriptor={f:f$3},ceil=Math.ceil,floor$7=Math.floor,toInteger=function(e){return isNaN(e=+e)?0:(e>0?floor$7:ceil)(e)},min$6=Math.min,toLength=function(e){return e>0?min$6(toInteger(e),9007199254740991):0},max$2=Math.max,min$5=Math.min,toAbsoluteIndex=function(e,t){var n=toInteger(e);return n<0?max$2(n+t,0):min$5(n,t)},createMethod$5=function(e){return function(t,n,y){var A,S=toIndexedObject(t),P=toLength(S.length),F=toAbsoluteIndex(y,P);if(e&&n!=n){for(;P>F;)if((A=S[F++])!=A)return!0}else for(;P>F;F++)if((e||F in S)&&S[F]===n)return e||F||0;return!e&&-1}},arrayIncludes={includes:createMethod$5(!0),indexOf:createMethod$5(!1)},indexOf=arrayIncludes.indexOf,objectKeysInternal=function(e,t){var n,y=toIndexedObject(e),A=0,S=[];for(n in y)!has$1(hiddenKeys$1,n)&&has$1(y,n)&&S.push(n);for(;t.length>A;)has$1(y,n=t[A++])&&(~indexOf(S,n)||S.push(n));return S},enumBugKeys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hiddenKeys=enumBugKeys.concat("length","prototype"),f$2=Object.getOwnPropertyNames||function(t){return objectKeysInternal(t,hiddenKeys)},objectGetOwnPropertyNames={f:f$2},f$1=Object.getOwnPropertySymbols,objectGetOwnPropertySymbols={f:f$1},ownKeys=getBuiltIn("Reflect","ownKeys")||function(t){var n=objectGetOwnPropertyNames.f(anObject(t)),y=objectGetOwnPropertySymbols.f;return y?n.concat(y(t)):n},copyConstructorProperties=function(e,t){for(var n=ownKeys(t),y=objectDefineProperty.f,A=objectGetOwnPropertyDescriptor.f,S=0;S<n.length;S++){var P=n[S];has$1(e,P)||y(e,P,A(t,P))}},replacement=/#|\.prototype\./,isForced=function(e,t){var n=data[normalize(e)];return n==POLYFILL||n!=NATIVE&&(isCallable(t)?fails(t):!!t)},normalize=isForced.normalize=function(e){return String(e).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P",isForced_1=isForced,getOwnPropertyDescriptor$3=objectGetOwnPropertyDescriptor.f,_export=function(e,t){var n,y,A,S,P,F=e.target,z=e.global,Y=e.stat;if(n=z?global$1:Y?global$1[F]||setGlobal(F,{}):(global$1[F]||{}).prototype)for(y in t){if(S=t[y],A=e.noTargetGet?(P=getOwnPropertyDescriptor$3(n,y))&&P.value:n[y],!isForced_1(z?y:F+(Y?".":"#")+y,e.forced)&&A!==void 0){if(typeof S==typeof A)continue;copyConstructorProperties(S,A)}(e.sham||A&&A.sham)&&createNonEnumerableProperty(S,"sham",!0),redefine(n,y,S,e)}},nativePromiseConstructor=global$1.Promise,redefineAll=function(e,t,n){for(var y in t)redefine(e,y,t[y],n);return e},aPossiblePrototype=function(e){if(typeof e=="object"||isCallable(e))return e;throw TypeError("Can't set "+String(e)+" as a prototype")},objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch{}return function(A,S){return anObject(A),aPossiblePrototype(S),t?e.call(A,S):A.__proto__=S,A}}():void 0),defineProperty$5=objectDefineProperty.f,TO_STRING_TAG$2=wellKnownSymbol("toStringTag"),setToStringTag=function(e,t,n){e&&!has$1(e=n?e:e.prototype,TO_STRING_TAG$2)&&defineProperty$5(e,TO_STRING_TAG$2,{configurable:!0,value:t})},SPECIES$6=wellKnownSymbol("species"),setSpecies=function(e){var t=getBuiltIn(e),n=objectDefineProperty.f;descriptors&&t&&!t[SPECIES$6]&&n(t,SPECIES$6,{configurable:!0,get:function(){return this}})},anInstance=function(e,t,n){if(e instanceof t)return e;throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")},iterators={},ITERATOR$8=wellKnownSymbol("iterator"),ArrayPrototype$1=Array.prototype,isArrayIteratorMethod=function(e){return e!==void 0&&(iterators.Array===e||ArrayPrototype$1[ITERATOR$8]===e)},functionBindContext=function(e,t,n){if(aCallable(e),t===void 0)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(y){return e.call(t,y)};case 2:return function(y,A){return e.call(t,y,A)};case 3:return function(y,A,S){return e.call(t,y,A,S)}}return function(){return e.apply(t,arguments)}},ITERATOR$7=wellKnownSymbol("iterator"),getIteratorMethod=function(e){if(e!=null)return getMethod(e,ITERATOR$7)||getMethod(e,"@@iterator")||iterators[classof(e)]},getIterator=function(e,t){var n=arguments.length<2?getIteratorMethod(e):t;if(aCallable(n))return anObject(n.call(e));throw TypeError(String(e)+" is not iterable")},iteratorClose=function(e,t,n){var y,A;anObject(e);try{if(!(y=getMethod(e,"return"))){if(t==="throw")throw n;return n}y=y.call(e)}catch(S){A=!0,y=S}if(t==="throw")throw n;if(A)throw y;return anObject(y),n},Result=function(e,t){this.stopped=e,this.result=t},iterate=function(e,t,n){var y,A,S,P,F,z,Y,ee=n&&n.that,te=!(!n||!n.AS_ENTRIES),ne=!(!n||!n.IS_ITERATOR),oe=!(!n||!n.INTERRUPTED),ie=functionBindContext(t,ee,1+te+oe),se=function(le){return y&&iteratorClose(y,"normal",le),new Result(!0,le)},ae=function(le){return te?(anObject(le),oe?ie(le[0],le[1],se):ie(le[0],le[1])):oe?ie(le,se):ie(le)};if(ne)y=e;else{if(!(A=getIteratorMethod(e)))throw TypeError(String(e)+" is not iterable");if(isArrayIteratorMethod(A)){for(S=0,P=toLength(e.length);P>S;S++)if((F=ae(e[S]))&&F instanceof Result)return F;return new Result(!1)}y=getIterator(e,A)}for(z=y.next;!(Y=z.call(y)).done;){try{F=ae(Y.value)}catch(le){iteratorClose(y,"throw",le)}if(typeof F=="object"&&F&&F instanceof Result)return F}return new Result(!1)},ITERATOR$6=wellKnownSymbol("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR$6]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch{}var checkCorrectnessOfIteration=function(e,t){if(!t&&!SAFE_CLOSING)return!1;var n=!1;try{var y={};y[ITERATOR$6]=function(){return{next:function(){return{done:n=!0}}}},e(y)}catch{}return n},empty=[],construct=getBuiltIn("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec=constructorRegExp.exec,INCORRECT_TO_STRING=!constructorRegExp.exec(function(){}),isConstructorModern=function(e){if(!isCallable(e))return!1;try{return construct(Object,empty,e),!0}catch{return!1}},isConstructorLegacy=function(e){if(!isCallable(e))return!1;switch(classof(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return INCORRECT_TO_STRING||!!exec.call(constructorRegExp,inspectSource(e))},isConstructor=!construct||fails(function(){var e;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){e=!0})||e})?isConstructorLegacy:isConstructorModern,aConstructor=function(e){if(isConstructor(e))return e;throw TypeError(tryToString(e)+" is not a constructor")},SPECIES$5=wellKnownSymbol("species"),speciesConstructor=function(e,t){var n,y=anObject(e).constructor;return y===void 0||(n=anObject(y)[SPECIES$5])==null?t:aConstructor(n)},html=getBuiltIn("document","documentElement"),engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(engineUserAgent),engineIsNode=classofRaw(global$1.process)=="process",set$1=global$1.setImmediate,clear=global$1.clearImmediate,process$2=global$1.process,MessageChannel=global$1.MessageChannel,Dispatch=global$1.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",location$1,defer,channel,port;try{location$1=global$1.location}catch{}var run=function(e){if(queue.hasOwnProperty(e)){var t=queue[e];delete queue[e],t()}},runner=function(e){return function(){run(e)}},listener=function(e){run(e.data)},post=function(e){global$1.postMessage(String(e),location$1.protocol+"//"+location$1.host)};set$1&&clear||(set$1=function(t){for(var n=[],y=arguments.length,A=1;y>A;)n.push(arguments[A++]);return queue[++counter]=function(){(isCallable(t)?t:Function(t)).apply(void 0,n)},defer(counter),counter},clear=function(t){delete queue[t]},engineIsNode?defer=function(e){process$2.nextTick(runner(e))}:Dispatch&&Dispatch.now?defer=function(e){Dispatch.now(runner(e))}:MessageChannel&&!engineIsIos?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=functionBindContext(port.postMessage,port,1)):global$1.addEventListener&&isCallable(global$1.postMessage)&&!global$1.importScripts&&location$1&&location$1.protocol!=="file:"&&!fails(post)?(defer=post,global$1.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in documentCreateElement("script")?function(e){html.appendChild(documentCreateElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(e)}}:function(e){setTimeout(runner(e),0)});var task$1={set:set$1,clear},engineIsIosPebble=/ipad|iphone|ipod/i.test(engineUserAgent)&&global$1.Pebble!==void 0,engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(engineUserAgent),getOwnPropertyDescriptor$2=objectGetOwnPropertyDescriptor.f,macrotask=task$1.set,MutationObserver$1=global$1.MutationObserver||global$1.WebKitMutationObserver,document$2=global$1.document,process$1=global$1.process,Promise$1=global$1.Promise,queueMicrotaskDescriptor=getOwnPropertyDescriptor$2(global$1,"queueMicrotask"),queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,flush,head,last,notify$1,toggle,node,promise,then;queueMicrotask||(flush=function(){var e,t;for(engineIsNode&&(e=process$1.domain)&&e.exit();head;){t=head.fn,head=head.next;try{t()}catch(n){throw head?notify$1():last=void 0,n}}last=void 0,e&&e.enter()},engineIsIos||engineIsNode||engineIsWebosWebkit||!MutationObserver$1||!document$2?!engineIsIosPebble&&Promise$1&&Promise$1.resolve?(promise=Promise$1.resolve(void 0),promise.constructor=Promise$1,then=promise.then,notify$1=function(){then.call(promise,flush)}):notify$1=engineIsNode?function(){process$1.nextTick(flush)}:function(){macrotask.call(global$1,flush)}:(toggle=!0,node=document$2.createTextNode(""),new MutationObserver$1(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}));var microtask=queueMicrotask||function(e){var t={fn:e,next:void 0};last&&(last.next=t),head||(head=t,notify$1()),last=t},PromiseCapability=function(e){var t,n;this.promise=new e(function(y,A){if(t!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");t=y,n=A}),this.resolve=aCallable(t),this.reject=aCallable(n)},f=function(e){return new PromiseCapability(e)},newPromiseCapability$1={f},promiseResolve=function(e,t){if(anObject(e),isObject(t)&&t.constructor===e)return t;var n=newPromiseCapability$1.f(e);return(0,n.resolve)(t),n.promise},hostReportErrors=function(e,t){var n=global$1.console;n&&n.error&&(arguments.length===1?n.error(e):n.error(e,t))},perform=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},engineIsBrowser=typeof window=="object",task=task$1.set,SPECIES$4=wellKnownSymbol("species"),PROMISE="Promise",getInternalState$4=internalState.get,setInternalState$5=internalState.set,getInternalPromiseState=internalState.getterFor(PROMISE),NativePromisePrototype=nativePromiseConstructor&&nativePromiseConstructor.prototype,PromiseConstructor=nativePromiseConstructor,PromiseConstructorPrototype=NativePromisePrototype,TypeError$1=global$1.TypeError,document$1=global$1.document,process=global$1.process,newPromiseCapability=newPromiseCapability$1.f,newGenericPromiseCapability=newPromiseCapability,DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global$1.dispatchEvent),NATIVE_REJECTION_EVENT=isCallable(global$1.PromiseRejectionEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,SUBCLASSING=!1,Internal,OwnPromiseCapability,PromiseWrapper,nativeThen,FORCED$6=isForced_1(PROMISE,function(){var e=inspectSource(PromiseConstructor),t=e!==String(PromiseConstructor);if(!t&&engineV8Version===66)return!0;if(engineV8Version>=51&&/native code/.test(e))return!1;var n=new PromiseConstructor(function(A){A(1)}),y=function(A){A(function(){},function(){})};return(n.constructor={})[SPECIES$4]=y,!(SUBCLASSING=n.then(function(){})instanceof y)||!t&&engineIsBrowser&&!NATIVE_REJECTION_EVENT}),INCORRECT_ITERATION=FORCED$6||!checkCorrectnessOfIteration(function(e){PromiseConstructor.all(e).catch(function(){})}),isThenable=function(e){var t;return!(!isObject(e)||!isCallable(t=e.then))&&t},notify=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;microtask(function(){for(var y=e.value,A=e.state==FULFILLED,S=0;n.length>S;){var P,F,z,Y=n[S++],ee=A?Y.ok:Y.fail,te=Y.resolve,ne=Y.reject,oe=Y.domain;try{ee?(A||(e.rejection===UNHANDLED&&onHandleUnhandled(e),e.rejection=HANDLED),ee===!0?P=y:(oe&&oe.enter(),P=ee(y),oe&&(oe.exit(),z=!0)),P===Y.promise?ne(TypeError$1("Promise-chain cycle")):(F=isThenable(P))?F.call(P,te,ne):te(P)):ne(y)}catch(ie){oe&&!z&&oe.exit(),ne(ie)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&onUnhandled(e)})}},dispatchEvent=function(e,t,n){var y,A;DISPATCH_EVENT?((y=document$1.createEvent("Event")).promise=t,y.reason=n,y.initEvent(e,!1,!0),global$1.dispatchEvent(y)):y={promise:t,reason:n},!NATIVE_REJECTION_EVENT&&(A=global$1["on"+e])?A(y):e===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",n)},onUnhandled=function(e){task.call(global$1,function(){var t,n=e.facade,y=e.value;if(isUnhandled(e)&&(t=perform(function(){engineIsNode?process.emit("unhandledRejection",y,n):dispatchEvent(UNHANDLED_REJECTION,n,y)}),e.rejection=engineIsNode||isUnhandled(e)?UNHANDLED:HANDLED,t.error))throw t.value})},isUnhandled=function(e){return e.rejection!==HANDLED&&!e.parent},onHandleUnhandled=function(e){task.call(global$1,function(){var t=e.facade;engineIsNode?process.emit("rejectionHandled",t):dispatchEvent(REJECTION_HANDLED,t,e.value)})},bind=function(e,t,n){return function(y){e(t,y,n)}},internalReject=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=REJECTED,notify(e,!0))},internalResolve=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw TypeError$1("Promise can't be resolved itself");var y=isThenable(t);y?microtask(function(){var A={done:!1};try{y.call(t,bind(internalResolve,A,e),bind(internalReject,A,e))}catch(S){internalReject(A,S,e)}}):(e.value=t,e.state=FULFILLED,notify(e,!1))}catch(A){internalReject({done:!1},A,e)}}};if(FORCED$6&&(PromiseConstructor=function(t){anInstance(this,PromiseConstructor,PROMISE),aCallable(t),Internal.call(this);var n=getInternalState$4(this);try{t(bind(internalResolve,n),bind(internalReject,n))}catch(y){internalReject(n,y)}},PromiseConstructorPrototype=PromiseConstructor.prototype,Internal=function(t){setInternalState$5(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:PENDING,value:void 0})},Internal.prototype=redefineAll(PromiseConstructorPrototype,{then:function(t,n){var y=getInternalPromiseState(this),A=newPromiseCapability(speciesConstructor(this,PromiseConstructor));return A.ok=!isCallable(t)||t,A.fail=isCallable(n)&&n,A.domain=engineIsNode?process.domain:void 0,y.parent=!0,y.reactions.push(A),y.state!=PENDING&&notify(y,!1),A.promise},catch:function(e){return this.then(void 0,e)}}),OwnPromiseCapability=function(){var e=new Internal,t=getInternalState$4(e);this.promise=e,this.resolve=bind(internalResolve,t),this.reject=bind(internalReject,t)},newPromiseCapability$1.f=newPromiseCapability=function(e){return e===PromiseConstructor||e===PromiseWrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)},isCallable(nativePromiseConstructor)&&NativePromisePrototype!==Object.prototype)){nativeThen=NativePromisePrototype.then,SUBCLASSING||(redefine(NativePromisePrototype,"then",function(t,n){var y=this;return new PromiseConstructor(function(A,S){nativeThen.call(y,A,S)}).then(t,n)},{unsafe:!0}),redefine(NativePromisePrototype,"catch",PromiseConstructorPrototype.catch,{unsafe:!0}));try{delete NativePromisePrototype.constructor}catch{}objectSetPrototypeOf&&objectSetPrototypeOf(NativePromisePrototype,PromiseConstructorPrototype)}_export({global:!0,wrap:!0,forced:FORCED$6},{Promise:PromiseConstructor}),setToStringTag(PromiseConstructor,PROMISE,!1),setSpecies(PROMISE),PromiseWrapper=getBuiltIn(PROMISE),_export({target:PROMISE,stat:!0,forced:FORCED$6},{reject:function(t){var n=newPromiseCapability(this);return n.reject.call(void 0,t),n.promise}}),_export({target:PROMISE,stat:!0,forced:FORCED$6},{resolve:function(t){return promiseResolve(this,t)}}),_export({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function(t){var n=this,y=newPromiseCapability(n),A=y.resolve,S=y.reject,P=perform(function(){var F=aCallable(n.resolve),z=[],Y=0,ee=1;iterate(t,function(te){var ne=Y++,oe=!1;z.push(void 0),ee++,F.call(n,te).then(function(ie){oe||(oe=!0,z[ne]=ie,--ee||A(z))},S)}),--ee||A(z)});return P.error&&S(P.value),y.promise},race:function(t){var n=this,y=newPromiseCapability(n),A=y.reject,S=perform(function(){var P=aCallable(n.resolve);iterate(t,function(F){P.call(n,F).then(y.resolve,A)})});return S.error&&A(S.value),y.promise}});var inheritIfRequired=function(e,t,n){var y,A;return objectSetPrototypeOf&&isCallable(y=t.constructor)&&y!==n&&isObject(A=y.prototype)&&A!==n.prototype&&objectSetPrototypeOf(e,A),e},objectKeys=Object.keys||function(t){return objectKeysInternal(t,enumBugKeys)},objectDefineProperties=descriptors?Object.defineProperties:function(t,n){anObject(t);for(var y,A=objectKeys(n),S=A.length,P=0;S>P;)objectDefineProperty.f(t,y=A[P++],n[y]);return t},GT=">",LT="<",PROTOTYPE$1="prototype",SCRIPT="script",IE_PROTO$1=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return LT+SCRIPT+GT+e+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(e){e.write(scriptTag("")),e.close();var t=e.parentWindow.Object;return e=null,t},NullProtoObjectViaIFrame=function(){var e,t=documentCreateElement("iframe"),n="java"+SCRIPT+":";return t.style.display="none",html.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(scriptTag("document.F=Object")),e.close(),e.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document!="undefined"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var e=enumBugKeys.length;e--;)delete NullProtoObject[PROTOTYPE$1][enumBugKeys[e]];return NullProtoObject()};hiddenKeys$1[IE_PROTO$1]=!0;var objectCreate=Object.create||function(t,n){var y;return t!==null?(EmptyConstructor[PROTOTYPE$1]=anObject(t),y=new EmptyConstructor,EmptyConstructor[PROTOTYPE$1]=null,y[IE_PROTO$1]=t):y=NullProtoObject(),n===void 0?y:objectDefineProperties(y,n)},toString=function(e){if(classof(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(e)},whitespaces=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,whitespace="["+whitespaces+"]",ltrim=RegExp("^"+whitespace+whitespace+"*"),rtrim=RegExp(whitespace+whitespace+"*$"),createMethod$4=function(e){return function(t){var n=toString(requireObjectCoercible(t));return 1&e&&(n=n.replace(ltrim,"")),2&e&&(n=n.replace(rtrim,"")),n}},stringTrim={start:createMethod$4(1),end:createMethod$4(2),trim:createMethod$4(3)},getOwnPropertyNames$1=objectGetOwnPropertyNames.f,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,defineProperty$4=objectDefineProperty.f,trim=stringTrim.trim,NUMBER="Number",NativeNumber=global$1[NUMBER],NumberPrototype=NativeNumber.prototype,BROKEN_CLASSOF=classofRaw(objectCreate(NumberPrototype))==NUMBER,toNumber=function(e){if(isSymbol(e))throw TypeError("Cannot convert a Symbol value to a number");var t,n,y,A,S,P,F,z,Y=toPrimitive(e,"number");if(typeof Y=="string"&&Y.length>2){if((t=(Y=trim(Y)).charCodeAt(0))===43||t===45){if((n=Y.charCodeAt(2))===88||n===120)return NaN}else if(t===48){switch(Y.charCodeAt(1)){case 66:case 98:y=2,A=49;break;case 79:case 111:y=8,A=55;break;default:return+Y}for(P=(S=Y.slice(2)).length,F=0;F<P;F++)if((z=S.charCodeAt(F))<48||z>A)return NaN;return parseInt(S,y)}}return+Y};if(isForced_1(NUMBER,!NativeNumber(" 0o1")||!NativeNumber("0b1")||NativeNumber("+0x1"))){for(var NumberWrapper=function(t){var n=arguments.length<1?0:t,y=this;return y instanceof NumberWrapper&&(BROKEN_CLASSOF?fails(function(){NumberPrototype.valueOf.call(y)}):classofRaw(y)!=NUMBER)?inheritIfRequired(new NativeNumber(toNumber(n)),y,NumberWrapper):toNumber(n)},keys$1=descriptors?getOwnPropertyNames$1(NativeNumber):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),j$1=0,key$1;keys$1.length>j$1;j$1++)has$1(NativeNumber,key$1=keys$1[j$1])&&!has$1(NumberWrapper,key$1)&&defineProperty$4(NumberWrapper,key$1,getOwnPropertyDescriptor$1(NativeNumber,key$1));NumberWrapper.prototype=NumberPrototype,NumberPrototype.constructor=NumberWrapper,redefine(global$1,NUMBER,NumberWrapper)}var FUNCTION_NAME_EXISTS=functionName.EXISTS,defineProperty$3=objectDefineProperty.f,FunctionPrototype=Function.prototype,FunctionPrototypeToString=FunctionPrototype.toString,nameRE=/^\s*function ([^ (]*)/,NAME$1="name";descriptors&&!FUNCTION_NAME_EXISTS&&defineProperty$3(FunctionPrototype,NAME$1,{configurable:!0,get:function(){try{return FunctionPrototypeToString.call(this).match(nameRE)[1]}catch{return""}}}),_export({global:!0},{globalThis:global$1});var $assign=Object.assign,defineProperty$2=Object.defineProperty,objectAssign=!$assign||fails(function(){if(descriptors&&$assign({b:1},$assign(defineProperty$2({},"a",{enumerable:!0,get:function(){defineProperty$2(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(y){t[y]=y}),$assign({},e)[n]!=7||objectKeys($assign({},t)).join("")!="abcdefghijklmnopqrst"})?function(t,n){for(var y=toObject(t),A=arguments.length,S=1,P=objectGetOwnPropertySymbols.f,F=objectPropertyIsEnumerable.f;A>S;)for(var z,Y=indexedObject(arguments[S++]),ee=P?objectKeys(Y).concat(P(Y)):objectKeys(Y),te=ee.length,ne=0;te>ne;)z=ee[ne++],descriptors&&!F.call(Y,z)||(y[z]=Y[z]);return y}:$assign;_export({target:"Object",stat:!0,forced:Object.assign!==objectAssign},{assign:objectAssign});var path=global$1;path.Object.assign;var regexpFlags=function(){var e=anObject(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},$RegExp$2=global$1.RegExp,UNSUPPORTED_Y$2=fails(function(){var e=$RegExp$2("a","y");return e.lastIndex=2,e.exec("abcd")!=null}),BROKEN_CARET=fails(function(){var e=$RegExp$2("^r","gy");return e.lastIndex=2,e.exec("str")!=null}),regexpStickyHelpers={UNSUPPORTED_Y:UNSUPPORTED_Y$2,BROKEN_CARET},$RegExp$1=global$1.RegExp,regexpUnsupportedDotAll=fails(function(){var e=$RegExp$1(".","s");return!(e.dotAll&&e.exec(`
`)&&e.flags==="s")}),$RegExp=global$1.RegExp,regexpUnsupportedNcg=fails(function(){var e=$RegExp("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}),getInternalState$3=internalState.get,nativeExec=RegExp.prototype.exec,nativeReplace=shared("native-string-replace",String.prototype.replace),patchedExec=nativeExec,UPDATES_LAST_INDEX_WRONG=(re1=/a/,re2=/b*/g,nativeExec.call(re1,"a"),nativeExec.call(re2,"a"),re1.lastIndex!==0||re2.lastIndex!==0),re1,re2,UNSUPPORTED_Y$1=regexpStickyHelpers.UNSUPPORTED_Y||regexpStickyHelpers.BROKEN_CARET,NPCG_INCLUDED=/()??/.exec("")[1]!==void 0,PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y$1||regexpUnsupportedDotAll||regexpUnsupportedNcg;PATCH&&(patchedExec=function(t){var n,y,A,S,P,F,z,Y=this,ee=getInternalState$3(Y),te=toString(t),ne=ee.raw;if(ne)return ne.lastIndex=Y.lastIndex,n=patchedExec.call(ne,te),Y.lastIndex=ne.lastIndex,n;var oe=ee.groups,ie=UNSUPPORTED_Y$1&&Y.sticky,se=regexpFlags.call(Y),ae=Y.source,le=0,pe=te;if(ie&&((se=se.replace("y","")).indexOf("g")===-1&&(se+="g"),pe=te.slice(Y.lastIndex),Y.lastIndex>0&&(!Y.multiline||Y.multiline&&te.charAt(Y.lastIndex-1)!==`
`)&&(ae="(?: "+ae+")",pe=" "+pe,le++),y=new RegExp("^(?:"+ae+")",se)),NPCG_INCLUDED&&(y=new RegExp("^"+ae+"$(?!\\s)",se)),UPDATES_LAST_INDEX_WRONG&&(A=Y.lastIndex),S=nativeExec.call(ie?y:Y,pe),ie?S?(S.input=S.input.slice(le),S[0]=S[0].slice(le),S.index=Y.lastIndex,Y.lastIndex+=S[0].length):Y.lastIndex=0:UPDATES_LAST_INDEX_WRONG&&S&&(Y.lastIndex=Y.global?S.index+S[0].length:A),NPCG_INCLUDED&&S&&S.length>1&&nativeReplace.call(S[0],y,function(){for(P=1;P<arguments.length-2;P++)arguments[P]===void 0&&(S[P]=void 0)}),S&&oe)for(S.groups=F=objectCreate(null),P=0;P<oe.length;P++)F[(z=oe[P])[0]]=S[z[1]];return S});var regexpExec=patchedExec;_export({target:"RegExp",proto:!0,forced:/./.exec!==regexpExec},{exec:regexpExec});var SPECIES$3=wellKnownSymbol("species"),RegExpPrototype$1=RegExp.prototype,fixRegexpWellKnownSymbolLogic=function(e,t,n,y){var A=wellKnownSymbol(e),S=!fails(function(){var Y={};return Y[A]=function(){return 7},""[e](Y)!=7}),P=S&&!fails(function(){var Y=!1,ee=/a/;return e==="split"&&((ee={}).constructor={},ee.constructor[SPECIES$3]=function(){return ee},ee.flags="",ee[A]=/./[A]),ee.exec=function(){return Y=!0,null},ee[A](""),!Y});if(!S||!P||n){var F=/./[A],z=t(A,""[e],function(Y,ee,te,ne,oe){var ie=ee.exec;return ie===regexpExec||ie===RegExpPrototype$1.exec?S&&!oe?{done:!0,value:F.call(ee,te,ne)}:{done:!0,value:Y.call(te,ee,ne)}:{done:!1}});redefine(String.prototype,e,z[0]),redefine(RegExpPrototype$1,A,z[1])}y&&createNonEnumerableProperty(RegExpPrototype$1[A],"sham",!0)},MATCH$1=wellKnownSymbol("match"),isRegexp=function(e){var t;return isObject(e)&&((t=e[MATCH$1])!==void 0?!!t:classofRaw(e)=="RegExp")},createMethod$3=function(e){return function(t,n){var y,A,S=toString(requireObjectCoercible(t)),P=toInteger(n),F=S.length;return P<0||P>=F?e?"":void 0:(y=S.charCodeAt(P))<55296||y>56319||P+1===F||(A=S.charCodeAt(P+1))<56320||A>57343?e?S.charAt(P):y:e?S.slice(P,P+2):A-56320+(y-55296<<10)+65536}},stringMultibyte={codeAt:createMethod$3(!1),charAt:createMethod$3(!0)},charAt$1=stringMultibyte.charAt,advanceStringIndex=function(e,t,n){return t+(n?charAt$1(e,t).length:1)},regexpExecAbstract=function(e,t){var n=e.exec;if(isCallable(n)){var y=n.call(e,t);return y!==null&&anObject(y),y}if(classofRaw(e)==="RegExp")return regexpExec.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")},UNSUPPORTED_Y=regexpStickyHelpers.UNSUPPORTED_Y,arrayPush=[].push,min$4=Math.min,MAX_UINT32=4294967295,SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return n.length!==2||n[0]!=="a"||n[1]!=="b"});fixRegexpWellKnownSymbolLogic("split",function(e,t,n){var y;return y="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(A,S){var P=toString(requireObjectCoercible(this)),F=S===void 0?MAX_UINT32:S>>>0;if(F===0)return[];if(A===void 0)return[P];if(!isRegexp(A))return t.call(P,A,F);for(var z,Y,ee,te=[],ne=(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.unicode?"u":"")+(A.sticky?"y":""),oe=0,ie=new RegExp(A.source,ne+"g");(z=regexpExec.call(ie,P))&&!((Y=ie.lastIndex)>oe&&(te.push(P.slice(oe,z.index)),z.length>1&&z.index<P.length&&arrayPush.apply(te,z.slice(1)),ee=z[0].length,oe=Y,te.length>=F));)ie.lastIndex===z.index&&ie.lastIndex++;return oe===P.length?!ee&&ie.test("")||te.push(""):te.push(P.slice(oe)),te.length>F?te.slice(0,F):te}:"0".split(void 0,0).length?function(A,S){return A===void 0&&S===0?[]:t.call(this,A,S)}:t,[function(S,P){var F=requireObjectCoercible(this),z=S==null?void 0:getMethod(S,e);return z?z.call(S,F,P):y.call(toString(F),S,P)},function(A,S){var P=anObject(this),F=toString(A),z=n(y,P,F,S,y!==t);if(z.done)return z.value;var Y=speciesConstructor(P,RegExp),ee=P.unicode,te=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(UNSUPPORTED_Y?"g":"y"),ne=new Y(UNSUPPORTED_Y?"^(?:"+P.source+")":P,te),oe=S===void 0?MAX_UINT32:S>>>0;if(oe===0)return[];if(F.length===0)return regexpExecAbstract(ne,F)===null?[F]:[];for(var ie=0,se=0,ae=[];se<F.length;){ne.lastIndex=UNSUPPORTED_Y?0:se;var le,pe=regexpExecAbstract(ne,UNSUPPORTED_Y?F.slice(se):F);if(pe===null||(le=min$4(toLength(ne.lastIndex+(UNSUPPORTED_Y?se:0)),F.length))===ie)se=advanceStringIndex(F,se,ee);else{if(ae.push(F.slice(ie,se)),ae.length===oe)return ae;for(var ue=1;ue<=pe.length-1;ue++)if(ae.push(pe[ue]),ae.length===oe)return ae;se=ie=le}}return ae.push(F.slice(ie)),ae}]},!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC,UNSUPPORTED_Y),fixRegexpWellKnownSymbolLogic("match",function(e,t,n){return[function(A){var S=requireObjectCoercible(this),P=A==null?void 0:getMethod(A,e);return P?P.call(A,S):new RegExp(A)[e](toString(S))},function(y){var A=anObject(this),S=toString(y),P=n(t,A,S);if(P.done)return P.value;if(!A.global)return regexpExecAbstract(A,S);var F=A.unicode;A.lastIndex=0;for(var z,Y=[],ee=0;(z=regexpExecAbstract(A,S))!==null;){var te=toString(z[0]);Y[ee]=te,te===""&&(A.lastIndex=advanceStringIndex(S,toLength(A.lastIndex),F)),ee++}return ee===0?null:Y}]});var UNSCOPABLES=wellKnownSymbol("unscopables"),ArrayPrototype=Array.prototype;ArrayPrototype[UNSCOPABLES]==null&&objectDefineProperty.f(ArrayPrototype,UNSCOPABLES,{configurable:!0,value:objectCreate(null)});var addToUnscopables=function(e){ArrayPrototype[UNSCOPABLES][e]=!0},correctPrototypeGetter=!fails(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype$2=Object.prototype,objectGetPrototypeOf=correctPrototypeGetter?Object.getPrototypeOf:function(e){var t=toObject(e);if(has$1(t,IE_PROTO))return t[IE_PROTO];var n=t.constructor;return isCallable(n)&&t instanceof n?n.prototype:t instanceof Object?ObjectPrototype$2:null},ITERATOR$5=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$2,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=objectGetPrototypeOf(objectGetPrototypeOf(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$2=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=IteratorPrototype$2==null||fails(function(){var e={};return IteratorPrototype$2[ITERATOR$5].call(e)!==e});NEW_ITERATOR_PROTOTYPE&&(IteratorPrototype$2={}),isCallable(IteratorPrototype$2[ITERATOR$5])||redefine(IteratorPrototype$2,ITERATOR$5,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},IteratorPrototype$1=iteratorsCore.IteratorPrototype,returnThis$1=function(){return this},createIteratorConstructor=function(e,t,n){var y=t+" Iterator";return e.prototype=objectCreate(IteratorPrototype$1,{next:createPropertyDescriptor(1,n)}),setToStringTag(e,y,!1),iterators[y]=returnThis$1,e},PROPER_FUNCTION_NAME$3=functionName.PROPER,CONFIGURABLE_FUNCTION_NAME$1=functionName.CONFIGURABLE,IteratorPrototype=iteratorsCore.IteratorPrototype,BUGGY_SAFARI_ITERATORS=iteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$4=wellKnownSymbol("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator=function(e,t,n,y,A,S,P){createIteratorConstructor(n,t,y);var F,z,Y,ee=function(le){if(le===A&&se)return se;if(!BUGGY_SAFARI_ITERATORS&&le in oe)return oe[le];switch(le){case KEYS:return function(){return new n(this,le)};case VALUES:return function(){return new n(this,le)};case ENTRIES:return function(){return new n(this,le)}}return function(){return new n(this)}},te=t+" Iterator",ne=!1,oe=e.prototype,ie=oe[ITERATOR$4]||oe["@@iterator"]||A&&oe[A],se=!BUGGY_SAFARI_ITERATORS&&ie||ee(A),ae=t=="Array"&&oe.entries||ie;if(ae&&(F=objectGetPrototypeOf(ae.call(new e)))!==Object.prototype&&F.next&&(objectGetPrototypeOf(F)!==IteratorPrototype&&(objectSetPrototypeOf?objectSetPrototypeOf(F,IteratorPrototype):isCallable(F[ITERATOR$4])||redefine(F,ITERATOR$4,returnThis)),setToStringTag(F,te,!0)),PROPER_FUNCTION_NAME$3&&A==VALUES&&ie&&ie.name!==VALUES&&(CONFIGURABLE_FUNCTION_NAME$1?createNonEnumerableProperty(oe,"name",VALUES):(ne=!0,se=function(){return ie.call(this)})),A)if(z={values:ee(VALUES),keys:S?se:ee(KEYS),entries:ee(ENTRIES)},P)for(Y in z)(BUGGY_SAFARI_ITERATORS||ne||!(Y in oe))&&redefine(oe,Y,z[Y]);else _export({target:t,proto:!0,forced:BUGGY_SAFARI_ITERATORS||ne},z);return oe[ITERATOR$4]!==se&&redefine(oe,ITERATOR$4,se,{name:A}),iterators[t]=se,z},ARRAY_ITERATOR="Array Iterator",setInternalState$4=internalState.set,getInternalState$2=internalState.getterFor(ARRAY_ITERATOR),es_array_iterator=defineIterator(Array,"Array",function(e,t){setInternalState$4(this,{type:ARRAY_ITERATOR,target:toIndexedObject(e),index:0,kind:t})},function(){var e=getInternalState$2(this),t=e.target,n=e.kind,y=e.index++;return!t||y>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:y,done:!1}:n=="values"?{value:t[y],done:!1}:{value:[y,t[y]],done:!1}},"values");iterators.Arguments=iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");var arrayBufferNative=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined",defineProperty$1=objectDefineProperty.f,Int8Array$3=global$1.Int8Array,Int8ArrayPrototype=Int8Array$3&&Int8Array$3.prototype,Uint8ClampedArray=global$1.Uint8ClampedArray,Uint8ClampedArrayPrototype=Uint8ClampedArray&&Uint8ClampedArray.prototype,TypedArray=Int8Array$3&&objectGetPrototypeOf(Int8Array$3),TypedArrayPrototype=Int8ArrayPrototype&&objectGetPrototypeOf(Int8ArrayPrototype),ObjectPrototype$1=Object.prototype,isPrototypeOf=ObjectPrototype$1.isPrototypeOf,TO_STRING_TAG$1=wellKnownSymbol("toStringTag"),TYPED_ARRAY_TAG=uid("TYPED_ARRAY_TAG"),TYPED_ARRAY_CONSTRUCTOR$1=uid("TYPED_ARRAY_CONSTRUCTOR"),NATIVE_ARRAY_BUFFER_VIEWS$1=arrayBufferNative&&!!objectSetPrototypeOf&&classof(global$1.opera)!=="Opera",TYPED_ARRAY_TAG_REQIRED=!1,NAME,Constructor,Prototype,TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},BigIntArrayConstructorsList={BigInt64Array:8,BigUint64Array:8},isView=function(t){if(!isObject(t))return!1;var n=classof(t);return n==="DataView"||has$1(TypedArrayConstructorsList,n)||has$1(BigIntArrayConstructorsList,n)},isTypedArray=function(e){if(!isObject(e))return!1;var t=classof(e);return has$1(TypedArrayConstructorsList,t)||has$1(BigIntArrayConstructorsList,t)},aTypedArray$m=function(e){if(isTypedArray(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor$2=function(e){if(isCallable(e)&&(!objectSetPrototypeOf||isPrototypeOf.call(TypedArray,e)))return e;throw TypeError(tryToString(e)+" is not a typed array constructor")},exportTypedArrayMethod$n=function(e,t,n){if(descriptors){if(n)for(var y in TypedArrayConstructorsList){var A=global$1[y];if(A&&has$1(A.prototype,e))try{delete A.prototype[e]}catch{}}TypedArrayPrototype[e]&&!n||redefine(TypedArrayPrototype,e,n?t:NATIVE_ARRAY_BUFFER_VIEWS$1&&Int8ArrayPrototype[e]||t)}},exportTypedArrayStaticMethod=function(e,t,n){var y,A;if(descriptors){if(objectSetPrototypeOf){if(n){for(y in TypedArrayConstructorsList)if((A=global$1[y])&&has$1(A,e))try{delete A[e]}catch{}}if(TypedArray[e]&&!n)return;try{return redefine(TypedArray,e,n?t:NATIVE_ARRAY_BUFFER_VIEWS$1&&TypedArray[e]||t)}catch{}}for(y in TypedArrayConstructorsList)!(A=global$1[y])||A[e]&&!n||redefine(A,e,t)}};for(NAME in TypedArrayConstructorsList)Constructor=global$1[NAME],Prototype=Constructor&&Constructor.prototype,Prototype?createNonEnumerableProperty(Prototype,TYPED_ARRAY_CONSTRUCTOR$1,Constructor):NATIVE_ARRAY_BUFFER_VIEWS$1=!1;for(NAME in BigIntArrayConstructorsList)Constructor=global$1[NAME],Prototype=Constructor&&Constructor.prototype,Prototype&&createNonEnumerableProperty(Prototype,TYPED_ARRAY_CONSTRUCTOR$1,Constructor);if((!NATIVE_ARRAY_BUFFER_VIEWS$1||!isCallable(TypedArray)||TypedArray===Function.prototype)&&(TypedArray=function(){throw TypeError("Incorrect invocation")},NATIVE_ARRAY_BUFFER_VIEWS$1))for(NAME in TypedArrayConstructorsList)global$1[NAME]&&objectSetPrototypeOf(global$1[NAME],TypedArray);if((!NATIVE_ARRAY_BUFFER_VIEWS$1||!TypedArrayPrototype||TypedArrayPrototype===ObjectPrototype$1)&&(TypedArrayPrototype=TypedArray.prototype,NATIVE_ARRAY_BUFFER_VIEWS$1))for(NAME in TypedArrayConstructorsList)global$1[NAME]&&objectSetPrototypeOf(global$1[NAME].prototype,TypedArrayPrototype);if(NATIVE_ARRAY_BUFFER_VIEWS$1&&objectGetPrototypeOf(Uint8ClampedArrayPrototype)!==TypedArrayPrototype&&objectSetPrototypeOf(Uint8ClampedArrayPrototype,TypedArrayPrototype),descriptors&&!has$1(TypedArrayPrototype,TO_STRING_TAG$1))for(NAME in TYPED_ARRAY_TAG_REQIRED=!0,defineProperty$1(TypedArrayPrototype,TO_STRING_TAG$1,{get:function(){return isObject(this)?this[TYPED_ARRAY_TAG]:void 0}}),TypedArrayConstructorsList)global$1[NAME]&&createNonEnumerableProperty(global$1[NAME],TYPED_ARRAY_TAG,NAME);var arrayBufferViewCore={NATIVE_ARRAY_BUFFER_VIEWS:NATIVE_ARRAY_BUFFER_VIEWS$1,TYPED_ARRAY_CONSTRUCTOR:TYPED_ARRAY_CONSTRUCTOR$1,TYPED_ARRAY_TAG:TYPED_ARRAY_TAG_REQIRED&&TYPED_ARRAY_TAG,aTypedArray:aTypedArray$m,aTypedArrayConstructor:aTypedArrayConstructor$2,exportTypedArrayMethod:exportTypedArrayMethod$n,exportTypedArrayStaticMethod,isView,isTypedArray,TypedArray,TypedArrayPrototype},NATIVE_ARRAY_BUFFER_VIEWS=arrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS,ArrayBuffer$1=global$1.ArrayBuffer,Int8Array$2=global$1.Int8Array,typedArrayConstructorsRequireWrappers=!NATIVE_ARRAY_BUFFER_VIEWS||!fails(function(){Int8Array$2(1)})||!fails(function(){new Int8Array$2(-1)})||!checkCorrectnessOfIteration(function(e){new Int8Array$2,new Int8Array$2(null),new Int8Array$2(1.5),new Int8Array$2(e)},!0)||fails(function(){return new Int8Array$2(new ArrayBuffer$1(2),1,void 0).length!==1}),toIndex=function(e){if(e===void 0)return 0;var t=toInteger(e),n=toLength(t);if(t!==n)throw RangeError("Wrong length or index");return n},abs=Math.abs,pow$1=Math.pow,floor$6=Math.floor,log=Math.log,LN2=Math.LN2,pack=function(e,t,n){var y,A,S,P=new Array(n),F=8*n-t-1,z=(1<<F)-1,Y=z>>1,ee=t===23?pow$1(2,-24)-pow$1(2,-77):0,te=e<0||e===0&&1/e<0?1:0,ne=0;for((e=abs(e))!=e||e===1/0?(A=e!=e?1:0,y=z):(y=floor$6(log(e)/LN2),e*(S=pow$1(2,-y))<1&&(y--,S*=2),(e+=y+Y>=1?ee/S:ee*pow$1(2,1-Y))*S>=2&&(y++,S/=2),y+Y>=z?(A=0,y=z):y+Y>=1?(A=(e*S-1)*pow$1(2,t),y+=Y):(A=e*pow$1(2,Y-1)*pow$1(2,t),y=0));t>=8;P[ne++]=255&A,A/=256,t-=8);for(y=y<<t|A,F+=t;F>0;P[ne++]=255&y,y/=256,F-=8);return P[--ne]|=128*te,P},unpack=function(e,t){var n,y=e.length,A=8*y-t-1,S=(1<<A)-1,P=S>>1,F=A-7,z=y-1,Y=e[z--],ee=127&Y;for(Y>>=7;F>0;ee=256*ee+e[z],z--,F-=8);for(n=ee&(1<<-F)-1,ee>>=-F,F+=t;F>0;n=256*n+e[z],z--,F-=8);if(ee===0)ee=1-P;else{if(ee===S)return n?NaN:Y?-1/0:1/0;n+=pow$1(2,t),ee-=P}return(Y?-1:1)*n*pow$1(2,ee-t)},ieee754={pack,unpack},arrayFill=function(t){for(var n=toObject(this),y=toLength(n.length),A=arguments.length,S=toAbsoluteIndex(A>1?arguments[1]:void 0,y),P=A>2?arguments[2]:void 0,F=P===void 0?y:toAbsoluteIndex(P,y);F>S;)n[S++]=t;return n},getOwnPropertyNames=objectGetOwnPropertyNames.f,defineProperty=objectDefineProperty.f,PROPER_FUNCTION_NAME$2=functionName.PROPER,CONFIGURABLE_FUNCTION_NAME=functionName.CONFIGURABLE,getInternalState$1=internalState.get,setInternalState$3=internalState.set,ARRAY_BUFFER="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE="prototype",WRONG_LENGTH="Wrong length",WRONG_INDEX="Wrong index",NativeArrayBuffer=global$1[ARRAY_BUFFER],$ArrayBuffer=NativeArrayBuffer,$DataView=global$1[DATA_VIEW],$DataViewPrototype=$DataView&&$DataView[PROTOTYPE],ObjectPrototype=Object.prototype,RangeError$1=global$1.RangeError,packIEEE754=ieee754.pack,unpackIEEE754=ieee754.unpack,packInt8=function(e){return[255&e]},packInt16=function(e){return[255&e,e>>8&255]},packInt32=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},unpackInt32=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},packFloat32=function(e){return packIEEE754(e,23,4)},packFloat64=function(e){return packIEEE754(e,52,8)},addGetter=function(e,t){defineProperty(e[PROTOTYPE],t,{get:function(){return getInternalState$1(this)[t]}})},get=function(e,t,n,y){var A=toIndex(n),S=getInternalState$1(e);if(A+t>S.byteLength)throw RangeError$1(WRONG_INDEX);var P=getInternalState$1(S.buffer).bytes,F=A+S.byteOffset,z=P.slice(F,F+t);return y?z:z.reverse()},set=function(e,t,n,y,A,S){var P=toIndex(n),F=getInternalState$1(e);if(P+t>F.byteLength)throw RangeError$1(WRONG_INDEX);for(var z=getInternalState$1(F.buffer).bytes,Y=P+F.byteOffset,ee=y(+A),te=0;te<t;te++)z[Y+te]=ee[S?te:t-te-1]};if(arrayBufferNative){var INCORRECT_ARRAY_BUFFER_NAME=PROPER_FUNCTION_NAME$2&&NativeArrayBuffer.name!==ARRAY_BUFFER;if(fails(function(){NativeArrayBuffer(1)})&&fails(function(){new NativeArrayBuffer(-1)})&&!fails(function(){return new NativeArrayBuffer,new NativeArrayBuffer(1.5),new NativeArrayBuffer(NaN),INCORRECT_ARRAY_BUFFER_NAME&&!CONFIGURABLE_FUNCTION_NAME}))INCORRECT_ARRAY_BUFFER_NAME&&CONFIGURABLE_FUNCTION_NAME&&createNonEnumerableProperty(NativeArrayBuffer,"name",ARRAY_BUFFER);else{$ArrayBuffer=function(t){return anInstance(this,$ArrayBuffer),new NativeArrayBuffer(toIndex(t))};for(var ArrayBufferPrototype=$ArrayBuffer[PROTOTYPE]=NativeArrayBuffer[PROTOTYPE],keys=getOwnPropertyNames(NativeArrayBuffer),j=0,key;keys.length>j;)(key=keys[j++])in $ArrayBuffer||createNonEnumerableProperty($ArrayBuffer,key,NativeArrayBuffer[key]);ArrayBufferPrototype.constructor=$ArrayBuffer}objectSetPrototypeOf&&objectGetPrototypeOf($DataViewPrototype)!==ObjectPrototype&&objectSetPrototypeOf($DataViewPrototype,ObjectPrototype);var testView=new $DataView(new $ArrayBuffer(2)),$setInt8=$DataViewPrototype.setInt8;testView.setInt8(0,2147483648),testView.setInt8(1,2147483649),!testView.getInt8(0)&&testView.getInt8(1)||redefineAll($DataViewPrototype,{setInt8:function(t,n){$setInt8.call(this,t,n<<24>>24)},setUint8:function(t,n){$setInt8.call(this,t,n<<24>>24)}},{unsafe:!0})}else $ArrayBuffer=function(t){anInstance(this,$ArrayBuffer,ARRAY_BUFFER);var n=toIndex(t);setInternalState$3(this,{bytes:arrayFill.call(new Array(n),0),byteLength:n}),descriptors||(this.byteLength=n)},$DataView=function(t,n,y){anInstance(this,$DataView,DATA_VIEW),anInstance(t,$ArrayBuffer,DATA_VIEW);var A=getInternalState$1(t).byteLength,S=toInteger(n);if(S<0||S>A)throw RangeError$1("Wrong offset");if(S+(y=y===void 0?A-S:toLength(y))>A)throw RangeError$1(WRONG_LENGTH);setInternalState$3(this,{buffer:t,byteLength:y,byteOffset:S}),descriptors||(this.buffer=t,this.byteLength=y,this.byteOffset=S)},descriptors&&(addGetter($ArrayBuffer,"byteLength"),addGetter($DataView,"buffer"),addGetter($DataView,"byteLength"),addGetter($DataView,"byteOffset")),redefineAll($DataView[PROTOTYPE],{getInt8:function(t){return get(this,1,t)[0]<<24>>24},getUint8:function(t){return get(this,1,t)[0]},getInt16:function(t){var n=get(this,2,t,arguments.length>1?arguments[1]:void 0);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=get(this,2,t,arguments.length>1?arguments[1]:void 0);return n[1]<<8|n[0]},getInt32:function(t){return unpackInt32(get(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return unpackInt32(get(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return unpackIEEE754(get(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return unpackIEEE754(get(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,n){set(this,1,t,packInt8,n)},setUint8:function(t,n){set(this,1,t,packInt8,n)},setInt16:function(t,n){set(this,2,t,packInt16,n,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,n){set(this,2,t,packInt16,n,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,n){set(this,4,t,packInt32,n,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,n){set(this,4,t,packInt32,n,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,n){set(this,4,t,packFloat32,n,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,n){set(this,8,t,packFloat64,n,arguments.length>2?arguments[2]:void 0)}});setToStringTag($ArrayBuffer,ARRAY_BUFFER),setToStringTag($DataView,DATA_VIEW);var arrayBuffer={ArrayBuffer:$ArrayBuffer,DataView:$DataView},floor$5=Math.floor,isInteger=function(t){return!isObject(t)&&isFinite(t)&&floor$5(t)===t},toPositiveInteger=function(e){var t=toInteger(e);if(t<0)throw RangeError("The argument can't be less than 0");return t},toOffset=function(e,t){var n=toPositiveInteger(e);if(n%t)throw RangeError("Wrong offset");return n},aTypedArrayConstructor$1=arrayBufferViewCore.aTypedArrayConstructor,typedArrayFrom=function(t){var n,y,A,S,P,F,z=aConstructor(this),Y=toObject(t),ee=arguments.length,te=ee>1?arguments[1]:void 0,ne=te!==void 0,oe=getIteratorMethod(Y);if(oe&&!isArrayIteratorMethod(oe))for(F=(P=getIterator(Y,oe)).next,Y=[];!(S=F.call(P)).done;)Y.push(S.value);for(ne&&ee>2&&(te=functionBindContext(te,arguments[2],2)),y=toLength(Y.length),A=new(aTypedArrayConstructor$1(z))(y),n=0;y>n;n++)A[n]=ne?te(Y[n],n):Y[n];return A},isArray=Array.isArray||function(t){return classofRaw(t)=="Array"},SPECIES$2=wellKnownSymbol("species"),arraySpeciesConstructor=function(e){var t;return isArray(e)&&(t=e.constructor,(isConstructor(t)&&(t===Array||isArray(t.prototype))||isObject(t)&&(t=t[SPECIES$2])===null)&&(t=void 0)),t===void 0?Array:t},arraySpeciesCreate=function(e,t){return new(arraySpeciesConstructor(e))(t===0?0:t)},push=[].push,createMethod$2=function(e){var t=e==1,n=e==2,y=e==3,A=e==4,S=e==6,P=e==7,F=e==5||S;return function(z,Y,ee,te){for(var ne,oe,ie=toObject(z),se=indexedObject(ie),ae=functionBindContext(Y,ee,3),le=toLength(se.length),pe=0,ue=te||arraySpeciesCreate,Ee=t?ue(z,le):n||P?ue(z,0):void 0;le>pe;pe++)if((F||pe in se)&&(oe=ae(ne=se[pe],pe,ie),e))if(t)Ee[pe]=oe;else if(oe)switch(e){case 3:return!0;case 5:return ne;case 6:return pe;case 2:push.call(Ee,ne)}else switch(e){case 4:return!1;case 7:push.call(Ee,ne)}return S?-1:y||A?A:Ee}},arrayIteration={forEach:createMethod$2(0),map:createMethod$2(1),filter:createMethod$2(2),some:createMethod$2(3),every:createMethod$2(4),find:createMethod$2(5),findIndex:createMethod$2(6),filterReject:createMethod$2(7)},typedArrayConstructor=createCommonjsModule(function(e){var t=objectGetOwnPropertyNames.f,n=arrayIteration.forEach,y=internalState.get,A=internalState.set,S=objectDefineProperty.f,P=objectGetOwnPropertyDescriptor.f,F=Math.round,z=global$1.RangeError,Y=arrayBuffer.ArrayBuffer,ee=arrayBuffer.DataView,te=arrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS,ne=arrayBufferViewCore.TYPED_ARRAY_CONSTRUCTOR,oe=arrayBufferViewCore.TYPED_ARRAY_TAG,ie=arrayBufferViewCore.TypedArray,se=arrayBufferViewCore.TypedArrayPrototype,ae=arrayBufferViewCore.aTypedArrayConstructor,le=arrayBufferViewCore.isTypedArray,pe=function(_e,be){for(var Ae=0,de=be.length,Se=new(ae(_e))(de);de>Ae;)Se[Ae]=be[Ae++];return Se},ue=function(_e,be){S(_e,be,{get:function(){return y(this)[be]}})},Ee=function(_e){var be;return _e instanceof Y||(be=classof(_e))=="ArrayBuffer"||be=="SharedArrayBuffer"},ve=function(_e,be){return le(_e)&&!isSymbol(be)&&be in _e&&isInteger(+be)&&be>=0},me=function(be,Ae){return Ae=toPropertyKey(Ae),ve(be,Ae)?createPropertyDescriptor(2,be[Ae]):P(be,Ae)},he=function(be,Ae,de){return Ae=toPropertyKey(Ae),!(ve(be,Ae)&&isObject(de)&&has$1(de,"value"))||has$1(de,"get")||has$1(de,"set")||de.configurable||has$1(de,"writable")&&!de.writable||has$1(de,"enumerable")&&!de.enumerable?S(be,Ae,de):(be[Ae]=de.value,be)};descriptors?(te||(objectGetOwnPropertyDescriptor.f=me,objectDefineProperty.f=he,ue(se,"buffer"),ue(se,"byteOffset"),ue(se,"byteLength"),ue(se,"length")),_export({target:"Object",stat:!0,forced:!te},{getOwnPropertyDescriptor:me,defineProperty:he}),e.exports=function(_e,be,Ae){var de=_e.match(/\d+$/)[0]/8,Se=_e+(Ae?"Clamped":"")+"Array",ge="get"+_e,ce="set"+_e,fe=global$1[Se],ye=fe,Te=ye&&ye.prototype,Pe={},Re=function(Oe,we){S(Oe,we,{get:function(){return function(Ue,Ne){var $e=y(Ue);return $e.view[ge](Ne*de+$e.byteOffset,!0)}(this,we)},set:function(Ue){return function(Ne,$e,Ce){var Le=y(Ne);Ae&&(Ce=(Ce=F(Ce))<0?0:Ce>255?255:255&Ce),Le.view[ce]($e*de+Le.byteOffset,Ce,!0)}(this,we,Ue)},enumerable:!0})};te?typedArrayConstructorsRequireWrappers&&(ye=be(function(Oe,we,Ue,Ne){return anInstance(Oe,ye,Se),inheritIfRequired(isObject(we)?Ee(we)?Ne!==void 0?new fe(we,toOffset(Ue,de),Ne):Ue!==void 0?new fe(we,toOffset(Ue,de)):new fe(we):le(we)?pe(ye,we):typedArrayFrom.call(ye,we):new fe(toIndex(we)),Oe,ye)}),objectSetPrototypeOf&&objectSetPrototypeOf(ye,ie),n(t(fe),function(Oe){Oe in ye||createNonEnumerableProperty(ye,Oe,fe[Oe])}),ye.prototype=Te):(ye=be(function(Oe,we,Ue,Ne){anInstance(Oe,ye,Se);var $e,Ce,Le,xe=0,Be=0;if(isObject(we)){if(!Ee(we))return le(we)?pe(ye,we):typedArrayFrom.call(ye,we);$e=we,Be=toOffset(Ue,de);var Fe=we.byteLength;if(Ne===void 0){if(Fe%de||(Ce=Fe-Be)<0)throw z("Wrong length")}else if((Ce=toLength(Ne)*de)+Be>Fe)throw z("Wrong length");Le=Ce/de}else Le=toIndex(we),$e=new Y(Ce=Le*de);for(A(Oe,{buffer:$e,byteOffset:Be,byteLength:Ce,length:Le,view:new ee($e)});xe<Le;)Re(Oe,xe++)}),objectSetPrototypeOf&&objectSetPrototypeOf(ye,ie),Te=ye.prototype=objectCreate(se)),Te.constructor!==ye&&createNonEnumerableProperty(Te,"constructor",ye),createNonEnumerableProperty(Te,ne,ye),oe&&createNonEnumerableProperty(Te,oe,Se),Pe[Se]=ye,_export({global:!0,forced:ye!=fe,sham:!te},Pe),"BYTES_PER_ELEMENT"in ye||createNonEnumerableProperty(ye,"BYTES_PER_ELEMENT",de),"BYTES_PER_ELEMENT"in Te||createNonEnumerableProperty(Te,"BYTES_PER_ELEMENT",de),setSpecies(Se)}):e.exports=function(){}});typedArrayConstructor("Uint8",function(e){return function(n,y,A){return e(this,n,y,A)}});var min$3=Math.min,arrayCopyWithin=[].copyWithin||function(t,n){var y=toObject(this),A=toLength(y.length),S=toAbsoluteIndex(t,A),P=toAbsoluteIndex(n,A),F=arguments.length>2?arguments[2]:void 0,z=min$3((F===void 0?A:toAbsoluteIndex(F,A))-P,A-S),Y=1;for(P<S&&S<P+z&&(Y=-1,P+=z-1,S+=z-1);z-- >0;)P in y?y[S]=y[P]:delete y[S],S+=Y,P+=Y;return y},aTypedArray$l=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$m=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$m("copyWithin",function(t,n){return arrayCopyWithin.call(aTypedArray$l(this),t,n,arguments.length>2?arguments[2]:void 0)});var $every=arrayIteration.every,aTypedArray$k=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$l=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$l("every",function(t){return $every(aTypedArray$k(this),t,arguments.length>1?arguments[1]:void 0)});var aTypedArray$j=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$k=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$k("fill",function(t){return arrayFill.apply(aTypedArray$j(this),arguments)});var arrayFromConstructorAndList=function(e,t){for(var n=0,y=t.length,A=new e(y);y>n;)A[n]=t[n++];return A},TYPED_ARRAY_CONSTRUCTOR=arrayBufferViewCore.TYPED_ARRAY_CONSTRUCTOR,aTypedArrayConstructor=arrayBufferViewCore.aTypedArrayConstructor,typedArraySpeciesConstructor=function(e){return aTypedArrayConstructor(speciesConstructor(e,e[TYPED_ARRAY_CONSTRUCTOR]))},typedArrayFromSpeciesAndList=function(e,t){return arrayFromConstructorAndList(typedArraySpeciesConstructor(e),t)},$filter$1=arrayIteration.filter,aTypedArray$i=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$j=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$j("filter",function(t){var n=$filter$1(aTypedArray$i(this),t,arguments.length>1?arguments[1]:void 0);return typedArrayFromSpeciesAndList(this,n)});var $find=arrayIteration.find,aTypedArray$h=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$i=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$i("find",function(t){return $find(aTypedArray$h(this),t,arguments.length>1?arguments[1]:void 0)});var $findIndex=arrayIteration.findIndex,aTypedArray$g=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$h=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$h("findIndex",function(t){return $findIndex(aTypedArray$g(this),t,arguments.length>1?arguments[1]:void 0)});var $forEach$1=arrayIteration.forEach,aTypedArray$f=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$g=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$g("forEach",function(t){$forEach$1(aTypedArray$f(this),t,arguments.length>1?arguments[1]:void 0)});var $includes$1=arrayIncludes.includes,aTypedArray$e=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$f=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$f("includes",function(t){return $includes$1(aTypedArray$e(this),t,arguments.length>1?arguments[1]:void 0)});var $indexOf=arrayIncludes.indexOf,aTypedArray$d=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$e=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$e("indexOf",function(t){return $indexOf(aTypedArray$d(this),t,arguments.length>1?arguments[1]:void 0)});var PROPER_FUNCTION_NAME$1=functionName.PROPER,ITERATOR$3=wellKnownSymbol("iterator"),Uint8Array$2=global$1.Uint8Array,arrayValues=es_array_iterator.values,arrayKeys=es_array_iterator.keys,arrayEntries=es_array_iterator.entries,aTypedArray$c=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$d=arrayBufferViewCore.exportTypedArrayMethod,nativeTypedArrayIterator=Uint8Array$2&&Uint8Array$2.prototype[ITERATOR$3],PROPER_ARRAY_VALUES_NAME=!!nativeTypedArrayIterator&&nativeTypedArrayIterator.name==="values",typedArrayValues=function(){return arrayValues.call(aTypedArray$c(this))};exportTypedArrayMethod$d("entries",function(){return arrayEntries.call(aTypedArray$c(this))}),exportTypedArrayMethod$d("keys",function(){return arrayKeys.call(aTypedArray$c(this))}),exportTypedArrayMethod$d("values",typedArrayValues,PROPER_FUNCTION_NAME$1&&!PROPER_ARRAY_VALUES_NAME),exportTypedArrayMethod$d(ITERATOR$3,typedArrayValues,PROPER_FUNCTION_NAME$1&&!PROPER_ARRAY_VALUES_NAME);var aTypedArray$b=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$c=arrayBufferViewCore.exportTypedArrayMethod,$join=[].join;exportTypedArrayMethod$c("join",function(t){return $join.apply(aTypedArray$b(this),arguments)});var arrayMethodIsStrict=function(e,t){var n=[][e];return!!n&&fails(function(){n.call(null,t||function(){throw 1},1)})},min$2=Math.min,$lastIndexOf=[].lastIndexOf,NEGATIVE_ZERO=!!$lastIndexOf&&1/[1].lastIndexOf(1,-0)<0,STRICT_METHOD$2=arrayMethodIsStrict("lastIndexOf"),FORCED$5=NEGATIVE_ZERO||!STRICT_METHOD$2,arrayLastIndexOf=FORCED$5?function(t){if(NEGATIVE_ZERO)return $lastIndexOf.apply(this,arguments)||0;var n=toIndexedObject(this),y=toLength(n.length),A=y-1;for(arguments.length>1&&(A=min$2(A,toInteger(arguments[1]))),A<0&&(A=y+A);A>=0;A--)if(A in n&&n[A]===t)return A||0;return-1}:$lastIndexOf,aTypedArray$a=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$b=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$b("lastIndexOf",function(t){return arrayLastIndexOf.apply(aTypedArray$a(this),arguments)});var $map=arrayIteration.map,aTypedArray$9=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$a=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$a("map",function(t){return $map(aTypedArray$9(this),t,arguments.length>1?arguments[1]:void 0,function(n,y){return new(typedArraySpeciesConstructor(n))(y)})});var createMethod$1=function(e){return function(t,n,y,A){aCallable(n);var S=toObject(t),P=indexedObject(S),F=toLength(S.length),z=e?F-1:0,Y=e?-1:1;if(y<2)for(;;){if(z in P){A=P[z],z+=Y;break}if(z+=Y,e?z<0:F<=z)throw TypeError("Reduce of empty array with no initial value")}for(;e?z>=0:F>z;z+=Y)z in P&&(A=n(A,P[z],z,S));return A}},arrayReduce={left:createMethod$1(!1),right:createMethod$1(!0)},$reduce=arrayReduce.left,aTypedArray$8=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$9=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$9("reduce",function(t){return $reduce(aTypedArray$8(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)});var $reduceRight=arrayReduce.right,aTypedArray$7=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$8=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$8("reduceRight",function(t){return $reduceRight(aTypedArray$7(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)});var aTypedArray$6=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$7=arrayBufferViewCore.exportTypedArrayMethod,floor$4=Math.floor;exportTypedArrayMethod$7("reverse",function(){for(var t,n=aTypedArray$6(this).length,y=floor$4(n/2),A=0;A<y;)t=this[A],this[A++]=this[--n],this[n]=t;return this});var aTypedArray$5=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$6=arrayBufferViewCore.exportTypedArrayMethod,FORCED$4=fails(function(){new Int8Array(1).set({})});exportTypedArrayMethod$6("set",function(t){aTypedArray$5(this);var n=toOffset(arguments.length>1?arguments[1]:void 0,1),y=this.length,A=toObject(t),S=toLength(A.length),P=0;if(S+n>y)throw RangeError("Wrong length");for(;P<S;)this[n+P]=A[P++]},FORCED$4);var aTypedArray$4=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$5=arrayBufferViewCore.exportTypedArrayMethod,$slice$1=[].slice,FORCED$3=fails(function(){new Int8Array(1).slice()});exportTypedArrayMethod$5("slice",function(t,n){for(var y=$slice$1.call(aTypedArray$4(this),t,n),A=typedArraySpeciesConstructor(this),S=0,P=y.length,F=new A(P);P>S;)F[S]=y[S++];return F},FORCED$3);var $some=arrayIteration.some,aTypedArray$3=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$4=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$4("some",function(t){return $some(aTypedArray$3(this),t,arguments.length>1?arguments[1]:void 0)});var floor$3=Math.floor,mergeSort=function(e,t){var n=e.length,y=floor$3(n/2);return n<8?insertionSort(e,t):merge(mergeSort(e.slice(0,y),t),mergeSort(e.slice(y),t),t)},insertionSort=function(e,t){for(var n,y,A=e.length,S=1;S<A;){for(y=S,n=e[S];y&&t(e[y-1],n)>0;)e[y]=e[--y];y!==S++&&(e[y]=n)}return e},merge=function(e,t,n){for(var y=e.length,A=t.length,S=0,P=0,F=[];S<y||P<A;)S<y&&P<A?F.push(n(e[S],t[P])<=0?e[S++]:t[P++]):F.push(S<y?e[S++]:t[P++]);return F},arraySort=mergeSort,firefox=engineUserAgent.match(/firefox\/(\d+)/i),engineFfVersion=!!firefox&&+firefox[1],engineIsIeOrEdge=/MSIE|Trident/.test(engineUserAgent),webkit=engineUserAgent.match(/AppleWebKit\/(\d+)\./),engineWebkitVersion=!!webkit&&+webkit[1],aTypedArray$2=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$3=arrayBufferViewCore.exportTypedArrayMethod,Uint16Array$1=global$1.Uint16Array,nativeSort$1=Uint16Array$1&&Uint16Array$1.prototype.sort,ACCEPT_INCORRECT_ARGUMENTS=!!nativeSort$1&&!fails(function(){var e=new Uint16Array$1(2);e.sort(null),e.sort({})}),STABLE_SORT$1=!!nativeSort$1&&!fails(function(){if(engineV8Version)return engineV8Version<74;if(engineFfVersion)return engineFfVersion<67;if(engineIsIeOrEdge)return!0;if(engineWebkitVersion)return engineWebkitVersion<602;var e,t,n=new Uint16Array$1(516),y=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,y[e]=e-2*t+3;for(n.sort(function(A,S){return(A/4|0)-(S/4|0)}),e=0;e<516;e++)if(n[e]!==y[e])return!0}),getSortCompare$1=function(e){return function(t,n){return e!==void 0?+e(t,n)||0:n!=n?-1:t!=t?1:t===0&&n===0?1/t>0&&1/n<0?1:-1:t>n}};exportTypedArrayMethod$3("sort",function(t){if(t!==void 0&&aCallable(t),STABLE_SORT$1)return nativeSort$1.call(this,t);aTypedArray$2(this);var n,y=toLength(this.length),A=Array(y);for(n=0;n<y;n++)A[n]=this[n];for(A=arraySort(this,getSortCompare$1(t)),n=0;n<y;n++)this[n]=A[n];return this},!STABLE_SORT$1||ACCEPT_INCORRECT_ARGUMENTS);var aTypedArray$1=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$2=arrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod$2("subarray",function(t,n){var y=aTypedArray$1(this),A=y.length,S=toAbsoluteIndex(t,A);return new(typedArraySpeciesConstructor(y))(y.buffer,y.byteOffset+S*y.BYTES_PER_ELEMENT,toLength((n===void 0?A:toAbsoluteIndex(n,A))-S))});var Int8Array$1=global$1.Int8Array,aTypedArray=arrayBufferViewCore.aTypedArray,exportTypedArrayMethod$1=arrayBufferViewCore.exportTypedArrayMethod,$toLocaleString=[].toLocaleString,$slice=[].slice,TO_LOCALE_STRING_BUG=!!Int8Array$1&&fails(function(){$toLocaleString.call(new Int8Array$1(1))}),FORCED$2=fails(function(){return[1,2].toLocaleString()!=new Int8Array$1([1,2]).toLocaleString()})||!fails(function(){Int8Array$1.prototype.toLocaleString.call([1,2])});exportTypedArrayMethod$1("toLocaleString",function(){return $toLocaleString.apply(TO_LOCALE_STRING_BUG?$slice.call(aTypedArray(this)):aTypedArray(this),arguments)},FORCED$2);var exportTypedArrayMethod=arrayBufferViewCore.exportTypedArrayMethod,Uint8Array$1=global$1.Uint8Array,Uint8ArrayPrototype=Uint8Array$1&&Uint8Array$1.prototype||{},arrayToString=[].toString,arrayJoin=[].join;fails(function(){arrayToString.call({})})&&(arrayToString=function(){return arrayJoin.call(this)});var IS_NOT_ARRAY_METHOD=Uint8ArrayPrototype.toString!=arrayToString;exportTypedArrayMethod("toString",arrayToString,IS_NOT_ARRAY_METHOD);var $includes=arrayIncludes.includes;_export({target:"Array",proto:!0},{includes:function(t){return $includes(this,t,arguments.length>1?arguments[1]:void 0)}}),addToUnscopables("includes");var notARegexp=function(e){if(isRegexp(e))throw TypeError("The method doesn't accept regular expressions");return e},MATCH=wellKnownSymbol("match"),correctIsRegexpLogic=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[MATCH]=!1,"/./"[e](t)}catch{}}return!1};_export({target:"String",proto:!0,forced:!correctIsRegexpLogic("includes")},{includes:function(t){return!!~toString(requireObjectCoercible(this)).indexOf(toString(notARegexp(t)),arguments.length>1?arguments[1]:void 0)}});var createProperty=function(e,t,n){var y=toPropertyKey(t);y in e?objectDefineProperty.f(e,y,createPropertyDescriptor(0,n)):e[y]=n},SPECIES$1=wellKnownSymbol("species"),arrayMethodHasSpeciesSupport=function(e){return engineV8Version>=51||!fails(function(){var t=[];return(t.constructor={})[SPECIES$1]=function(){return{foo:1}},t[e](Boolean).foo!==1})},HAS_SPECIES_SUPPORT$1=arrayMethodHasSpeciesSupport("slice"),SPECIES=wellKnownSymbol("species"),nativeSlice=[].slice,max$1=Math.max;_export({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT$1},{slice:function(t,n){var y,A,S,P=toIndexedObject(this),F=toLength(P.length),z=toAbsoluteIndex(t,F),Y=toAbsoluteIndex(n===void 0?F:n,F);if(isArray(P)&&(y=P.constructor,(isConstructor(y)&&(y===Array||isArray(y.prototype))||isObject(y)&&(y=y[SPECIES])===null)&&(y=void 0),y===Array||y===void 0))return nativeSlice.call(P,z,Y);for(A=new(y===void 0?Array:y)(max$1(Y-z,0)),S=0;z<Y;z++,S++)z in P&&createProperty(A,S,P[z]);return A.length=S,A}}),typedArrayConstructor("Uint32",function(e){return function(n,y,A){return e(this,n,y,A)}}),typedArrayConstructor("Uint16",function(e){return function(n,y,A){return e(this,n,y,A)}});var $filter=arrayIteration.filter,HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("filter");_export({target:"Array",proto:!0,forced:!HAS_SPECIES_SUPPORT},{filter:function(t){return $filter(this,t,arguments.length>1?arguments[1]:void 0)}});var PROPER_FUNCTION_NAME=functionName.PROPER,TO_STRING="toString",RegExpPrototype=RegExp.prototype,nativeToString=RegExpPrototype[TO_STRING],NOT_GENERIC=fails(function(){return nativeToString.call({source:"a",flags:"b"})!="/a/b"}),INCORRECT_NAME=PROPER_FUNCTION_NAME&&nativeToString.name!=TO_STRING;(NOT_GENERIC||INCORRECT_NAME)&&redefine(RegExp.prototype,TO_STRING,function(){var t=anObject(this),n=toString(t.source),y=t.flags;return"/"+n+"/"+toString(y===void 0&&t instanceof RegExp&&!("flags"in RegExpPrototype)?regexpFlags.call(t):y)},{unsafe:!0});var test=[],nativeSort=test.sort,FAILS_ON_UNDEFINED=fails(function(){test.sort(void 0)}),FAILS_ON_NULL=fails(function(){test.sort(null)}),STRICT_METHOD$1=arrayMethodIsStrict("sort"),STABLE_SORT=!fails(function(){if(engineV8Version)return engineV8Version<70;if(!(engineFfVersion&&engineFfVersion>3)){if(engineIsIeOrEdge)return!0;if(engineWebkitVersion)return engineWebkitVersion<603;var e,t,n,y,A="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(y=0;y<47;y++)test.push({k:t+y,v:n})}for(test.sort(function(S,P){return P.v-S.v}),y=0;y<test.length;y++)t=test[y].k.charAt(0),A.charAt(A.length-1)!==t&&(A+=t);return A!=="DGBEFHACIJK"}}),FORCED$1=FAILS_ON_UNDEFINED||!FAILS_ON_NULL||!STRICT_METHOD$1||!STABLE_SORT,getSortCompare=function(e){return function(t,n){return n===void 0?-1:t===void 0?1:e!==void 0?+e(t,n)||0:toString(t)>toString(n)?1:-1}};_export({target:"Array",proto:!0,forced:FORCED$1},{sort:function(t){t!==void 0&&aCallable(t);var n=toObject(this);if(STABLE_SORT)return t===void 0?nativeSort.call(n):nativeSort.call(n,t);var y,A,S=[],P=toLength(n.length);for(A=0;A<P;A++)A in n&&S.push(n[A]);for(y=(S=arraySort(S,getSortCompare(t))).length,A=0;A<y;)n[A]=S[A++];for(;A<P;)delete n[A++];return n}});var UZIP_1=createCommonjsModule(function(e){var t,n,y={};e.exports=y,y.parse=function(A,S){for(var P=y.bin.readUshort,F=y.bin.readUint,z=0,Y={},ee=new Uint8Array(A),te=ee.length-4;F(ee,te)!=101010256;)te--;z=te,z+=4;var ne=P(ee,z+=4);P(ee,z+=2);var oe=F(ee,z+=2),ie=F(ee,z+=4);z+=4,z=ie;for(var se=0;se<ne;se++){F(ee,z),z+=4,z+=4,z+=4,F(ee,z+=4),oe=F(ee,z+=4);var ae=F(ee,z+=4),le=P(ee,z+=4),pe=P(ee,z+2),ue=P(ee,z+4);z+=6;var Ee=F(ee,z+=8);z+=4,z+=le+pe+ue,y._readLocal(ee,Ee,Y,oe,ae,S)}return Y},y._readLocal=function(A,S,P,F,z,Y){var ee=y.bin.readUshort,te=y.bin.readUint;te(A,S),ee(A,S+=4),ee(A,S+=2);var ne=ee(A,S+=2);te(A,S+=2),te(A,S+=4),S+=4;var oe=ee(A,S+=8),ie=ee(A,S+=2);S+=2;var se=y.bin.readUTF8(A,S,oe);if(S+=oe,S+=ie,Y)P[se]={size:z,csize:F};else{var ae=new Uint8Array(A.buffer,S);if(ne==0)P[se]=new Uint8Array(ae.buffer.slice(S,S+F));else{if(ne!=8)throw"unknown compression method: "+ne;var le=new Uint8Array(z);y.inflateRaw(ae,le),P[se]=le}}},y.inflateRaw=function(A,S){return y.F.inflate(A,S)},y.inflate=function(A,S){return A[0],A[1],y.inflateRaw(new Uint8Array(A.buffer,A.byteOffset+2,A.length-6),S)},y.deflate=function(A,S){S==null&&(S={level:6});var P=0,F=new Uint8Array(50+Math.floor(1.1*A.length));F[P]=120,F[P+1]=156,P+=2,P=y.F.deflateRaw(A,F,P,S.level);var z=y.adler(A,0,A.length);return F[P+0]=z>>>24&255,F[P+1]=z>>>16&255,F[P+2]=z>>>8&255,F[P+3]=z>>>0&255,new Uint8Array(F.buffer,0,P+4)},y.deflateRaw=function(A,S){S==null&&(S={level:6});var P=new Uint8Array(50+Math.floor(1.1*A.length)),F=y.F.deflateRaw(A,P,F,S.level);return new Uint8Array(P.buffer,0,F)},y.encode=function(A,S){S==null&&(S=!1);var P=0,F=y.bin.writeUint,z=y.bin.writeUshort,Y={};for(var ee in A){var te=!y._noNeed(ee)&&!S,ne=A[ee],oe=y.crc.crc(ne,0,ne.length);Y[ee]={cpr:te,usize:ne.length,crc:oe,file:te?y.deflateRaw(ne):ne}}for(var ee in Y)P+=Y[ee].file.length+30+46+2*y.bin.sizeUTF8(ee);P+=22;var ie=new Uint8Array(P),se=0,ae=[];for(var ee in Y){var le=Y[ee];ae.push(se),se=y._writeHeader(ie,se,ee,le,0)}var pe=0,ue=se;for(var ee in Y)le=Y[ee],ae.push(se),se=y._writeHeader(ie,se,ee,le,1,ae[pe++]);var Ee=se-ue;return F(ie,se,101010256),se+=4,z(ie,se+=4,pe),z(ie,se+=2,pe),F(ie,se+=2,Ee),F(ie,se+=4,ue),se+=4,se+=2,ie.buffer},y._noNeed=function(A){var S=A.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(S)!=-1},y._writeHeader=function(A,S,P,F,z,Y){var ee=y.bin.writeUint,te=y.bin.writeUshort,ne=F.file;return ee(A,S,z==0?67324752:33639248),S+=4,z==1&&(S+=2),te(A,S,20),te(A,S+=2,0),te(A,S+=2,F.cpr?8:0),ee(A,S+=2,0),ee(A,S+=4,F.crc),ee(A,S+=4,ne.length),ee(A,S+=4,F.usize),te(A,S+=4,y.bin.sizeUTF8(P)),te(A,S+=2,0),S+=2,z==1&&(S+=2,S+=2,ee(A,S+=6,Y),S+=4),S+=y.bin.writeUTF8(A,S,P),z==0&&(A.set(ne,S),S+=ne.length),S},y.crc={table:function(){for(var A=new Uint32Array(256),S=0;S<256;S++){for(var P=S,F=0;F<8;F++)1&P?P=3988292384^P>>>1:P>>>=1;A[S]=P}return A}(),update:function(A,S,P,F){for(var z=0;z<F;z++)A=y.crc.table[255&(A^S[P+z])]^A>>>8;return A},crc:function(A,S,P){return 4294967295^y.crc.update(4294967295,A,S,P)}},y.adler=function(A,S,P){for(var F=1,z=0,Y=S,ee=S+P;Y<ee;){for(var te=Math.min(Y+5552,ee);Y<te;)z+=F+=A[Y++];F%=65521,z%=65521}return z<<16|F},y.bin={readUshort:function(A,S){return A[S]|A[S+1]<<8},writeUshort:function(A,S,P){A[S]=255&P,A[S+1]=P>>8&255},readUint:function(A,S){return 16777216*A[S+3]+(A[S+2]<<16|A[S+1]<<8|A[S])},writeUint:function(A,S,P){A[S]=255&P,A[S+1]=P>>8&255,A[S+2]=P>>16&255,A[S+3]=P>>24&255},readASCII:function(A,S,P){for(var F="",z=0;z<P;z++)F+=String.fromCharCode(A[S+z]);return F},writeASCII:function(A,S,P){for(var F=0;F<P.length;F++)A[S+F]=P.charCodeAt(F)},pad:function(A){return A.length<2?"0"+A:A},readUTF8:function(A,S,P){for(var F,z="",Y=0;Y<P;Y++)z+="%"+y.bin.pad(A[S+Y].toString(16));try{F=decodeURIComponent(z)}catch{return y.bin.readASCII(A,S,P)}return F},writeUTF8:function(A,S,P){for(var F=P.length,z=0,Y=0;Y<F;Y++){var ee=P.charCodeAt(Y);if((4294967168&ee)==0)A[S+z]=ee,z++;else if((4294965248&ee)==0)A[S+z]=192|ee>>6,A[S+z+1]=128|ee>>0&63,z+=2;else if((4294901760&ee)==0)A[S+z]=224|ee>>12,A[S+z+1]=128|ee>>6&63,A[S+z+2]=128|ee>>0&63,z+=3;else{if((4292870144&ee)!=0)throw"e";A[S+z]=240|ee>>18,A[S+z+1]=128|ee>>12&63,A[S+z+2]=128|ee>>6&63,A[S+z+3]=128|ee>>0&63,z+=4}}return z},sizeUTF8:function(A){for(var S=A.length,P=0,F=0;F<S;F++){var z=A.charCodeAt(F);if((4294967168&z)==0)P++;else if((4294965248&z)==0)P+=2;else if((4294901760&z)==0)P+=3;else{if((4292870144&z)!=0)throw"e";P+=4}}return P}},y.F={},y.F.deflateRaw=function(A,S,P,F){var z=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][F],Y=y.F.U,ee=y.F._goodIndex;y.F._hash;var te=y.F._putsE,ne=0,oe=P<<3,ie=0,se=A.length;if(F==0){for(;ne<se;)te(S,oe,ne+(de=Math.min(65535,se-ne))==se?1:0),oe=y.F._copyExact(A,ne,de,S,oe+8),ne+=de;return oe>>>3}var ae=Y.lits,le=Y.strt,pe=Y.prev,ue=0,Ee=0,ve=0,me=0,he=0,_e=0;for(se>2&&(le[_e=y.F._hash(A,0)]=0),ne=0;ne<se;ne++){if(he=_e,ne+1<se-2){_e=y.F._hash(A,ne+1);var be=ne+1&32767;pe[be]=le[_e],le[_e]=be}if(ie<=ne){(ue>14e3||Ee>26697)&&se-ne>100&&(ie<ne&&(ae[ue]=ne-ie,ue+=2,ie=ne),oe=y.F._writeBlock(ne==se-1||ie==se?1:0,ae,ue,me,A,ve,ne-ve,S,oe),ue=Ee=me=0,ve=ne);var Ae=0;ne<se-2&&(Ae=y.F._bestMatch(A,ne,pe,he,Math.min(z[2],se-ne),z[3]));var de=Ae>>>16,Se=65535&Ae;if(Ae!=0){Se=65535&Ae;var ge=ee(de=Ae>>>16,Y.of0);Y.lhst[257+ge]++;var ce=ee(Se,Y.df0);Y.dhst[ce]++,me+=Y.exb[ge]+Y.dxb[ce],ae[ue]=de<<23|ne-ie,ae[ue+1]=Se<<16|ge<<8|ce,ue+=2,ie=ne+de}else Y.lhst[A[ne]]++;Ee++}}for(ve==ne&&A.length!=0||(ie<ne&&(ae[ue]=ne-ie,ue+=2,ie=ne),oe=y.F._writeBlock(1,ae,ue,me,A,ve,ne-ve,S,oe),ue=0,Ee=0,ue=Ee=me=0,ve=ne);(7&oe)!=0;)oe++;return oe>>>3},y.F._bestMatch=function(A,S,P,F,z,Y){var ee=32767&S,te=P[ee],ne=ee-te+32768&32767;if(te==ee||F!=y.F._hash(A,S-ne))return 0;for(var oe=0,ie=0,se=Math.min(32767,S);ne<=se&&--Y!=0&&te!=ee;){if(oe==0||A[S+oe]==A[S+oe-ne]){var ae=y.F._howLong(A,S,ne);if(ae>oe){if(ie=ne,(oe=ae)>=z)break;ne+2<ae&&(ae=ne+2);for(var le=0,pe=0;pe<ae-2;pe++){var ue=S-ne+pe+32768&32767,Ee=ue-P[ue]+32768&32767;Ee>le&&(le=Ee,te=ue)}}}ne+=(ee=te)-(te=P[ee])+32768&32767}return oe<<16|ie},y.F._howLong=function(A,S,P){if(A[S]!=A[S-P]||A[S+1]!=A[S+1-P]||A[S+2]!=A[S+2-P])return 0;var F=S,z=Math.min(A.length,S+258);for(S+=3;S<z&&A[S]==A[S-P];)S++;return S-F},y.F._hash=function(A,S){return(A[S]<<8|A[S+1])+(A[S+2]<<4)&65535},y.saved=0,y.F._writeBlock=function(A,S,P,F,z,Y,ee,te,ne){var oe,ie,se,ae,le,pe,ue,Ee,ve,me=y.F.U,he=y.F._putsF,_e=y.F._putsE;me.lhst[256]++,ie=(oe=y.F.getTrees())[0],se=oe[1],ae=oe[2],le=oe[3],pe=oe[4],ue=oe[5],Ee=oe[6],ve=oe[7];var be=32+((ne+3&7)==0?0:8-(ne+3&7))+(ee<<3),Ae=F+y.F.contSize(me.fltree,me.lhst)+y.F.contSize(me.fdtree,me.dhst),de=F+y.F.contSize(me.ltree,me.lhst)+y.F.contSize(me.dtree,me.dhst);de+=14+3*ue+y.F.contSize(me.itree,me.ihst)+(2*me.ihst[16]+3*me.ihst[17]+7*me.ihst[18]);for(var Se=0;Se<286;Se++)me.lhst[Se]=0;for(Se=0;Se<30;Se++)me.dhst[Se]=0;for(Se=0;Se<19;Se++)me.ihst[Se]=0;var ge=be<Ae&&be<de?0:Ae<de?1:2;if(he(te,ne,A),he(te,ne+1,ge),ne+=3,ge==0){for(;(7&ne)!=0;)ne++;ne=y.F._copyExact(z,Y,ee,te,ne)}else{var ce,fe;if(ge==1&&(ce=me.fltree,fe=me.fdtree),ge==2){y.F.makeCodes(me.ltree,ie),y.F.revCodes(me.ltree,ie),y.F.makeCodes(me.dtree,se),y.F.revCodes(me.dtree,se),y.F.makeCodes(me.itree,ae),y.F.revCodes(me.itree,ae),ce=me.ltree,fe=me.dtree,_e(te,ne,le-257),_e(te,ne+=5,pe-1),_e(te,ne+=5,ue-4),ne+=4;for(var ye=0;ye<ue;ye++)_e(te,ne+3*ye,me.itree[1+(me.ordr[ye]<<1)]);ne+=3*ue,ne=y.F._codeTiny(Ee,me.itree,te,ne),ne=y.F._codeTiny(ve,me.itree,te,ne)}for(var Te=Y,Pe=0;Pe<P;Pe+=2){for(var Re=S[Pe],Oe=Re>>>23,we=Te+(8388607&Re);Te<we;)ne=y.F._writeLit(z[Te++],ce,te,ne);if(Oe!=0){var Ue=S[Pe+1],Ne=Ue>>16,$e=Ue>>8&255,Ce=255&Ue;_e(te,ne=y.F._writeLit(257+$e,ce,te,ne),Oe-me.of0[$e]),ne+=me.exb[$e],he(te,ne=y.F._writeLit(Ce,fe,te,ne),Ne-me.df0[Ce]),ne+=me.dxb[Ce],Te+=Oe}}ne=y.F._writeLit(256,ce,te,ne)}return ne},y.F._copyExact=function(A,S,P,F,z){var Y=z>>>3;return F[Y]=P,F[Y+1]=P>>>8,F[Y+2]=255-F[Y],F[Y+3]=255-F[Y+1],Y+=4,F.set(new Uint8Array(A.buffer,S,P),Y),z+(P+4<<3)},y.F.getTrees=function(){for(var A=y.F.U,S=y.F._hufTree(A.lhst,A.ltree,15),P=y.F._hufTree(A.dhst,A.dtree,15),F=[],z=y.F._lenCodes(A.ltree,F),Y=[],ee=y.F._lenCodes(A.dtree,Y),te=0;te<F.length;te+=2)A.ihst[F[te]]++;for(te=0;te<Y.length;te+=2)A.ihst[Y[te]]++;for(var ne=y.F._hufTree(A.ihst,A.itree,7),oe=19;oe>4&&A.itree[1+(A.ordr[oe-1]<<1)]==0;)oe--;return[S,P,ne,z,ee,oe,F,Y]},y.F.getSecond=function(A){for(var S=[],P=0;P<A.length;P+=2)S.push(A[P+1]);return S},y.F.nonZero=function(A){for(var S="",P=0;P<A.length;P+=2)A[P+1]!=0&&(S+=(P>>1)+",");return S},y.F.contSize=function(A,S){for(var P=0,F=0;F<S.length;F++)P+=S[F]*A[1+(F<<1)];return P},y.F._codeTiny=function(A,S,P,F){for(var z=0;z<A.length;z+=2){var Y=A[z],ee=A[z+1];F=y.F._writeLit(Y,S,P,F);var te=Y==16?2:Y==17?3:7;Y>15&&(y.F._putsE(P,F,ee,te),F+=te)}return F},y.F._lenCodes=function(A,S){for(var P=A.length;P!=2&&A[P-1]==0;)P-=2;for(var F=0;F<P;F+=2){var z=A[F+1],Y=F+3<P?A[F+3]:-1,ee=F+5<P?A[F+5]:-1,te=F==0?-1:A[F-1];if(z==0&&Y==z&&ee==z){for(var ne=F+5;ne+2<P&&A[ne+2]==z;)ne+=2;(oe=Math.min(ne+1-F>>>1,138))<11?S.push(17,oe-3):S.push(18,oe-11),F+=2*oe-2}else if(z==te&&Y==z&&ee==z){for(ne=F+5;ne+2<P&&A[ne+2]==z;)ne+=2;var oe=Math.min(ne+1-F>>>1,6);S.push(16,oe-3),F+=2*oe-2}else S.push(z,0)}return P>>>1},y.F._hufTree=function(A,S,P){var F=[],z=A.length,Y=S.length,ee=0;for(ee=0;ee<Y;ee+=2)S[ee]=0,S[ee+1]=0;for(ee=0;ee<z;ee++)A[ee]!=0&&F.push({lit:ee,f:A[ee]});var te=F.length,ne=F.slice(0);if(te==0)return 0;if(te==1){var oe=F[0].lit;return ne=oe==0?1:0,S[1+(oe<<1)]=1,S[1+(ne<<1)]=1,1}F.sort(function(Ee,ve){return Ee.f-ve.f});var ie=F[0],se=F[1],ae=0,le=1,pe=2;for(F[0]={lit:-1,f:ie.f+se.f,l:ie,r:se,d:0};le!=te-1;)ie=ae!=le&&(pe==te||F[ae].f<F[pe].f)?F[ae++]:F[pe++],se=ae!=le&&(pe==te||F[ae].f<F[pe].f)?F[ae++]:F[pe++],F[le++]={lit:-1,f:ie.f+se.f,l:ie,r:se};var ue=y.F.setDepth(F[le-1],0);for(ue>P&&(y.F.restrictDepth(ne,P,ue),ue=P),ee=0;ee<te;ee++)S[1+(ne[ee].lit<<1)]=ne[ee].d;return ue},y.F.setDepth=function(A,S){return A.lit!=-1?(A.d=S,S):Math.max(y.F.setDepth(A.l,S+1),y.F.setDepth(A.r,S+1))},y.F.restrictDepth=function(A,S,P){var F=0,z=1<<P-S,Y=0;for(A.sort(function(te,ne){return ne.d==te.d?te.f-ne.f:ne.d-te.d}),F=0;F<A.length&&A[F].d>S;F++){var ee=A[F].d;A[F].d=S,Y+=z-(1<<P-ee)}for(Y>>>=P-S;Y>0;)(ee=A[F].d)<S?(A[F].d++,Y-=1<<S-ee-1):F++;for(;F>=0;F--)A[F].d==S&&Y<0&&(A[F].d--,Y++);Y!=0&&console.log("debt left")},y.F._goodIndex=function(A,S){var P=0;return S[16|P]<=A&&(P|=16),S[8|P]<=A&&(P|=8),S[4|P]<=A&&(P|=4),S[2|P]<=A&&(P|=2),S[1|P]<=A&&(P|=1),P},y.F._writeLit=function(A,S,P,F){return y.F._putsF(P,F,S[A<<1]),F+S[1+(A<<1)]},y.F.inflate=function(A,S){var P=Uint8Array;if(A[0]==3&&A[1]==0)return S||new P(0);var F=y.F,z=F._bitsF,Y=F._bitsE,ee=F._decodeTiny,te=F.makeCodes,ne=F.codes2map,oe=F._get17,ie=F.U,se=S==null;se&&(S=new P(A.length>>>2<<3));for(var ae,le,pe=0,ue=0,Ee=0,ve=0,me=0,he=0,_e=0,be=0,Ae=0;pe==0;)if(pe=z(A,Ae,1),ue=z(A,Ae+1,2),Ae+=3,ue!=0){if(se&&(S=y.F._check(S,be+(1<<17))),ue==1&&(ae=ie.flmap,le=ie.fdmap,he=511,_e=31),ue==2){Ee=Y(A,Ae,5)+257,ve=Y(A,Ae+5,5)+1,me=Y(A,Ae+10,4)+4,Ae+=14;for(var de=0;de<38;de+=2)ie.itree[de]=0,ie.itree[de+1]=0;var Se=1;for(de=0;de<me;de++){var ge=Y(A,Ae+3*de,3);ie.itree[1+(ie.ordr[de]<<1)]=ge,ge>Se&&(Se=ge)}Ae+=3*me,te(ie.itree,Se),ne(ie.itree,Se,ie.imap),ae=ie.lmap,le=ie.dmap,Ae=ee(ie.imap,(1<<Se)-1,Ee+ve,A,Ae,ie.ttree);var ce=F._copyOut(ie.ttree,0,Ee,ie.ltree);he=(1<<ce)-1;var fe=F._copyOut(ie.ttree,Ee,ve,ie.dtree);_e=(1<<fe)-1,te(ie.ltree,ce),ne(ie.ltree,ce,ae),te(ie.dtree,fe),ne(ie.dtree,fe,le)}for(;;){var ye=ae[oe(A,Ae)&he];Ae+=15&ye;var Te=ye>>>4;if(Te>>>8==0)S[be++]=Te;else{if(Te==256)break;var Pe=be+Te-254;if(Te>264){var Re=ie.ldef[Te-257];Pe=be+(Re>>>3)+Y(A,Ae,7&Re),Ae+=7&Re}var Oe=le[oe(A,Ae)&_e];Ae+=15&Oe;var we=Oe>>>4,Ue=ie.ddef[we],Ne=(Ue>>>4)+z(A,Ae,15&Ue);for(Ae+=15&Ue,se&&(S=y.F._check(S,be+(1<<17)));be<Pe;)S[be]=S[be++-Ne],S[be]=S[be++-Ne],S[be]=S[be++-Ne],S[be]=S[be++-Ne];be=Pe}}}else{(7&Ae)!=0&&(Ae+=8-(7&Ae));var $e=4+(Ae>>>3),Ce=A[$e-4]|A[$e-3]<<8;se&&(S=y.F._check(S,be+Ce)),S.set(new P(A.buffer,A.byteOffset+$e,Ce),be),Ae=$e+Ce<<3,be+=Ce}return S.length==be?S:S.slice(0,be)},y.F._check=function(A,S){var P=A.length;if(S<=P)return A;var F=new Uint8Array(Math.max(P<<1,S));return F.set(A,0),F},y.F._decodeTiny=function(A,S,P,F,z,Y){for(var ee=y.F._bitsE,te=y.F._get17,ne=0;ne<P;){var oe=A[te(F,z)&S];z+=15&oe;var ie=oe>>>4;if(ie<=15)Y[ne]=ie,ne++;else{var se=0,ae=0;ie==16?(ae=3+ee(F,z,2),z+=2,se=Y[ne-1]):ie==17?(ae=3+ee(F,z,3),z+=3):ie==18&&(ae=11+ee(F,z,7),z+=7);for(var le=ne+ae;ne<le;)Y[ne]=se,ne++}}return z},y.F._copyOut=function(A,S,P,F){for(var z=0,Y=0,ee=F.length>>>1;Y<P;){var te=A[Y+S];F[Y<<1]=0,F[1+(Y<<1)]=te,te>z&&(z=te),Y++}for(;Y<ee;)F[Y<<1]=0,F[1+(Y<<1)]=0,Y++;return z},y.F.makeCodes=function(A,S){for(var P,F,z,Y,ee=y.F.U,te=A.length,ne=ee.bl_count,oe=0;oe<=S;oe++)ne[oe]=0;for(oe=1;oe<te;oe+=2)ne[A[oe]]++;var ie=ee.next_code;for(P=0,ne[0]=0,F=1;F<=S;F++)P=P+ne[F-1]<<1,ie[F]=P;for(z=0;z<te;z+=2)(Y=A[z+1])!=0&&(A[z]=ie[Y],ie[Y]++)},y.F.codes2map=function(A,S,P){for(var F=A.length,z=y.F.U.rev15,Y=0;Y<F;Y+=2)if(A[Y+1]!=0)for(var ee=Y>>1,te=A[Y+1],ne=ee<<4|te,oe=S-te,ie=A[Y]<<oe,se=ie+(1<<oe);ie!=se;)P[z[ie]>>>15-S]=ne,ie++},y.F.revCodes=function(A,S){for(var P=y.F.U.rev15,F=15-S,z=0;z<A.length;z+=2){var Y=A[z]<<S-A[z+1];A[z]=P[Y]>>>F}},y.F._putsE=function(A,S,P){P<<=7&S;var F=S>>>3;A[F]|=P,A[F+1]|=P>>>8},y.F._putsF=function(A,S,P){P<<=7&S;var F=S>>>3;A[F]|=P,A[F+1]|=P>>>8,A[F+2]|=P>>>16},y.F._bitsE=function(A,S,P){return(A[S>>>3]|A[1+(S>>>3)]<<8)>>>(7&S)&(1<<P)-1},y.F._bitsF=function(A,S,P){return(A[S>>>3]|A[1+(S>>>3)]<<8|A[2+(S>>>3)]<<16)>>>(7&S)&(1<<P)-1},y.F._get17=function(A,S){return(A[S>>>3]|A[1+(S>>>3)]<<8|A[2+(S>>>3)]<<16)>>>(7&S)},y.F._get25=function(A,S){return(A[S>>>3]|A[1+(S>>>3)]<<8|A[2+(S>>>3)]<<16|A[3+(S>>>3)]<<24)>>>(7&S)},y.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var A=y.F.U,S=0;S<32768;S++){var P=S;P=(4278255360&(P=(4042322160&(P=(3435973836&(P=(2863311530&P)>>>1|(1431655765&P)<<1))>>>2|(858993459&P)<<2))>>>4|(252645135&P)<<4))>>>8|(16711935&P)<<8,A.rev15[S]=(P>>>16|P<<16)>>>17}function F(z,Y,ee){for(;Y--!=0;)z.push(0,ee)}for(S=0;S<32;S++)A.ldef[S]=A.of0[S]<<3|A.exb[S],A.ddef[S]=A.df0[S]<<4|A.dxb[S];F(A.fltree,144,8),F(A.fltree,112,9),F(A.fltree,24,7),F(A.fltree,8,8),y.F.makeCodes(A.fltree,9),y.F.codes2map(A.fltree,9,A.flmap),y.F.revCodes(A.fltree,9),F(A.fdtree,32,5),y.F.makeCodes(A.fdtree,5),y.F.codes2map(A.fdtree,5,A.fdmap),y.F.revCodes(A.fdtree,5),F(A.itree,19,0),F(A.ltree,286,0),F(A.dtree,30,0),F(A.ttree,320,0)}()}),UZIP=Object.freeze(_mergeNamespaces({__proto__:null,default:UZIP_1},[UZIP_1])),UPNG={},N,W,H;UPNG.toRGBA8=function(e){var t=e.width,n=e.height;if(e.tabs.acTL==null)return[UPNG.toRGBA8.decodeImage(e.data,t,n,e).buffer];var y=[];e.frames[0].data==null&&(e.frames[0].data=e.data);for(var A=t*n*4,S=new Uint8Array(A),P=new Uint8Array(A),F=new Uint8Array(A),z=0;z<e.frames.length;z++){var Y=e.frames[z],ee=Y.rect.x,te=Y.rect.y,ne=Y.rect.width,oe=Y.rect.height,ie=UPNG.toRGBA8.decodeImage(Y.data,ne,oe,e);if(z!=0)for(var se=0;se<A;se++)F[se]=S[se];if(Y.blend==0?UPNG._copyTile(ie,ne,oe,S,t,n,ee,te,0):Y.blend==1&&UPNG._copyTile(ie,ne,oe,S,t,n,ee,te,1),y.push(S.buffer.slice(0)),Y.dispose!=0){if(Y.dispose==1)UPNG._copyTile(P,ne,oe,S,t,n,ee,te,0);else if(Y.dispose==2)for(se=0;se<A;se++)S[se]=F[se]}}return y},UPNG.toRGBA8.decodeImage=function(e,t,n,y){var A=t*n,S=UPNG.decode._getBPP(y),P=Math.ceil(t*S/8),F=new Uint8Array(4*A),z=new Uint32Array(F.buffer),Y=y.ctype,ee=y.depth,te=UPNG._bin.readUshort;if(Y==6){var ne=A<<2;if(ee==8)for(var oe=0;oe<ne;oe+=4)F[oe]=e[oe],F[oe+1]=e[oe+1],F[oe+2]=e[oe+2],F[oe+3]=e[oe+3];if(ee==16)for(oe=0;oe<ne;oe++)F[oe]=e[oe<<1]}else if(Y==2){var ie=y.tabs.tRNS;if(ie==null){if(ee==8)for(oe=0;oe<A;oe++){var se=3*oe;z[oe]=255<<24|e[se+2]<<16|e[se+1]<<8|e[se]}if(ee==16)for(oe=0;oe<A;oe++)se=6*oe,z[oe]=255<<24|e[se+4]<<16|e[se+2]<<8|e[se]}else{var ae=ie[0],le=ie[1],pe=ie[2];if(ee==8)for(oe=0;oe<A;oe++){var ue=oe<<2;se=3*oe,z[oe]=255<<24|e[se+2]<<16|e[se+1]<<8|e[se],e[se]==ae&&e[se+1]==le&&e[se+2]==pe&&(F[ue+3]=0)}if(ee==16)for(oe=0;oe<A;oe++)ue=oe<<2,se=6*oe,z[oe]=255<<24|e[se+4]<<16|e[se+2]<<8|e[se],te(e,se)==ae&&te(e,se+2)==le&&te(e,se+4)==pe&&(F[ue+3]=0)}}else if(Y==3){var Ee=y.tabs.PLTE,ve=y.tabs.tRNS,me=ve?ve.length:0;if(ee==1)for(var he=0;he<n;he++){var _e=he*P,be=he*t;for(oe=0;oe<t;oe++){ue=be+oe<<2;var Ae=3*(de=e[_e+(oe>>3)]>>7-((7&oe)<<0)&1);F[ue]=Ee[Ae],F[ue+1]=Ee[Ae+1],F[ue+2]=Ee[Ae+2],F[ue+3]=de<me?ve[de]:255}}if(ee==2)for(he=0;he<n;he++)for(_e=he*P,be=he*t,oe=0;oe<t;oe++)ue=be+oe<<2,Ae=3*(de=e[_e+(oe>>2)]>>6-((3&oe)<<1)&3),F[ue]=Ee[Ae],F[ue+1]=Ee[Ae+1],F[ue+2]=Ee[Ae+2],F[ue+3]=de<me?ve[de]:255;if(ee==4)for(he=0;he<n;he++)for(_e=he*P,be=he*t,oe=0;oe<t;oe++)ue=be+oe<<2,Ae=3*(de=e[_e+(oe>>1)]>>4-((1&oe)<<2)&15),F[ue]=Ee[Ae],F[ue+1]=Ee[Ae+1],F[ue+2]=Ee[Ae+2],F[ue+3]=de<me?ve[de]:255;if(ee==8)for(oe=0;oe<A;oe++){var de;ue=oe<<2,Ae=3*(de=e[oe]),F[ue]=Ee[Ae],F[ue+1]=Ee[Ae+1],F[ue+2]=Ee[Ae+2],F[ue+3]=de<me?ve[de]:255}}else if(Y==4){if(ee==8)for(oe=0;oe<A;oe++){ue=oe<<2;var Se=e[ge=oe<<1];F[ue]=Se,F[ue+1]=Se,F[ue+2]=Se,F[ue+3]=e[ge+1]}if(ee==16)for(oe=0;oe<A;oe++){var ge;ue=oe<<2,Se=e[ge=oe<<2],F[ue]=Se,F[ue+1]=Se,F[ue+2]=Se,F[ue+3]=e[ge+2]}}else if(Y==0)for(ae=y.tabs.tRNS?y.tabs.tRNS:-1,he=0;he<n;he++){var ce=he*P,fe=he*t;if(ee==1)for(var ye=0;ye<t;ye++){var Te=(Se=255*(e[ce+(ye>>>3)]>>>7-(7&ye)&1))==255*ae?0:255;z[fe+ye]=Te<<24|Se<<16|Se<<8|Se}else if(ee==2)for(ye=0;ye<t;ye++)Te=(Se=85*(e[ce+(ye>>>2)]>>>6-((3&ye)<<1)&3))==85*ae?0:255,z[fe+ye]=Te<<24|Se<<16|Se<<8|Se;else if(ee==4)for(ye=0;ye<t;ye++)Te=(Se=17*(e[ce+(ye>>>1)]>>>4-((1&ye)<<2)&15))==17*ae?0:255,z[fe+ye]=Te<<24|Se<<16|Se<<8|Se;else if(ee==8)for(ye=0;ye<t;ye++)Te=(Se=e[ce+ye])==ae?0:255,z[fe+ye]=Te<<24|Se<<16|Se<<8|Se;else if(ee==16)for(ye=0;ye<t;ye++)Se=e[ce+(ye<<1)],Te=te(e,ce+(ye<<oe))==ae?0:255,z[fe+ye]=Te<<24|Se<<16|Se<<8|Se}return F},UPNG.decode=function(e){for(var t,n=new Uint8Array(e),y=8,A=UPNG._bin,S=A.readUshort,P=A.readUint,F={tabs:{},frames:[]},z=new Uint8Array(n.length),Y=0,ee=0,te=[137,80,78,71,13,10,26,10],ne=0;ne<8;ne++)if(n[ne]!=te[ne])throw"The input is not a PNG file!";for(;y<n.length;){var oe=A.readUint(n,y);y+=4;var ie=A.readASCII(n,y,4);if(y+=4,ie=="IHDR")UPNG.decode._IHDR(n,y,F);else if(ie=="CgBI")F.tabs[ie]=n.slice(y,y+4);else if(ie=="IDAT"){for(ne=0;ne<oe;ne++)z[Y+ne]=n[y+ne];Y+=oe}else if(ie=="acTL")F.tabs[ie]={num_frames:P(n,y),num_plays:P(n,y+4)},t=new Uint8Array(n.length);else if(ie=="fcTL"){var se;ee!=0&&((se=F.frames[F.frames.length-1]).data=UPNG.decode._decompress(F,t.slice(0,ee),se.rect.width,se.rect.height),ee=0);var ae={x:P(n,y+12),y:P(n,y+16),width:P(n,y+4),height:P(n,y+8)},le=S(n,y+22);le=S(n,y+20)/(le==0?100:le);var pe={rect:ae,delay:Math.round(1e3*le),dispose:n[y+24],blend:n[y+25]};F.frames.push(pe)}else if(ie=="fdAT"){for(ne=0;ne<oe-4;ne++)t[ee+ne]=n[y+ne+4];ee+=oe-4}else if(ie=="pHYs")F.tabs[ie]=[A.readUint(n,y),A.readUint(n,y+4),n[y+8]];else if(ie=="cHRM")for(F.tabs[ie]=[],ne=0;ne<8;ne++)F.tabs[ie].push(A.readUint(n,y+4*ne));else if(ie=="tEXt"||ie=="zTXt"){F.tabs[ie]==null&&(F.tabs[ie]={});var ue=A.nextZero(n,y),Ee=A.readASCII(n,y,ue-y),ve=y+oe-ue-1;if(ie=="tEXt")_e=A.readASCII(n,ue+1,ve);else{var me=UPNG.decode._inflate(n.slice(ue+2,ue+2+ve));_e=A.readUTF8(me,0,me.length)}F.tabs[ie][Ee]=_e}else if(ie=="iTXt"){F.tabs[ie]==null&&(F.tabs[ie]={}),ue=0;var he=y;ue=A.nextZero(n,he),Ee=A.readASCII(n,he,ue-he);var _e,be=n[he=ue+1];n[he+1],he+=2,ue=A.nextZero(n,he),A.readASCII(n,he,ue-he),he=ue+1,ue=A.nextZero(n,he),A.readUTF8(n,he,ue-he),ve=oe-((he=ue+1)-y),be==0?_e=A.readUTF8(n,he,ve):(me=UPNG.decode._inflate(n.slice(he,he+ve)),_e=A.readUTF8(me,0,me.length)),F.tabs[ie][Ee]=_e}else if(ie=="PLTE")F.tabs[ie]=A.readBytes(n,y,oe);else if(ie=="hIST"){var Ae=F.tabs.PLTE.length/3;for(F.tabs[ie]=[],ne=0;ne<Ae;ne++)F.tabs[ie].push(S(n,y+2*ne))}else if(ie=="tRNS")F.ctype==3?F.tabs[ie]=A.readBytes(n,y,oe):F.ctype==0?F.tabs[ie]=S(n,y):F.ctype==2&&(F.tabs[ie]=[S(n,y),S(n,y+2),S(n,y+4)]);else if(ie=="gAMA")F.tabs[ie]=A.readUint(n,y)/1e5;else if(ie=="sRGB")F.tabs[ie]=n[y];else if(ie=="bKGD")F.ctype==0||F.ctype==4?F.tabs[ie]=[S(n,y)]:F.ctype==2||F.ctype==6?F.tabs[ie]=[S(n,y),S(n,y+2),S(n,y+4)]:F.ctype==3&&(F.tabs[ie]=n[y]);else if(ie=="IEND")break;y+=oe,A.readUint(n,y),y+=4}return ee!=0&&((se=F.frames[F.frames.length-1]).data=UPNG.decode._decompress(F,t.slice(0,ee),se.rect.width,se.rect.height),ee=0),F.data=UPNG.decode._decompress(F,z,F.width,F.height),delete F.compress,delete F.interlace,delete F.filter,F},UPNG.decode._decompress=function(e,t,n,y){var A=UPNG.decode._getBPP(e),S=Math.ceil(n*A/8),P=new Uint8Array((S+1+e.interlace)*y);return t=e.tabs.CgBI?UPNG.inflateRaw(t,P):UPNG.decode._inflate(t,P),e.interlace==0?t=UPNG.decode._filterZero(t,e,0,n,y):e.interlace==1&&(t=UPNG.decode._readInterlace(t,e)),t},UPNG.decode._inflate=function(e,t){return UPNG.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),t)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(e,t){var n,y,A=Uint8Array,S=0,P=0,F=0,z=0,Y=0,ee=0,te=0,ne=0,oe=0;if(e[0]==3&&e[1]==0)return t||new A(0);var ie=H.H,se=ie.b,ae=ie.e,le=ie.R,pe=ie.n,ue=ie.A,Ee=ie.Z,ve=ie.m,me=t==null;for(me&&(t=new A(e.length>>>2<<5));S==0;)if(S=se(e,oe,1),P=se(e,oe+1,2),oe+=3,P!=0){if(me&&(t=H.H.W(t,ne+(1<<17))),P==1&&(n=ve.J,y=ve.h,ee=511,te=31),P==2){F=ae(e,oe,5)+257,z=ae(e,oe+5,5)+1,Y=ae(e,oe+10,4)+4,oe+=14;for(var he=1,_e=0;_e<38;_e+=2)ve.Q[_e]=0,ve.Q[_e+1]=0;for(_e=0;_e<Y;_e++){var be=ae(e,oe+3*_e,3);ve.Q[1+(ve.X[_e]<<1)]=be,be>he&&(he=be)}oe+=3*Y,pe(ve.Q,he),ue(ve.Q,he,ve.u),n=ve.w,y=ve.d,oe=le(ve.u,(1<<he)-1,F+z,e,oe,ve.v);var Ae=ie.V(ve.v,0,F,ve.C);ee=(1<<Ae)-1;var de=ie.V(ve.v,F,z,ve.D);te=(1<<de)-1,pe(ve.C,Ae),ue(ve.C,Ae,n),pe(ve.D,de),ue(ve.D,de,y)}for(;;){var Se=n[Ee(e,oe)&ee];oe+=15&Se;var ge=Se>>>4;if(ge>>>8==0)t[ne++]=ge;else{if(ge==256)break;var ce=ne+ge-254;if(ge>264){var fe=ve.q[ge-257];ce=ne+(fe>>>3)+ae(e,oe,7&fe),oe+=7&fe}var ye=y[Ee(e,oe)&te];oe+=15&ye;var Te=ye>>>4,Pe=ve.c[Te],Re=(Pe>>>4)+se(e,oe,15&Pe);for(oe+=15&Pe;ne<ce;)t[ne]=t[ne++-Re],t[ne]=t[ne++-Re],t[ne]=t[ne++-Re],t[ne]=t[ne++-Re];ne=ce}}}else{(7&oe)!=0&&(oe+=8-(7&oe));var Oe=4+(oe>>>3),we=e[Oe-4]|e[Oe-3]<<8;me&&(t=H.H.W(t,ne+we)),t.set(new A(e.buffer,e.byteOffset+Oe,we),ne),oe=Oe+we<<3,ne+=we}return t.length==ne?t:t.slice(0,ne)},H.H.W=function(e,t){var n=e.length;if(t<=n)return e;var y=new Uint8Array(n<<1);return y.set(e,0),y},H.H.R=function(e,t,n,y,A,S){for(var P=H.H.e,F=H.H.Z,z=0;z<n;){var Y=e[F(y,A)&t];A+=15&Y;var ee=Y>>>4;if(ee<=15)S[z]=ee,z++;else{var te=0,ne=0;ee==16?(ne=3+P(y,A,2),A+=2,te=S[z-1]):ee==17?(ne=3+P(y,A,3),A+=3):ee==18&&(ne=11+P(y,A,7),A+=7);for(var oe=z+ne;z<oe;)S[z]=te,z++}}return A},H.H.V=function(e,t,n,y){for(var A=0,S=0,P=y.length>>>1;S<n;){var F=e[S+t];y[S<<1]=0,y[1+(S<<1)]=F,F>A&&(A=F),S++}for(;S<P;)y[S<<1]=0,y[1+(S<<1)]=0,S++;return A},H.H.n=function(e,t){for(var n,y,A,S,P=H.H.m,F=e.length,z=P.j,Y=0;Y<=t;Y++)z[Y]=0;for(Y=1;Y<F;Y+=2)z[e[Y]]++;var ee=P.K;for(n=0,z[0]=0,y=1;y<=t;y++)n=n+z[y-1]<<1,ee[y]=n;for(A=0;A<F;A+=2)(S=e[A+1])!=0&&(e[A]=ee[S],ee[S]++)},H.H.A=function(e,t,n){for(var y=e.length,A=H.H.m.r,S=0;S<y;S+=2)if(e[S+1]!=0)for(var P=S>>1,F=e[S+1],z=P<<4|F,Y=t-F,ee=e[S]<<Y,te=ee+(1<<Y);ee!=te;)n[A[ee]>>>15-t]=z,ee++},H.H.l=function(e,t){for(var n=H.H.m.r,y=15-t,A=0;A<e.length;A+=2){var S=e[A]<<t-e[A+1];e[A]=n[S]>>>y}},H.H.M=function(e,t,n){n<<=7&t;var y=t>>>3;e[y]|=n,e[y+1]|=n>>>8},H.H.I=function(e,t,n){n<<=7&t;var y=t>>>3;e[y]|=n,e[y+1]|=n>>>8,e[y+2]|=n>>>16},H.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},H.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},H.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},H.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var e=H.H.m,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.r[t]=(n>>>16|n<<16)>>>17}function y(A,S,P){for(;S--!=0;)A.push(0,P)}for(t=0;t<32;t++)e.q[t]=e.S[t]<<3|e.T[t],e.c[t]=e.p[t]<<4|e.z[t];y(e._,144,8),y(e._,112,9),y(e._,24,7),y(e._,8,8),H.H.n(e._,9),H.H.A(e._,9,e.J),H.H.l(e._,9),y(e.$,32,5),H.H.n(e.$,5),H.H.A(e.$,5,e.h),H.H.l(e.$,5),y(e.Q,19,0),y(e.C,286,0),y(e.D,30,0),y(e.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(e,t){for(var n=t.width,y=t.height,A=UPNG.decode._getBPP(t),S=A>>3,P=Math.ceil(n*A/8),F=new Uint8Array(y*P),z=0,Y=[0,0,4,0,2,0,1],ee=[0,4,0,2,0,1,0],te=[8,8,8,4,4,2,2],ne=[8,8,4,4,2,2,1],oe=0;oe<7;){for(var ie=te[oe],se=ne[oe],ae=0,le=0,pe=Y[oe];pe<y;)pe+=ie,le++;for(var ue=ee[oe];ue<n;)ue+=se,ae++;var Ee=Math.ceil(ae*A/8);UPNG.decode._filterZero(e,t,z,ae,le);for(var ve=0,me=Y[oe];me<y;){for(var he=ee[oe],_e=z+ve*Ee<<3;he<n;){var be;if(A==1&&(be=(be=e[_e>>3])>>7-(7&_e)&1,F[me*P+(he>>3)]|=be<<7-((7&he)<<0)),A==2&&(be=(be=e[_e>>3])>>6-(7&_e)&3,F[me*P+(he>>2)]|=be<<6-((3&he)<<1)),A==4&&(be=(be=e[_e>>3])>>4-(7&_e)&15,F[me*P+(he>>1)]|=be<<4-((1&he)<<2)),A>=8)for(var Ae=me*P+he*S,de=0;de<S;de++)F[Ae+de]=e[(_e>>3)+de];_e+=A,he+=se}ve++,me+=ie}ae*le!=0&&(z+=le*(1+Ee)),oe+=1}return F},UPNG.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},UPNG.decode._filterZero=function(e,t,n,y,A){var S=UPNG.decode._getBPP(t),P=Math.ceil(y*S/8),F=UPNG.decode._paeth;S=Math.ceil(S/8);var z=0,Y=1,ee=e[n],te=0;if(ee>1&&(e[n]=[0,0,1][ee-2]),ee==3)for(te=S;te<P;te++)e[te+1]=e[te+1]+(e[te+1-S]>>>1)&255;for(var ne=0;ne<A;ne++)if(te=0,(ee=e[(Y=(z=n+ne*P)+ne+1)-1])==0)for(;te<P;te++)e[z+te]=e[Y+te];else if(ee==1){for(;te<S;te++)e[z+te]=e[Y+te];for(;te<P;te++)e[z+te]=e[Y+te]+e[z+te-S]}else if(ee==2)for(;te<P;te++)e[z+te]=e[Y+te]+e[z+te-P];else if(ee==3){for(;te<S;te++)e[z+te]=e[Y+te]+(e[z+te-P]>>>1);for(;te<P;te++)e[z+te]=e[Y+te]+(e[z+te-P]+e[z+te-S]>>>1)}else{for(;te<S;te++)e[z+te]=e[Y+te]+F(0,e[z+te-P],0);for(;te<P;te++)e[z+te]=e[Y+te]+F(e[z+te-S],e[z+te-P],e[z+te-S-P])}return e},UPNG.decode._paeth=function(e,t,n){var y=e+t-n,A=y-e,S=y-t,P=y-n;return A*A<=S*S&&A*A<=P*P?e:S*S<=P*P?t:n},UPNG.decode._IHDR=function(e,t,n){var y=UPNG._bin;n.width=y.readUint(e,t),t+=4,n.height=y.readUint(e,t),t+=4,n.depth=e[t],t++,n.ctype=e[t],t++,n.compress=e[t],t++,n.filter=e[t],t++,n.interlace=e[t],t++},UPNG._bin={nextZero:function(t,n){for(;t[n]!=0;)n++;return n},readUshort:function(t,n){return t[n]<<8|t[n+1]},writeUshort:function(t,n,y){t[n]=y>>8&255,t[n+1]=255&y},readUint:function(t,n){return 16777216*t[n]+(t[n+1]<<16|t[n+2]<<8|t[n+3])},writeUint:function(t,n,y){t[n]=y>>24&255,t[n+1]=y>>16&255,t[n+2]=y>>8&255,t[n+3]=255&y},readASCII:function(t,n,y){for(var A="",S=0;S<y;S++)A+=String.fromCharCode(t[n+S]);return A},writeASCII:function(t,n,y){for(var A=0;A<y.length;A++)t[n+A]=y.charCodeAt(A)},readBytes:function(t,n,y){for(var A=[],S=0;S<y;S++)A.push(t[n+S]);return A},pad:function(t){return t.length<2?"0".concat(t):t},readUTF8:function(t,n,y){for(var A,S="",P=0;P<y;P++)S+="%".concat(UPNG._bin.pad(t[n+P].toString(16)));try{A=decodeURIComponent(S)}catch{return UPNG._bin.readASCII(t,n,y)}return A}},UPNG._copyTile=function(e,t,n,y,A,S,P,F,z){for(var Y=Math.min(t,A),ee=Math.min(n,S),te=0,ne=0,oe=0;oe<ee;oe++)for(var ie=0;ie<Y;ie++)if(P>=0&&F>=0?(te=oe*t+ie<<2,ne=(F+oe)*A+P+ie<<2):(te=(-F+oe)*t-P+ie<<2,ne=oe*A+ie<<2),z==0)y[ne]=e[te],y[ne+1]=e[te+1],y[ne+2]=e[te+2],y[ne+3]=e[te+3];else if(z==1){var se=e[te+3]*(1/255),ae=e[te]*se,le=e[te+1]*se,pe=e[te+2]*se,ue=y[ne+3]*(1/255),Ee=y[ne]*ue,ve=y[ne+1]*ue,me=y[ne+2]*ue,he=1-se,_e=se+ue*he,be=_e==0?0:1/_e;y[ne+3]=255*_e,y[ne+0]=(ae+Ee*he)*be,y[ne+1]=(le+ve*he)*be,y[ne+2]=(pe+me*he)*be}else if(z==2)se=e[te+3],ae=e[te],le=e[te+1],pe=e[te+2],ue=y[ne+3],Ee=y[ne],ve=y[ne+1],me=y[ne+2],se==ue&&ae==Ee&&le==ve&&pe==me?(y[ne]=0,y[ne+1]=0,y[ne+2]=0,y[ne+3]=0):(y[ne]=ae,y[ne+1]=le,y[ne+2]=pe,y[ne+3]=se);else if(z==3){if(se=e[te+3],ae=e[te],le=e[te+1],pe=e[te+2],ue=y[ne+3],Ee=y[ne],ve=y[ne+1],me=y[ne+2],se==ue&&ae==Ee&&le==ve&&pe==me)continue;if(se<220&&ue>20)return!1}return!0},UPNG.encode=function(e,t,n,y,A,S,P){y==null&&(y=0),P==null&&(P=!1);var F=UPNG.encode.compress(e,t,n,y,[!1,!1,!1,0,P]);return UPNG.encode.compressPNG(F,-1),UPNG.encode._main(F,t,n,A,S)},UPNG.encodeLL=function(e,t,n,y,A,S,P,F){for(var z={ctype:0+(y==1?0:2)+(A==0?0:4),depth:S,frames:[]},Y=(y+A)*S,ee=Y*t,te=0;te<e.length;te++)z.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[te]),blend:0,dispose:1,bpp:Math.ceil(Y/8),bpl:Math.ceil(ee/8)});return UPNG.encode.compressPNG(z,0,!0),UPNG.encode._main(z,t,n,P,F)},UPNG.encode._main=function(e,t,n,y,A){A==null&&(A={});var S=UPNG.crc.crc,P=UPNG._bin.writeUint,F=UPNG._bin.writeUshort,z=UPNG._bin.writeASCII,Y=8,ee=e.frames.length>1,te=!1,ne=33+(ee?20:0);if(A.sRGB!=null&&(ne+=13),A.pHYs!=null&&(ne+=21),e.ctype==3){for(var oe=e.plte.length,ie=0;ie<oe;ie++)e.plte[ie]>>>24!=255&&(te=!0);ne+=8+3*oe+4+(te?8+1*oe+4:0)}for(var se=0;se<e.frames.length;se++)ee&&(ne+=38),ne+=(_e=e.frames[se]).cimg.length+12,se!=0&&(ne+=4);ne+=12;var ae=new Uint8Array(ne),le=[137,80,78,71,13,10,26,10];for(ie=0;ie<8;ie++)ae[ie]=le[ie];if(P(ae,Y,13),z(ae,Y+=4,"IHDR"),P(ae,Y+=4,t),P(ae,Y+=4,n),ae[Y+=4]=e.depth,ae[++Y]=e.ctype,ae[++Y]=0,ae[++Y]=0,ae[++Y]=0,P(ae,++Y,S(ae,Y-17,17)),Y+=4,A.sRGB!=null&&(P(ae,Y,1),z(ae,Y+=4,"sRGB"),ae[Y+=4]=A.sRGB,P(ae,++Y,S(ae,Y-5,5)),Y+=4),A.pHYs!=null&&(P(ae,Y,9),z(ae,Y+=4,"pHYs"),P(ae,Y+=4,A.pHYs[0]),P(ae,Y+=4,A.pHYs[1]),ae[Y+=4]=A.pHYs[2],P(ae,++Y,S(ae,Y-13,13)),Y+=4),ee&&(P(ae,Y,8),z(ae,Y+=4,"acTL"),P(ae,Y+=4,e.frames.length),P(ae,Y+=4,A.loop!=null?A.loop:0),P(ae,Y+=4,S(ae,Y-12,12)),Y+=4),e.ctype==3){for(P(ae,Y,3*(oe=e.plte.length)),z(ae,Y+=4,"PLTE"),Y+=4,ie=0;ie<oe;ie++){var pe=3*ie,ue=e.plte[ie],Ee=255&ue,ve=ue>>>8&255,me=ue>>>16&255;ae[Y+pe+0]=Ee,ae[Y+pe+1]=ve,ae[Y+pe+2]=me}if(P(ae,Y+=3*oe,S(ae,Y-3*oe-4,3*oe+4)),Y+=4,te){for(P(ae,Y,oe),z(ae,Y+=4,"tRNS"),Y+=4,ie=0;ie<oe;ie++)ae[Y+ie]=e.plte[ie]>>>24&255;P(ae,Y+=oe,S(ae,Y-oe-4,oe+4)),Y+=4}}var he=0;for(se=0;se<e.frames.length;se++){var _e=e.frames[se];ee&&(P(ae,Y,26),z(ae,Y+=4,"fcTL"),P(ae,Y+=4,he++),P(ae,Y+=4,_e.rect.width),P(ae,Y+=4,_e.rect.height),P(ae,Y+=4,_e.rect.x),P(ae,Y+=4,_e.rect.y),F(ae,Y+=4,y[se]),F(ae,Y+=2,1e3),ae[Y+=2]=_e.dispose,ae[++Y]=_e.blend,P(ae,++Y,S(ae,Y-30,30)),Y+=4);var be=_e.cimg;P(ae,Y,(oe=be.length)+(se==0?0:4));var Ae=Y+=4;z(ae,Y,se==0?"IDAT":"fdAT"),Y+=4,se!=0&&(P(ae,Y,he++),Y+=4),ae.set(be,Y),P(ae,Y+=oe,S(ae,Ae,Y-Ae)),Y+=4}return P(ae,Y,0),z(ae,Y+=4,"IEND"),P(ae,Y+=4,S(ae,Y-4,4)),Y+=4,ae.buffer},UPNG.encode.compressPNG=function(e,t,n){for(var y=0;y<e.frames.length;y++){var A=e.frames[y];A.rect.width;var S=A.rect.height,P=new Uint8Array(S*A.bpl+S);A.cimg=UPNG.encode._filterZero(A.img,S,A.bpp,A.bpl,P,t,n)}},UPNG.encode.compress=function(e,t,n,y,A){for(var S=A[0],P=A[1],F=A[2],z=A[3],Y=A[4],ee=6,te=8,ne=255,oe=0;oe<e.length;oe++)for(var ie=new Uint8Array(e[oe]),se=ie.length,ae=0;ae<se;ae+=4)ne&=ie[ae+3];var le=ne!=255,pe=UPNG.encode.framize(e,t,n,S,P,F),ue={},Ee=[],ve=[];if(y!=0){var me=[];for(ae=0;ae<pe.length;ae++)me.push(pe[ae].img.buffer);var he=UPNG.encode.concatRGBA(me),_e=UPNG.quantize(he,y),be=0,Ae=new Uint8Array(_e.abuf);for(ae=0;ae<pe.length;ae++){var de=(Fe=pe[ae].img).length;for(ve.push(new Uint8Array(_e.inds.buffer,be>>2,de>>2)),oe=0;oe<de;oe+=4)Fe[oe]=Ae[be+oe],Fe[oe+1]=Ae[be+oe+1],Fe[oe+2]=Ae[be+oe+2],Fe[oe+3]=Ae[be+oe+3];be+=de}for(ae=0;ae<_e.plte.length;ae++)Ee.push(_e.plte[ae].est.rgba)}else for(oe=0;oe<pe.length;oe++){var Se=pe[oe],ge=new Uint32Array(Se.img.buffer),ce=Se.rect.width,fe=(se=ge.length,new Uint8Array(se));for(ve.push(fe),ae=0;ae<se;ae++){var ye=ge[ae];if(ae!=0&&ye==ge[ae-1])fe[ae]=fe[ae-1];else if(ae>ce&&ye==ge[ae-ce])fe[ae]=fe[ae-ce];else{var Te=ue[ye];if(Te==null&&(ue[ye]=Te=Ee.length,Ee.push(ye),Ee.length>=300))break;fe[ae]=Te}}}var Pe=Ee.length;for(Pe<=256&&Y==0&&(te=Pe<=2?1:Pe<=4?2:Pe<=16?4:8,te=Math.max(te,z)),oe=0;oe<pe.length;oe++){(Se=pe[oe]).rect.x,Se.rect.y,ce=Se.rect.width;var Re=Se.rect.height,Oe=Se.img;new Uint32Array(Oe.buffer);var we=4*ce,Ue=4;if(Pe<=256&&Y==0){we=Math.ceil(te*ce/8);for(var Ne=new Uint8Array(we*Re),$e=ve[oe],Ce=0;Ce<Re;Ce++){ae=Ce*we;var Le=Ce*ce;if(te==8)for(var xe=0;xe<ce;xe++)Ne[ae+xe]=$e[Le+xe];else if(te==4)for(xe=0;xe<ce;xe++)Ne[ae+(xe>>1)]|=$e[Le+xe]<<4-4*(1&xe);else if(te==2)for(xe=0;xe<ce;xe++)Ne[ae+(xe>>2)]|=$e[Le+xe]<<6-2*(3&xe);else if(te==1)for(xe=0;xe<ce;xe++)Ne[ae+(xe>>3)]|=$e[Le+xe]<<7-1*(7&xe)}Oe=Ne,ee=3,Ue=1}else if(le==0&&pe.length==1){Ne=new Uint8Array(ce*Re*3);var Be=ce*Re;for(ae=0;ae<Be;ae++){var Fe,Ve=4*ae;Ne[Fe=3*ae]=Oe[Ve],Ne[Fe+1]=Oe[Ve+1],Ne[Fe+2]=Oe[Ve+2]}Oe=Ne,ee=2,Ue=3,we=3*ce}Se.img=Oe,Se.bpl=we,Se.bpp=Ue}return{ctype:ee,depth:te,plte:Ee,frames:pe}},UPNG.encode.framize=function(e,t,n,y,A,S){for(var P=[],F=0;F<e.length;F++){var z,Y=new Uint8Array(e[F]),ee=new Uint32Array(Y.buffer),te=0,ne=0,oe=t,ie=n,se=y?1:0;if(F!=0){for(var ae=S||y||F==1||P[F-2].dispose!=0?1:2,le=0,pe=1e9,ue=0;ue<ae;ue++){for(var Ee=new Uint8Array(e[F-1-ue]),ve=new Uint32Array(e[F-1-ue]),me=t,he=n,_e=-1,be=-1,Ae=0;Ae<n;Ae++)for(var de=0;de<t;de++)ee[Pe=Ae*t+de]!=ve[Pe]&&(de<me&&(me=de),de>_e&&(_e=de),Ae<he&&(he=Ae),Ae>be&&(be=Ae));_e==-1&&(me=he=_e=be=0),A&&((1&me)==1&&me--,(1&he)==1&&he--);var Se=(_e-me+1)*(be-he+1);Se<pe&&(pe=Se,le=ue,te=me,ne=he,oe=_e-me+1,ie=be-he+1)}Ee=new Uint8Array(e[F-1-le]),le==1&&(P[F-1].dispose=2),z=new Uint8Array(oe*ie*4),UPNG._copyTile(Ee,t,n,z,oe,ie,-te,-ne,0),(se=UPNG._copyTile(Y,t,n,z,oe,ie,-te,-ne,3)?1:0)==1?UPNG.encode._prepareDiff(Y,t,n,z,{x:te,y:ne,width:oe,height:ie}):UPNG._copyTile(Y,t,n,z,oe,ie,-te,-ne,0)}else z=Y.slice(0);P.push({rect:{x:te,y:ne,width:oe,height:ie},img:z,blend:se,dispose:0})}if(y){for(F=0;F<P.length;F++)if((Re=P[F]).blend!=1){var ge=Re.rect,ce=P[F-1].rect,fe=Math.min(ge.x,ce.x),ye=Math.min(ge.y,ce.y),Te={x:fe,y:ye,width:Math.max(ge.x+ge.width,ce.x+ce.width)-fe,height:Math.max(ge.y+ge.height,ce.y+ce.height)-ye};P[F-1].dispose=1,F-1!=0&&UPNG.encode._updateFrame(e,t,n,P,F-1,Te,A),UPNG.encode._updateFrame(e,t,n,P,F,Te,A)}}if(e.length!=1)for(var Pe=0;Pe<P.length;Pe++){var Re;(Re=P[Pe]).rect.width*Re.rect.height}return P},UPNG.encode._updateFrame=function(e,t,n,y,A,S,P){for(var F=Uint8Array,z=Uint32Array,Y=new F(e[A-1]),ee=new z(e[A-1]),te=A+1<e.length?new F(e[A+1]):null,ne=new F(e[A]),oe=new z(ne.buffer),ie=t,se=n,ae=-1,le=-1,pe=0;pe<S.height;pe++)for(var ue=0;ue<S.width;ue++){var Ee=S.x+ue,ve=S.y+pe,me=ve*t+Ee,he=oe[me];he==0||y[A-1].dispose==0&&ee[me]==he&&(te==null||te[4*me+3]!=0)||(Ee<ie&&(ie=Ee),Ee>ae&&(ae=Ee),ve<se&&(se=ve),ve>le&&(le=ve))}ae==-1&&(ie=se=ae=le=0),P&&((1&ie)==1&&ie--,(1&se)==1&&se--),S={x:ie,y:se,width:ae-ie+1,height:le-se+1};var _e=y[A];_e.rect=S,_e.blend=1,_e.img=new Uint8Array(S.width*S.height*4),y[A-1].dispose==0?(UPNG._copyTile(Y,t,n,_e.img,S.width,S.height,-S.x,-S.y,0),UPNG.encode._prepareDiff(ne,t,n,_e.img,S)):UPNG._copyTile(ne,t,n,_e.img,S.width,S.height,-S.x,-S.y,0)},UPNG.encode._prepareDiff=function(e,t,n,y,A){UPNG._copyTile(e,t,n,y,A.width,A.height,-A.x,-A.y,2)},UPNG.encode._filterZero=function(e,t,n,y,A,S,P){var F,z=[],Y=[0,1,2,3,4];S!=-1?Y=[S]:(t*y>5e5||n==1)&&(Y=[0]),P&&(F={level:0});for(var ee,te=UZIP,ne=0;ne<Y.length;ne++){for(var oe=0;oe<t;oe++)UPNG.encode._filterLine(A,e,oe,y,n,Y[ne]);z.push(te.deflate(A,F))}var ie=1e9;for(ne=0;ne<z.length;ne++)z[ne].length<ie&&(ee=ne,ie=z[ne].length);return z[ee]},UPNG.encode._filterLine=function(e,t,n,y,A,S){var P=n*y,F=P+n,z=UPNG.decode._paeth;if(e[F]=S,F++,S==0)if(y<500)for(var Y=0;Y<y;Y++)e[F+Y]=t[P+Y];else e.set(new Uint8Array(t.buffer,P,y),F);else if(S==1){for(Y=0;Y<A;Y++)e[F+Y]=t[P+Y];for(Y=A;Y<y;Y++)e[F+Y]=t[P+Y]-t[P+Y-A]+256&255}else if(n==0){for(Y=0;Y<A;Y++)e[F+Y]=t[P+Y];if(S==2)for(Y=A;Y<y;Y++)e[F+Y]=t[P+Y];if(S==3)for(Y=A;Y<y;Y++)e[F+Y]=t[P+Y]-(t[P+Y-A]>>1)+256&255;if(S==4)for(Y=A;Y<y;Y++)e[F+Y]=t[P+Y]-z(t[P+Y-A],0,0)+256&255}else{if(S==2)for(Y=0;Y<y;Y++)e[F+Y]=t[P+Y]+256-t[P+Y-y]&255;if(S==3){for(Y=0;Y<A;Y++)e[F+Y]=t[P+Y]+256-(t[P+Y-y]>>1)&255;for(Y=A;Y<y;Y++)e[F+Y]=t[P+Y]+256-(t[P+Y-y]+t[P+Y-A]>>1)&255}if(S==4){for(Y=0;Y<A;Y++)e[F+Y]=t[P+Y]+256-z(0,t[P+Y-y],0)&255;for(Y=A;Y<y;Y++)e[F+Y]=t[P+Y]+256-z(t[P+Y-A],t[P+Y-y],t[P+Y-A-y])&255}}},UPNG.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,y=0;y<8;y++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(t,n,y,A){for(var S=0;S<A;S++)t=UPNG.crc.table[255&(t^n[y+S])]^t>>>8;return t},crc:function(t,n,y){return 4294967295^UPNG.crc.update(4294967295,t,n,y)}},UPNG.quantize=function(e,t){var n,y=new Uint8Array(e),A=y.slice(0),S=new Uint32Array(A.buffer),P=UPNG.quantize.getKDtree(A,t),F=P[0],z=P[1],Y=UPNG.quantize.planeDst,ee=y,te=S,ne=ee.length,oe=new Uint8Array(y.length>>2);if(y.length<2e7)for(var ie=0;ie<ne;ie+=4){var se=ee[ie]*(1/255),ae=ee[ie+1]*(1/255),le=ee[ie+2]*(1/255),pe=ee[ie+3]*(1/255);n=UPNG.quantize.getNearest(F,se,ae,le,pe),oe[ie>>2]=n.ind,te[ie>>2]=n.est.rgba}else for(ie=0;ie<ne;ie+=4){for(se=ee[ie]*(1/255),ae=ee[ie+1]*(1/255),le=ee[ie+2]*(1/255),pe=ee[ie+3]*(1/255),n=F;n.left;)n=Y(n.est,se,ae,le,pe)<=0?n.left:n.right;oe[ie>>2]=n.ind,te[ie>>2]=n.est.rgba}return{abuf:A.buffer,inds:oe,plte:z}},UPNG.quantize.getKDtree=function(e,t,n){n==null&&(n=1e-4);var y=new Uint32Array(e.buffer),A={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};A.bst=UPNG.quantize.stats(e,A.i0,A.i1),A.est=UPNG.quantize.estats(A.bst);for(var S=[A];S.length<t;){for(var P=0,F=0,z=0;z<S.length;z++)S[z].est.L>P&&(P=S[z].est.L,F=z);if(P<n)break;var Y=S[F],ee=UPNG.quantize.splitPixels(e,y,Y.i0,Y.i1,Y.est.e,Y.est.eMq255);if(Y.i0>=ee||Y.i1<=ee)Y.est.L=0;else{var te={i0:Y.i0,i1:ee,bst:null,est:null,tdst:0,left:null,right:null};te.bst=UPNG.quantize.stats(e,te.i0,te.i1),te.est=UPNG.quantize.estats(te.bst);var ne={i0:ee,i1:Y.i1,bst:null,est:null,tdst:0,left:null,right:null};for(ne.bst={R:[],m:[],N:Y.bst.N-te.bst.N},z=0;z<16;z++)ne.bst.R[z]=Y.bst.R[z]-te.bst.R[z];for(z=0;z<4;z++)ne.bst.m[z]=Y.bst.m[z]-te.bst.m[z];ne.est=UPNG.quantize.estats(ne.bst),Y.left=te,Y.right=ne,S[F]=te,S.push(ne)}}for(S.sort(function(oe,ie){return ie.bst.N-oe.bst.N}),z=0;z<S.length;z++)S[z].ind=z;return[A,S]},UPNG.quantize.getNearest=function(e,t,n,y,A){if(e.left==null)return e.tdst=UPNG.quantize.dist(e.est.q,t,n,y,A),e;var S=UPNG.quantize.planeDst(e.est,t,n,y,A),P=e.left,F=e.right;S>0&&(P=e.right,F=e.left);var z=UPNG.quantize.getNearest(P,t,n,y,A);if(z.tdst<=S*S)return z;var Y=UPNG.quantize.getNearest(F,t,n,y,A);return Y.tdst<z.tdst?Y:z},UPNG.quantize.planeDst=function(e,t,n,y,A){var S=e.e;return S[0]*t+S[1]*n+S[2]*y+S[3]*A-e.eMq},UPNG.quantize.dist=function(e,t,n,y,A){var S=t-e[0],P=n-e[1],F=y-e[2],z=A-e[3];return S*S+P*P+F*F+z*z},UPNG.quantize.splitPixels=function(e,t,n,y,A,S){var P=UPNG.quantize.vecDot;for(y-=4;n<y;){for(;P(e,n,A)<=S;)n+=4;for(;P(e,y,A)>S;)y-=4;if(n>=y)break;var F=t[n>>2];t[n>>2]=t[y>>2],t[y>>2]=F,n+=4,y-=4}for(;P(e,n,A)>S;)n-=4;return n+4},UPNG.quantize.vecDot=function(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]},UPNG.quantize.stats=function(e,t,n){for(var y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A=[0,0,0,0],S=n-t>>2,P=t;P<n;P+=4){var F=e[P]*(1/255),z=e[P+1]*(1/255),Y=e[P+2]*(1/255),ee=e[P+3]*(1/255);A[0]+=F,A[1]+=z,A[2]+=Y,A[3]+=ee,y[0]+=F*F,y[1]+=F*z,y[2]+=F*Y,y[3]+=F*ee,y[5]+=z*z,y[6]+=z*Y,y[7]+=z*ee,y[10]+=Y*Y,y[11]+=Y*ee,y[15]+=ee*ee}return y[4]=y[1],y[8]=y[2],y[9]=y[6],y[12]=y[3],y[13]=y[7],y[14]=y[11],{R:y,m:A,N:S}},UPNG.quantize.estats=function(e){var t=e.R,n=e.m,y=e.N,A=n[0],S=n[1],P=n[2],F=n[3],z=y==0?0:1/y,Y=[t[0]-A*A*z,t[1]-A*S*z,t[2]-A*P*z,t[3]-A*F*z,t[4]-S*A*z,t[5]-S*S*z,t[6]-S*P*z,t[7]-S*F*z,t[8]-P*A*z,t[9]-P*S*z,t[10]-P*P*z,t[11]-P*F*z,t[12]-F*A*z,t[13]-F*S*z,t[14]-F*P*z,t[15]-F*F*z],ee=Y,te=UPNG.M4,ne=[Math.random(),Math.random(),Math.random(),Math.random()],oe=0,ie=0;if(y!=0)for(var se=0;se<16&&(ne=te.multVec(ee,ne),ie=Math.sqrt(te.dot(ne,ne)),ne=te.sml(1/ie,ne),!(se!=0&&Math.abs(ie-oe)<1e-9));se++)oe=ie;var ae=[A*z,S*z,P*z,F*z];return{Cov:Y,q:ae,e:ne,L:oe,eMq255:te.dot(te.sml(255,ae),ne),eMq:te.dot(ne,ae),rgba:(Math.round(255*ae[3])<<24|Math.round(255*ae[2])<<16|Math.round(255*ae[1])<<8|Math.round(255*ae[0])<<0)>>>0}},UPNG.M4={multVec:function(t,n){return[t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3],t[4]*n[0]+t[5]*n[1]+t[6]*n[2]+t[7]*n[3],t[8]*n[0]+t[9]*n[1]+t[10]*n[2]+t[11]*n[3],t[12]*n[0]+t[13]*n[1]+t[14]*n[2]+t[15]*n[3]]},dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]},sml:function(t,n){return[t*n[0],t*n[1],t*n[2],t*n[3]]}},UPNG.encode.concatRGBA=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].byteLength;var y=new Uint8Array(t),A=0;for(n=0;n<e.length;n++){for(var S=new Uint8Array(e[n]),P=S.length,F=0;F<P;F+=4){var z=S[F],Y=S[F+1],ee=S[F+2],te=S[F+3];te==0&&(z=Y=ee=0),y[A+F]=z,y[A+F+1]=Y,y[A+F+2]=ee,y[A+F+3]=te}A+=P}return y.buffer};var BROWSER_NAME={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",MOBILE_SAFARI:"MOBILE_SAFARI",ETC:"ETC"},_BROWSER_NAME$CHROME$,MAX_CANVAS_SIZE=(_BROWSER_NAME$CHROME$={},_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.CHROME,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.FIREFOX,11180),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.DESKTOP_SAFARI,16384),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.IE,8192),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.MOBILE_SAFARI,4096),_defineProperty(_BROWSER_NAME$CHROME$,BROWSER_NAME.ETC,8192),_BROWSER_NAME$CHROME$),isBrowser$1=typeof window!="undefined",moduleMapper=isBrowser$1&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser$1&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||window.File!==void 0&&File),CustomFileReader=isBrowser$1&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||window.FileReader!==void 0&&FileReader);function getFilefromDataUrl(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Date.now();return new Promise(function(y){for(var A=e.split(","),S=A[0].match(/:(.*?);/)[1],P=globalThis.atob(A[1]),F=P.length,z=new Uint8Array(F);F--;)z[F]=P.charCodeAt(F);var Y=new Blob([z],{type:S});Y.name=t,Y.lastModified=n,y(Y)})}function getDataUrlFromFile(e){return new Promise(function(t,n){var y=new CustomFileReader;y.onload=function(){return t(y.result)},y.onerror=function(A){return n(A)},y.readAsDataURL(e)})}function loadImage(e){return new Promise(function(t,n){var y=new Image;y.onload=function(){return t(y)},y.onerror=function(A){return n(A)},y.src=e})}function getBrowserName(){if(getBrowserName.cachedResult!==void 0)return getBrowserName.cachedResult;var e=BROWSER_NAME.ETC,t=navigator.userAgent;return/Chrom(e|ium)/i.test(t)?e=BROWSER_NAME.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)&&!/(CriOS|FxiOS|OPiOS|mercury)/i.test(t)?e=BROWSER_NAME.MOBILE_SAFARI:/Safari/i.test(t)?e=BROWSER_NAME.DESKTOP_SAFARI:/Firefox/i.test(t)?e=BROWSER_NAME.FIREFOX:(/MSIE/i.test(t)||!!document.documentMode)&&(e=BROWSER_NAME.IE),getBrowserName.cachedResult=e,getBrowserName.cachedResult}function approximateBelowMaximumCanvasSizeOfBrowser(e,t){for(var n=getBrowserName(),y=MAX_CANVAS_SIZE[n],A=e,S=t,P=A*S,F=A>S?S/A:A/S;P>y*y;){var z=(y+A)/2,Y=(y+S)/2;z<Y?(S=Y,A=Y*F):(S=z*F,A=z),P=A*S}return{width:A,height:S}}function getNewCanvasAndCtx(e,t){var n,y;try{if((y=(n=new OffscreenCanvas(e,t)).getContext("2d"))===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{y=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=t,[n,y]}function drawImageInCanvas(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=approximateBelowMaximumCanvasSizeOfBrowser(e.width,e.height),y=n.width,A=n.height,S=getNewCanvasAndCtx(y,A),P=_slicedToArray(S,2),F=P[0],z=P[1];return t&&/jpe?g/.test(t)&&(z.fillStyle="white",z.fillRect(0,0,F.width,F.height)),z.drawImage(e,0,0,F.width,F.height),F}function isIOS(){return isIOS.cachedResult!==void 0||(isIOS.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document),isIOS.cachedResult}function drawFileInCanvas(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,y){var A,S,P=function(){try{return S=drawImageInCanvas(A,t.fileType||e.type),n([A,S])}catch(Y){return y(Y)}},F=function(Y){try{var ee=function(ne){try{throw ne}catch(oe){return y(oe)}};try{return getDataUrlFromFile(e).then(function(te){try{return loadImage(te).then(function(ne){try{return A=ne,function(){try{return P()}catch(ie){return y(ie)}}()}catch(oe){return ee(oe)}},ee)}catch(ne){return ee(ne)}},ee)}catch(te){ee(te)}}catch(te){return y(te)}};try{if(isIOS()||[BROWSER_NAME.DESKTOP_SAFARI,BROWSER_NAME.MOBILE_SAFARI].includes(getBrowserName()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(z){try{return A=z,P()}catch{return F()}},F)}catch{F()}})}function canvasToFile(e,t,n,y){var A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return new Promise(function(S,P){var F,z,Y;if(t==="image/png")return z=e.getContext("2d").getImageData(0,0,e.width,e.height).data,Y=UPNG.encode([z],e.width,e.height,256*A),(F=new Blob([Y],{type:t})).name=n,F.lastModified=y,ee.call(this);{let te=function(){return ee.call(this)};return typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas?e.convertToBlob({type:t,quality:A}).then(function(ne){try{return(F=ne).name=n,F.lastModified=y,te.call(this)}catch(oe){return P(oe)}}.bind(this),P):getFilefromDataUrl(e.toDataURL(t,A),n,y).then(function(ne){try{return F=ne,te.call(this)}catch(oe){return P(oe)}}.bind(this),P)}function ee(){return S(F)}})}function cleanupCanvasMemory(e){e.width=0,e.height=0}function isAutoOrientationInBrowser(){return new Promise(function(e,t){var n,y,A,S;return isAutoOrientationInBrowser.cachedResult!==void 0?e(isAutoOrientationInBrowser.cachedResult):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(P){try{return drawFileInCanvas(n=P).then(function(F){try{return canvasToFile(y=F[1],n.type,n.name,n.lastModified).then(function(z){try{return A=z,cleanupCanvasMemory(y),drawFileInCanvas(A).then(function(Y){try{return S=Y[0],isAutoOrientationInBrowser.cachedResult=S.width===1&&S.height===2,e(isAutoOrientationInBrowser.cachedResult)}catch(ee){return t(ee)}},t)}catch(Y){return t(Y)}},t)}catch(z){return t(z)}},t)}catch(F){return t(F)}},t)})}function getExifOrientation(e){return new Promise(function(t,n){var y=new CustomFileReader;y.onload=function(A){var S=new DataView(A.target.result);if(S.getUint16(0,!1)!=65496)return t(-2);for(var P=S.byteLength,F=2;F<P;){if(S.getUint16(F+2,!1)<=8)return t(-1);var z=S.getUint16(F,!1);if(F+=2,z==65505){if(S.getUint32(F+=2,!1)!=1165519206)return t(-1);var Y=S.getUint16(F+=6,!1)==18761;F+=S.getUint32(F+4,Y);var ee=S.getUint16(F,Y);F+=2;for(var te=0;te<ee;te++)if(S.getUint16(F+12*te,Y)==274)return t(S.getUint16(F+12*te+8,Y))}else{if((65280&z)!=65280)break;F+=S.getUint16(F,!1)}}return t(-1)},y.onerror=function(A){return n(A)},y.readAsArrayBuffer(e)})}function handleMaxWidthOrHeight(e,t){var n,y=e.width,A=e.height,S=t.maxWidthOrHeight,P=e;if(isFinite(S)&&(y>S||A>S)){var F=_slicedToArray(getNewCanvasAndCtx(y,A),2);P=F[0],n=F[1],y>A?(P.width=S,P.height=A/y*S):(P.width=y/A*S,P.height=S),n.drawImage(e,0,0,P.width,P.height),cleanupCanvasMemory(e)}return P}function followExifOrientation(e,t){var n=e.width,y=e.height,A=_slicedToArray(getNewCanvasAndCtx(n,y),2),S=A[0],P=A[1];switch(t>4&&t<9?(S.width=y,S.height=n):(S.width=n,S.height=y),t){case 2:P.transform(-1,0,0,1,n,0);break;case 3:P.transform(-1,0,0,-1,n,y);break;case 4:P.transform(1,0,0,-1,0,y);break;case 5:P.transform(0,1,1,0,0,0);break;case 6:P.transform(0,1,-1,0,y,0);break;case 7:P.transform(0,-1,-1,0,y,n);break;case 8:P.transform(0,-1,1,0,0,n)}return P.drawImage(e,0,0,n,y),cleanupCanvasMemory(e),S}function compress(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new Promise(function(y,A){var S,P,F,z,Y,ee,te,ne,oe,ie,se,ae,le,pe,ue,Ee,ve,me;function he(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5;S+=be,t.onProgress(Math.min(S,100))}function _e(be){S=Math.min(Math.max(be,S),100),t.onProgress(S)}return S=n,P=t.maxIteration||10,F=1024*t.maxSizeMB*1024,he(),drawFileInCanvas(e,t).then(function(be){try{var Ae=_slicedToArray(be,2);return z=Ae[1],he(),Y=handleMaxWidthOrHeight(z,t),he(),new Promise(function(de,Se){var ge;if(!(ge=t.exifOrientation))return getExifOrientation(e).then(function(fe){try{return ge=fe,ce.call(this)}catch(ye){return Se(ye)}}.bind(this),Se);function ce(){return de(ge)}return ce.call(this)}).then(function(de){try{return ee=de,he(),isAutoOrientationInBrowser().then(function(Se){try{return te=Se?Y:followExifOrientation(Y,ee),he(),ne=t.initialQuality||1,oe=t.fileType||e.type,canvasToFile(te,oe,e.name,e.lastModified,ne).then(function(ge){try{{let fe=function(){if(P--&&(ue>F||ue>le)){var Te,Pe,Re=_slicedToArray(getNewCanvasAndCtx(Te=se?.95*me.width:me.width,Pe=se?.95*me.height:me.height),2);return ve=Re[0],Re[1].drawImage(me,0,0,Te,Pe),ne*=.95,canvasToFile(ve,oe,e.name,e.lastModified,ne).then(function(Oe){try{return Ee=Oe,cleanupCanvasMemory(me),me=ve,ue=Ee.size,_e(Math.min(99,Math.floor((pe-ue)/(pe-F)*100))),fe}catch(we){return A(we)}},A)}return[1]},ye=function(){return cleanupCanvasMemory(me),cleanupCanvasMemory(ve),cleanupCanvasMemory(Y),cleanupCanvasMemory(te),cleanupCanvasMemory(z),_e(100),y(Ee)};if(ie=ge,he(),se=ie.size>F,ae=ie.size>e.size,!se&&!ae)return _e(100),y(ie);var ce;return le=e.size,pe=ie.size,ue=pe,me=te,(ce=function(Te){for(;Te;){if(Te.then)return void Te.then(ce,A);try{if(Te.pop){if(Te.length)return Te.pop()?ye.call(this):Te;Te=fe}else Te=Te.call(this)}catch(Pe){return A(Pe)}}}.bind(this))(fe)}}catch(fe){return A(fe)}}.bind(this),A)}catch(ge){return A(ge)}}.bind(this),A)}catch(Se){return A(Se)}}.bind(this),A)}catch(de){return A(de)}}.bind(this),A)})}var charAt=stringMultibyte.charAt,STRING_ITERATOR="String Iterator",setInternalState$2=internalState.set,getInternalState=internalState.getterFor(STRING_ITERATOR);defineIterator(String,"String",function(e){setInternalState$2(this,{type:STRING_ITERATOR,string:toString(e),index:0})},function(){var t,n=getInternalState(this),y=n.string,A=n.index;return A>=y.length?{value:void 0,done:!0}:(t=charAt(y,A),n.index+=t.length,{value:t,done:!1})});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},classList=documentCreateElement("span").classList,DOMTokenListPrototype=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype===Object.prototype?void 0:DOMTokenListPrototype,ITERATOR$2=wellKnownSymbol("iterator"),TO_STRING_TAG=wellKnownSymbol("toStringTag"),ArrayValues=es_array_iterator.values,handlePrototype$1=function(e,t){if(e){if(e[ITERATOR$2]!==ArrayValues)try{createNonEnumerableProperty(e,ITERATOR$2,ArrayValues)}catch{e[ITERATOR$2]=ArrayValues}if(e[TO_STRING_TAG]||createNonEnumerableProperty(e,TO_STRING_TAG,t),domIterables[t]){for(var n in es_array_iterator)if(e[n]!==es_array_iterator[n])try{createNonEnumerableProperty(e,n,es_array_iterator[n])}catch{e[n]=es_array_iterator[n]}}}};for(var COLLECTION_NAME$1 in domIterables)handlePrototype$1(global$1[COLLECTION_NAME$1]&&global$1[COLLECTION_NAME$1].prototype,COLLECTION_NAME$1);handlePrototype$1(domTokenListPrototype,"DOMTokenList");var ITERATOR$1=wellKnownSymbol("iterator"),nativeUrl=!fails(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach(function(y,A){t.delete("b"),n+=A+y}),isPure&&!e.toJSON||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[ITERATOR$1]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"}),callWithSafeIterationClosing=function(e,t,n,y){try{return y?t(anObject(n)[0],n[1]):t(n)}catch(A){iteratorClose(e,"throw",A)}},arrayFrom=function(t){var n=toObject(t),y=isConstructor(this),A=arguments.length,S=A>1?arguments[1]:void 0,P=S!==void 0;P&&(S=functionBindContext(S,A>2?arguments[2]:void 0,2));var F,z,Y,ee,te,ne,oe=getIteratorMethod(n),ie=0;if(!oe||this==Array&&isArrayIteratorMethod(oe))for(F=toLength(n.length),z=y?new this(F):Array(F);F>ie;ie++)ne=P?S(n[ie],ie):n[ie],createProperty(z,ie,ne);else for(te=(ee=getIterator(n,oe)).next,z=y?new this:[];!(Y=te.call(ee)).done;ie++)ne=P?callWithSafeIterationClosing(ee,S,[Y.value,ie],!0):Y.value,createProperty(z,ie,ne);return z.length=ie,z},maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexNonASCII=/[^\0-\u007E]/,regexSeparators=/[.\u3002\uFF0E\uFF61]/g,OVERFLOW_ERROR="Overflow: input needs wider integers to process",baseMinusTMin=base-tMin,floor$2=Math.floor,stringFromCharCode=String.fromCharCode,ucs2decode=function(e){for(var t=[],n=0,y=e.length;n<y;){var A=e.charCodeAt(n++);if(A>=55296&&A<=56319&&n<y){var S=e.charCodeAt(n++);(64512&S)==56320?t.push(((1023&A)<<10)+(1023&S)+65536):(t.push(A),n--)}else t.push(A)}return t},digitToBasic=function(e){return e+22+75*(e<26)},adapt=function(e,t,n){var y=0;for(e=n?floor$2(e/damp):e>>1,e+=floor$2(e/t);e>baseMinusTMin*tMax>>1;y+=base)e=floor$2(e/baseMinusTMin);return floor$2(y+(baseMinusTMin+1)*e/(e+skew))},encode=function(e){var t,n,y=[],A=(e=ucs2decode(e)).length,S=initialN,P=0,F=initialBias;for(t=0;t<e.length;t++)(n=e[t])<128&&y.push(stringFromCharCode(n));var z=y.length,Y=z;for(z&&y.push(delimiter);Y<A;){var ee=maxInt;for(t=0;t<e.length;t++)(n=e[t])>=S&&n<ee&&(ee=n);var te=Y+1;if(ee-S>floor$2((maxInt-P)/te))throw RangeError(OVERFLOW_ERROR);for(P+=(ee-S)*te,S=ee,t=0;t<e.length;t++){if((n=e[t])<S&&++P>maxInt)throw RangeError(OVERFLOW_ERROR);if(n==S){for(var ne=P,oe=base;;oe+=base){var ie=oe<=F?tMin:oe>=F+tMax?tMax:oe-F;if(ne<ie)break;var se=ne-ie,ae=base-ie;y.push(stringFromCharCode(digitToBasic(ie+se%ae))),ne=floor$2(se/ae)}y.push(stringFromCharCode(digitToBasic(ne))),F=adapt(P,te,Y==z),P=0,++Y}}++P,++S}return y.join("")},stringPunycodeToAscii=function(e){var t,n,y=[],A=e.toLowerCase().replace(regexSeparators,".").split(".");for(t=0;t<A.length;t++)n=A[t],y.push(regexNonASCII.test(n)?"xn--"+encode(n):n);return y.join(".")},nativeFetch=getBuiltIn("fetch"),NativeRequest=getBuiltIn("Request"),RequestPrototype=NativeRequest&&NativeRequest.prototype,Headers=getBuiltIn("Headers"),ITERATOR=wellKnownSymbol("iterator"),URL_SEARCH_PARAMS="URLSearchParams",URL_SEARCH_PARAMS_ITERATOR=URL_SEARCH_PARAMS+"Iterator",setInternalState$1=internalState.set,getInternalParamsState=internalState.getterFor(URL_SEARCH_PARAMS),getInternalIteratorState=internalState.getterFor(URL_SEARCH_PARAMS_ITERATOR),plus=/\+/g,sequences=Array(4),percentSequence=function(e){return sequences[e-1]||(sequences[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},percentDecode=function(e){try{return decodeURIComponent(e)}catch{return e}},deserialize=function(e){var t=e.replace(plus," "),n=4;try{return decodeURIComponent(t)}catch{for(;n;)t=t.replace(percentSequence(n--),percentDecode);return t}},find=/[!'()~]|%20/g,replace$1={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function(e){return replace$1[e]},serialize=function(e){return encodeURIComponent(e).replace(find,replacer)},parseSearchParams=function(e,t){if(t)for(var n,y,A=t.split("&"),S=0;S<A.length;)(n=A[S++]).length&&(y=n.split("="),e.push({key:deserialize(y.shift()),value:deserialize(y.join("="))}))},updateSearchParams=function(e){this.entries.length=0,parseSearchParams(this.entries,e)},validateArgumentsLength=function(e,t){if(e<t)throw TypeError("Not enough arguments")},URLSearchParamsIterator=createIteratorConstructor(function(t,n){setInternalState$1(this,{type:URL_SEARCH_PARAMS_ITERATOR,iterator:getIterator(getInternalParamsState(t).entries),kind:n})},"Iterator",function(){var t=getInternalIteratorState(this),n=t.kind,y=t.iterator.next(),A=y.value;return y.done||(y.value=n==="keys"?A.key:n==="values"?A.value:[A.key,A.value]),y}),URLSearchParamsConstructor=function(){anInstance(this,URLSearchParamsConstructor,URL_SEARCH_PARAMS);var t,n,y,A,S,P,F,z,Y,ee=arguments.length>0?arguments[0]:void 0,te=this,ne=[];if(setInternalState$1(te,{type:URL_SEARCH_PARAMS,entries:ne,updateURL:function(){},updateSearchParams}),ee!==void 0)if(isObject(ee))if(t=getIteratorMethod(ee))for(y=(n=getIterator(ee,t)).next;!(A=y.call(n)).done;){if((F=(P=(S=getIterator(anObject(A.value))).next).call(S)).done||(z=P.call(S)).done||!P.call(S).done)throw TypeError("Expected sequence with length 2");ne.push({key:toString(F.value),value:toString(z.value)})}else for(Y in ee)has$1(ee,Y)&&ne.push({key:Y,value:toString(ee[Y])});else parseSearchParams(ne,typeof ee=="string"?ee.charAt(0)==="?"?ee.slice(1):ee:toString(ee))},URLSearchParamsPrototype=URLSearchParamsConstructor.prototype;if(redefineAll(URLSearchParamsPrototype,{append:function(t,n){validateArgumentsLength(arguments.length,2);var y=getInternalParamsState(this);y.entries.push({key:toString(t),value:toString(n)}),y.updateURL()},delete:function(e){validateArgumentsLength(arguments.length,1);for(var t=getInternalParamsState(this),n=t.entries,y=toString(e),A=0;A<n.length;)n[A].key===y?n.splice(A,1):A++;t.updateURL()},get:function(t){validateArgumentsLength(arguments.length,1);for(var n=getInternalParamsState(this).entries,y=toString(t),A=0;A<n.length;A++)if(n[A].key===y)return n[A].value;return null},getAll:function(t){validateArgumentsLength(arguments.length,1);for(var n=getInternalParamsState(this).entries,y=toString(t),A=[],S=0;S<n.length;S++)n[S].key===y&&A.push(n[S].value);return A},has:function(t){validateArgumentsLength(arguments.length,1);for(var n=getInternalParamsState(this).entries,y=toString(t),A=0;A<n.length;)if(n[A++].key===y)return!0;return!1},set:function(t,n){validateArgumentsLength(arguments.length,1);for(var y,A=getInternalParamsState(this),S=A.entries,P=!1,F=toString(t),z=toString(n),Y=0;Y<S.length;Y++)(y=S[Y]).key===F&&(P?S.splice(Y--,1):(P=!0,y.value=z));P||S.push({key:F,value:z}),A.updateURL()},sort:function(){var t,n,y,A=getInternalParamsState(this),S=A.entries,P=S.slice();for(S.length=0,y=0;y<P.length;y++){for(t=P[y],n=0;n<y;n++)if(S[n].key>t.key){S.splice(n,0,t);break}n===y&&S.push(t)}A.updateURL()},forEach:function(t){for(var n,y=getInternalParamsState(this).entries,A=functionBindContext(t,arguments.length>1?arguments[1]:void 0,3),S=0;S<y.length;)A((n=y[S++]).value,n.key,this)},keys:function(){return new URLSearchParamsIterator(this,"keys")},values:function(){return new URLSearchParamsIterator(this,"values")},entries:function(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:!0}),redefine(URLSearchParamsPrototype,ITERATOR,URLSearchParamsPrototype.entries,{name:"entries"}),redefine(URLSearchParamsPrototype,"toString",function(){for(var t,n=getInternalParamsState(this).entries,y=[],A=0;A<n.length;)t=n[A++],y.push(serialize(t.key)+"="+serialize(t.value));return y.join("&")},{enumerable:!0}),setToStringTag(URLSearchParamsConstructor,URL_SEARCH_PARAMS),_export({global:!0,forced:!nativeUrl},{URLSearchParams:URLSearchParamsConstructor}),!nativeUrl&&isCallable(Headers)){var wrapRequestOptions=function(e){if(isObject(e)){var t,n=e.body;if(classof(n)===URL_SEARCH_PARAMS)return(t=e.headers?new Headers(e.headers):new Headers).has("content-type")||t.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),objectCreate(e,{body:createPropertyDescriptor(0,String(n)),headers:createPropertyDescriptor(0,t)})}return e};if(isCallable(nativeFetch)&&_export({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return nativeFetch(t,arguments.length>1?wrapRequestOptions(arguments[1]):{})}}),isCallable(NativeRequest)){var RequestConstructor=function(t){return anInstance(this,RequestConstructor,"Request"),new NativeRequest(t,arguments.length>1?wrapRequestOptions(arguments[1]):{})};RequestPrototype.constructor=RequestConstructor,RequestConstructor.prototype=RequestPrototype,_export({global:!0,forced:!0},{Request:RequestConstructor})}}var web_urlSearchParams={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState},codeAt=stringMultibyte.codeAt,NativeURL=global$1.URL,URLSearchParams$1=web_urlSearchParams.URLSearchParams,getInternalSearchParamsState=web_urlSearchParams.getState,setInternalState=internalState.set,getInternalURLState=internalState.getterFor("URL"),floor$1=Math.floor,pow=Math.pow,INVALID_AUTHORITY="Invalid authority",INVALID_SCHEME="Invalid scheme",INVALID_HOST="Invalid host",INVALID_PORT="Invalid port",ALPHA=/[A-Za-z]/,ALPHANUMERIC=/[\d+-.A-Za-z]/,DIGIT=/\d/,HEX_START=/^0x/i,OCT=/^[0-7]+$/,DEC=/^\d+$/,HEX=/^[\dA-Fa-f]+$/,FORBIDDEN_HOST_CODE_POINT=/[\0\t\n\r #%/:<>?@[\\\]^|]/,FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\0\t\n\r #/:<>?@[\\\]^|]/,LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,TAB_AND_NEW_LINE=/[\t\n\r]/g,EOF,parseHost=function(e,t){var n,y,A;if(t.charAt(0)=="["){if(t.charAt(t.length-1)!="]"||!(n=parseIPv6(t.slice(1,-1))))return INVALID_HOST;e.host=n}else if(isSpecial(e)){if(t=stringPunycodeToAscii(t),FORBIDDEN_HOST_CODE_POINT.test(t)||(n=parseIPv4(t))===null)return INVALID_HOST;e.host=n}else{if(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(t))return INVALID_HOST;for(n="",y=arrayFrom(t),A=0;A<y.length;A++)n+=percentEncode(y[A],C0ControlPercentEncodeSet);e.host=n}},parseIPv4=function(e){var t,n,y,A,S,P,F,z=e.split(".");if(z.length&&z[z.length-1]==""&&z.pop(),(t=z.length)>4)return e;for(n=[],y=0;y<t;y++){if((A=z[y])=="")return e;if(S=10,A.length>1&&A.charAt(0)=="0"&&(S=HEX_START.test(A)?16:8,A=A.slice(S==8?1:2)),A==="")P=0;else{if(!(S==10?DEC:S==8?OCT:HEX).test(A))return e;P=parseInt(A,S)}n.push(P)}for(y=0;y<t;y++)if(P=n[y],y==t-1){if(P>=pow(256,5-t))return null}else if(P>255)return null;for(F=n.pop(),y=0;y<n.length;y++)F+=n[y]*pow(256,3-y);return F},parseIPv6=function(e){var t,n,y,A,S,P,F,z=[0,0,0,0,0,0,0,0],Y=0,ee=null,te=0,ne=function(){return e.charAt(te)};if(ne()==":"){if(e.charAt(1)!=":")return;te+=2,ee=++Y}for(;ne();){if(Y==8)return;if(ne()!=":"){for(t=n=0;n<4&&HEX.test(ne());)t=16*t+parseInt(ne(),16),te++,n++;if(ne()=="."){if(n==0||(te-=n,Y>6))return;for(y=0;ne();){if(A=null,y>0){if(!(ne()=="."&&y<4))return;te++}if(!DIGIT.test(ne()))return;for(;DIGIT.test(ne());){if(S=parseInt(ne(),10),A===null)A=S;else{if(A==0)return;A=10*A+S}if(A>255)return;te++}z[Y]=256*z[Y]+A,++y!=2&&y!=4||Y++}if(y!=4)return;break}if(ne()==":"){if(te++,!ne())return}else if(ne())return;z[Y++]=t}else{if(ee!==null)return;te++,ee=++Y}}if(ee!==null)for(P=Y-ee,Y=7;Y!=0&&P>0;)F=z[Y],z[Y--]=z[ee+P-1],z[ee+--P]=F;else if(Y!=8)return;return z},findLongestZeroSequence=function(e){for(var t=null,n=1,y=null,A=0,S=0;S<8;S++)e[S]!==0?(A>n&&(t=y,n=A),y=null,A=0):(y===null&&(y=S),++A);return A>n&&(t=y,n=A),t},serializeHost=function(e){var t,n,y,A;if(typeof e=="number"){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=floor$1(e/256);return t.join(".")}if(typeof e=="object"){for(t="",y=findLongestZeroSequence(e),n=0;n<8;n++)A&&e[n]===0||(A&&(A=!1),y===n?(t+=n?":":"::",A=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},C0ControlPercentEncodeSet={},fragmentPercentEncodeSet=objectAssign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1}),pathPercentEncodeSet=objectAssign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1}),userinfoPercentEncodeSet=objectAssign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function(e,t){var n=codeAt(e,0);return n>32&&n<127&&!has$1(t,e)?e:encodeURIComponent(e)},specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isSpecial=function(e){return has$1(specialSchemes,e.scheme)},includesCredentials=function(e){return e.username!=""||e.password!=""},cannotHaveUsernamePasswordPort=function(e){return!e.host||e.cannotBeABaseURL||e.scheme=="file"},isWindowsDriveLetter=function(e,t){var n;return e.length==2&&ALPHA.test(e.charAt(0))&&((n=e.charAt(1))==":"||!t&&n=="|")},startsWithWindowsDriveLetter=function(e){var t;return e.length>1&&isWindowsDriveLetter(e.slice(0,2))&&(e.length==2||(t=e.charAt(2))==="/"||t==="\\"||t==="?"||t==="#")},shortenURLsPath=function(e){var t=e.path,n=t.length;!n||e.scheme=="file"&&n==1&&isWindowsDriveLetter(t[0],!0)||t.pop()},isSingleDot=function(e){return e==="."||e.toLowerCase()==="%2e"},isDoubleDot=function(e){return(e=e.toLowerCase())===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},SCHEME_START={},SCHEME={},NO_SCHEME={},SPECIAL_RELATIVE_OR_AUTHORITY={},PATH_OR_AUTHORITY={},RELATIVE={},RELATIVE_SLASH={},SPECIAL_AUTHORITY_SLASHES={},SPECIAL_AUTHORITY_IGNORE_SLASHES={},AUTHORITY={},HOST={},HOSTNAME={},PORT={},FILE={},FILE_SLASH={},FILE_HOST={},PATH_START={},PATH={},CANNOT_BE_A_BASE_URL_PATH={},QUERY={},FRAGMENT={},parseURL=function(e,t,n,y){var A,S,P,F,z=n||SCHEME_START,Y=0,ee="",te=!1,ne=!1,oe=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE,"")),t=t.replace(TAB_AND_NEW_LINE,""),A=arrayFrom(t);Y<=A.length;){switch(S=A[Y],z){case SCHEME_START:if(!S||!ALPHA.test(S)){if(n)return INVALID_SCHEME;z=NO_SCHEME;continue}ee+=S.toLowerCase(),z=SCHEME;break;case SCHEME:if(S&&(ALPHANUMERIC.test(S)||S=="+"||S=="-"||S=="."))ee+=S.toLowerCase();else{if(S!=":"){if(n)return INVALID_SCHEME;ee="",z=NO_SCHEME,Y=0;continue}if(n&&(isSpecial(e)!=has$1(specialSchemes,ee)||ee=="file"&&(includesCredentials(e)||e.port!==null)||e.scheme=="file"&&!e.host))return;if(e.scheme=ee,n)return void(isSpecial(e)&&specialSchemes[e.scheme]==e.port&&(e.port=null));ee="",e.scheme=="file"?z=FILE:isSpecial(e)&&y&&y.scheme==e.scheme?z=SPECIAL_RELATIVE_OR_AUTHORITY:isSpecial(e)?z=SPECIAL_AUTHORITY_SLASHES:A[Y+1]=="/"?(z=PATH_OR_AUTHORITY,Y++):(e.cannotBeABaseURL=!0,e.path.push(""),z=CANNOT_BE_A_BASE_URL_PATH)}break;case NO_SCHEME:if(!y||y.cannotBeABaseURL&&S!="#")return INVALID_SCHEME;if(y.cannotBeABaseURL&&S=="#"){e.scheme=y.scheme,e.path=y.path.slice(),e.query=y.query,e.fragment="",e.cannotBeABaseURL=!0,z=FRAGMENT;break}z=y.scheme=="file"?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if(S!="/"||A[Y+1]!="/"){z=RELATIVE;continue}z=SPECIAL_AUTHORITY_IGNORE_SLASHES,Y++;break;case PATH_OR_AUTHORITY:if(S=="/"){z=AUTHORITY;break}z=PATH;continue;case RELATIVE:if(e.scheme=y.scheme,S==EOF)e.username=y.username,e.password=y.password,e.host=y.host,e.port=y.port,e.path=y.path.slice(),e.query=y.query;else if(S=="/"||S=="\\"&&isSpecial(e))z=RELATIVE_SLASH;else if(S=="?")e.username=y.username,e.password=y.password,e.host=y.host,e.port=y.port,e.path=y.path.slice(),e.query="",z=QUERY;else{if(S!="#"){e.username=y.username,e.password=y.password,e.host=y.host,e.port=y.port,e.path=y.path.slice(),e.path.pop(),z=PATH;continue}e.username=y.username,e.password=y.password,e.host=y.host,e.port=y.port,e.path=y.path.slice(),e.query=y.query,e.fragment="",z=FRAGMENT}break;case RELATIVE_SLASH:if(!isSpecial(e)||S!="/"&&S!="\\"){if(S!="/"){e.username=y.username,e.password=y.password,e.host=y.host,e.port=y.port,z=PATH;continue}z=AUTHORITY}else z=SPECIAL_AUTHORITY_IGNORE_SLASHES;break;case SPECIAL_AUTHORITY_SLASHES:if(z=SPECIAL_AUTHORITY_IGNORE_SLASHES,S!="/"||ee.charAt(Y+1)!="/")continue;Y++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if(S!="/"&&S!="\\"){z=AUTHORITY;continue}break;case AUTHORITY:if(S=="@"){te&&(ee="%40"+ee),te=!0,P=arrayFrom(ee);for(var ie=0;ie<P.length;ie++){var se=P[ie];if(se!=":"||oe){var ae=percentEncode(se,userinfoPercentEncodeSet);oe?e.password+=ae:e.username+=ae}else oe=!0}ee=""}else if(S==EOF||S=="/"||S=="?"||S=="#"||S=="\\"&&isSpecial(e)){if(te&&ee=="")return INVALID_AUTHORITY;Y-=arrayFrom(ee).length+1,ee="",z=HOST}else ee+=S;break;case HOST:case HOSTNAME:if(n&&e.scheme=="file"){z=FILE_HOST;continue}if(S!=":"||ne){if(S==EOF||S=="/"||S=="?"||S=="#"||S=="\\"&&isSpecial(e)){if(isSpecial(e)&&ee=="")return INVALID_HOST;if(n&&ee==""&&(includesCredentials(e)||e.port!==null))return;if(F=parseHost(e,ee))return F;if(ee="",z=PATH_START,n)return;continue}S=="["?ne=!0:S=="]"&&(ne=!1),ee+=S}else{if(ee=="")return INVALID_HOST;if(F=parseHost(e,ee))return F;if(ee="",z=PORT,n==HOSTNAME)return}break;case PORT:if(!DIGIT.test(S)){if(S==EOF||S=="/"||S=="?"||S=="#"||S=="\\"&&isSpecial(e)||n){if(ee!=""){var le=parseInt(ee,10);if(le>65535)return INVALID_PORT;e.port=isSpecial(e)&&le===specialSchemes[e.scheme]?null:le,ee=""}if(n)return;z=PATH_START;continue}return INVALID_PORT}ee+=S;break;case FILE:if(e.scheme="file",S=="/"||S=="\\")z=FILE_SLASH;else{if(!y||y.scheme!="file"){z=PATH;continue}if(S==EOF)e.host=y.host,e.path=y.path.slice(),e.query=y.query;else if(S=="?")e.host=y.host,e.path=y.path.slice(),e.query="",z=QUERY;else{if(S!="#"){startsWithWindowsDriveLetter(A.slice(Y).join(""))||(e.host=y.host,e.path=y.path.slice(),shortenURLsPath(e)),z=PATH;continue}e.host=y.host,e.path=y.path.slice(),e.query=y.query,e.fragment="",z=FRAGMENT}}break;case FILE_SLASH:if(S=="/"||S=="\\"){z=FILE_HOST;break}y&&y.scheme=="file"&&!startsWithWindowsDriveLetter(A.slice(Y).join(""))&&(isWindowsDriveLetter(y.path[0],!0)?e.path.push(y.path[0]):e.host=y.host),z=PATH;continue;case FILE_HOST:if(S==EOF||S=="/"||S=="\\"||S=="?"||S=="#"){if(!n&&isWindowsDriveLetter(ee))z=PATH;else if(ee==""){if(e.host="",n)return;z=PATH_START}else{if(F=parseHost(e,ee))return F;if(e.host=="localhost"&&(e.host=""),n)return;ee="",z=PATH_START}continue}ee+=S;break;case PATH_START:if(isSpecial(e)){if(z=PATH,S!="/"&&S!="\\")continue}else if(n||S!="?")if(n||S!="#"){if(S!=EOF&&(z=PATH,S!="/"))continue}else e.fragment="",z=FRAGMENT;else e.query="",z=QUERY;break;case PATH:if(S==EOF||S=="/"||S=="\\"&&isSpecial(e)||!n&&(S=="?"||S=="#")){if(isDoubleDot(ee)?(shortenURLsPath(e),S=="/"||S=="\\"&&isSpecial(e)||e.path.push("")):isSingleDot(ee)?S=="/"||S=="\\"&&isSpecial(e)||e.path.push(""):(e.scheme=="file"&&!e.path.length&&isWindowsDriveLetter(ee)&&(e.host&&(e.host=""),ee=ee.charAt(0)+":"),e.path.push(ee)),ee="",e.scheme=="file"&&(S==EOF||S=="?"||S=="#"))for(;e.path.length>1&&e.path[0]==="";)e.path.shift();S=="?"?(e.query="",z=QUERY):S=="#"&&(e.fragment="",z=FRAGMENT)}else ee+=percentEncode(S,pathPercentEncodeSet);break;case CANNOT_BE_A_BASE_URL_PATH:S=="?"?(e.query="",z=QUERY):S=="#"?(e.fragment="",z=FRAGMENT):S!=EOF&&(e.path[0]+=percentEncode(S,C0ControlPercentEncodeSet));break;case QUERY:n||S!="#"?S!=EOF&&(S=="'"&&isSpecial(e)?e.query+="%27":e.query+=S=="#"?"%23":percentEncode(S,C0ControlPercentEncodeSet)):(e.fragment="",z=FRAGMENT);break;case FRAGMENT:S!=EOF&&(e.fragment+=percentEncode(S,fragmentPercentEncodeSet))}Y++}},URLConstructor=function(t){var n,y,A=anInstance(this,URLConstructor,"URL"),S=arguments.length>1?arguments[1]:void 0,P=toString(t),F=setInternalState(A,{type:"URL"});if(S!==void 0){if(S instanceof URLConstructor)n=getInternalURLState(S);else if(y=parseURL(n={},toString(S)))throw TypeError(y)}if(y=parseURL(F,P,null,n))throw TypeError(y);var z=F.searchParams=new URLSearchParams$1,Y=getInternalSearchParamsState(z);Y.updateSearchParams(F.query),Y.updateURL=function(){F.query=String(z)||null},descriptors||(A.href=serializeURL.call(A),A.origin=getOrigin.call(A),A.protocol=getProtocol.call(A),A.username=getUsername.call(A),A.password=getPassword.call(A),A.host=getHost.call(A),A.hostname=getHostname.call(A),A.port=getPort.call(A),A.pathname=getPathname.call(A),A.search=getSearch.call(A),A.searchParams=getSearchParams.call(A),A.hash=getHash.call(A))},URLPrototype=URLConstructor.prototype,serializeURL=function(){var e=getInternalURLState(this),t=e.scheme,n=e.username,y=e.password,A=e.host,S=e.port,P=e.path,F=e.query,z=e.fragment,Y=t+":";return A!==null?(Y+="//",includesCredentials(e)&&(Y+=n+(y?":"+y:"")+"@"),Y+=serializeHost(A),S!==null&&(Y+=":"+S)):t=="file"&&(Y+="//"),Y+=e.cannotBeABaseURL?P[0]:P.length?"/"+P.join("/"):"",F!==null&&(Y+="?"+F),z!==null&&(Y+="#"+z),Y},getOrigin=function(){var e=getInternalURLState(this),t=e.scheme,n=e.port;if(t=="blob")try{return new URLConstructor(t.path[0]).origin}catch{return"null"}return t!="file"&&isSpecial(e)?t+"://"+serializeHost(e.host)+(n!==null?":"+n:""):"null"},getProtocol=function(){return getInternalURLState(this).scheme+":"},getUsername=function(){return getInternalURLState(this).username},getPassword=function(){return getInternalURLState(this).password},getHost=function(){var e=getInternalURLState(this),t=e.host,n=e.port;return t===null?"":n===null?serializeHost(t):serializeHost(t)+":"+n},getHostname=function(){var e=getInternalURLState(this).host;return e===null?"":serializeHost(e)},getPort=function(){var e=getInternalURLState(this).port;return e===null?"":String(e)},getPathname=function(){var e=getInternalURLState(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},getSearch=function(){var e=getInternalURLState(this).query;return e?"?"+e:""},getSearchParams=function(){return getInternalURLState(this).searchParams},getHash=function(){var e=getInternalURLState(this).fragment;return e?"#"+e:""},accessorDescriptor=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(descriptors&&objectDefineProperties(URLPrototype,{href:accessorDescriptor(serializeURL,function(e){var t=getInternalURLState(this),n=toString(e),y=parseURL(t,n);if(y)throw TypeError(y);getInternalSearchParamsState(t.searchParams).updateSearchParams(t.query)}),origin:accessorDescriptor(getOrigin),protocol:accessorDescriptor(getProtocol,function(e){var t=getInternalURLState(this);parseURL(t,toString(e)+":",SCHEME_START)}),username:accessorDescriptor(getUsername,function(e){var t=getInternalURLState(this),n=arrayFrom(toString(e));if(!cannotHaveUsernamePasswordPort(t)){t.username="";for(var y=0;y<n.length;y++)t.username+=percentEncode(n[y],userinfoPercentEncodeSet)}}),password:accessorDescriptor(getPassword,function(e){var t=getInternalURLState(this),n=arrayFrom(toString(e));if(!cannotHaveUsernamePasswordPort(t)){t.password="";for(var y=0;y<n.length;y++)t.password+=percentEncode(n[y],userinfoPercentEncodeSet)}}),host:accessorDescriptor(getHost,function(e){var t=getInternalURLState(this);t.cannotBeABaseURL||parseURL(t,toString(e),HOST)}),hostname:accessorDescriptor(getHostname,function(e){var t=getInternalURLState(this);t.cannotBeABaseURL||parseURL(t,toString(e),HOSTNAME)}),port:accessorDescriptor(getPort,function(e){var t=getInternalURLState(this);cannotHaveUsernamePasswordPort(t)||((e=toString(e))==""?t.port=null:parseURL(t,e,PORT))}),pathname:accessorDescriptor(getPathname,function(e){var t=getInternalURLState(this);t.cannotBeABaseURL||(t.path=[],parseURL(t,toString(e),PATH_START))}),search:accessorDescriptor(getSearch,function(e){var t=getInternalURLState(this);(e=toString(e))==""?t.query=null:(e.charAt(0)=="?"&&(e=e.slice(1)),t.query="",parseURL(t,e,QUERY)),getInternalSearchParamsState(t.searchParams).updateSearchParams(t.query)}),searchParams:accessorDescriptor(getSearchParams),hash:accessorDescriptor(getHash,function(e){var t=getInternalURLState(this);(e=toString(e))!=""?(e.charAt(0)=="#"&&(e=e.slice(1)),t.fragment="",parseURL(t,e,FRAGMENT)):t.fragment=null})}),redefine(URLPrototype,"toJSON",function(){return serializeURL.call(this)},{enumerable:!0}),redefine(URLPrototype,"toString",function(){return serializeURL.call(this)},{enumerable:!0}),NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL,nativeRevokeObjectURL=NativeURL.revokeObjectURL;nativeCreateObjectURL&&redefine(URLConstructor,"createObjectURL",function(t){return nativeCreateObjectURL.apply(NativeURL,arguments)}),nativeRevokeObjectURL&&redefine(URLConstructor,"revokeObjectURL",function(t){return nativeRevokeObjectURL.apply(NativeURL,arguments)})}setToStringTag(URLConstructor,"URL"),_export({global:!0,forced:!nativeUrl,sham:!descriptors},{URL:URLConstructor});var $forEach=arrayIteration.forEach,STRICT_METHOD=arrayMethodIsStrict("forEach"),arrayForEach=STRICT_METHOD?[].forEach:function(t){return $forEach(this,t,arguments.length>1?arguments[1]:void 0)},handlePrototype=function(e){if(e&&e.forEach!==arrayForEach)try{createNonEnumerableProperty(e,"forEach",arrayForEach)}catch{e.forEach=arrayForEach}};for(var COLLECTION_NAME in domIterables)handlePrototype(global$1[COLLECTION_NAME]&&global$1[COLLECTION_NAME].prototype);handlePrototype(domTokenListPrototype);var propertyIsEnumerable=objectPropertyIsEnumerable.f,createMethod=function(e){return function(t){for(var n,y=toIndexedObject(t),A=objectKeys(y),S=A.length,P=0,F=[];S>P;)n=A[P++],descriptors&&!propertyIsEnumerable.call(y,n)||F.push(e?[n,y[n]]:y[n]);return F}},objectToArray={entries:createMethod(!0),values:createMethod(!1)},$entries=objectToArray.entries;_export({target:"Object",stat:!0},{entries:function(t){return $entries(t)}});var getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,$startsWith="".startsWith,min$1=Math.min,CORRECT_IS_REGEXP_LOGIC=correctIsRegexpLogic("startsWith"),MDN_POLYFILL_BUG=!(CORRECT_IS_REGEXP_LOGIC||(descriptor=getOwnPropertyDescriptor(String.prototype,"startsWith"),!descriptor||descriptor.writable)),descriptor;_export({target:"String",proto:!0,forced:!MDN_POLYFILL_BUG&&!CORRECT_IS_REGEXP_LOGIC},{startsWith:function(t){var n=toString(requireObjectCoercible(this));notARegexp(t);var y=toLength(min$1(arguments.length>1?arguments[1]:void 0,n.length)),A=toString(t);return $startsWith?$startsWith.call(n,A,y):n.slice(y,y+A.length)===A}});var floor=Math.floor,replace="".replace,SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d{1,2})/g,getSubstitution=function(e,t,n,y,A,S){var P=n+e.length,F=y.length,z=SUBSTITUTION_SYMBOLS_NO_NAMED;return A!==void 0&&(A=toObject(A),z=SUBSTITUTION_SYMBOLS),replace.call(S,z,function(Y,ee){var te;switch(ee.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(P);case"<":te=A[ee.slice(1,-1)];break;default:var ne=+ee;if(ne===0)return Y;if(ne>F){var oe=floor(ne/10);return oe===0?Y:oe<=F?y[oe-1]===void 0?ee.charAt(1):y[oe-1]+ee.charAt(1):Y}te=y[ne-1]}return te===void 0?"":te})},REPLACE=wellKnownSymbol("replace"),max=Math.max,min=Math.min,maybeToString=function(e){return e===void 0?e:String(e)},REPLACE_KEEPS_$0="a".replace(/./,"$0")==="$0",REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=!!/./[REPLACE]&&/./[REPLACE]("a","$0")==="",REPLACE_SUPPORTS_NAMED_GROUPS=!fails(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"});fixRegexpWellKnownSymbolLogic("replace",function(e,t,n){var y=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function(S,P){var F=requireObjectCoercible(this),z=S==null?void 0:getMethod(S,REPLACE);return z?z.call(S,F,P):t.call(toString(F),S,P)},function(A,S){var P=anObject(this),F=toString(A);if(typeof S=="string"&&S.indexOf(y)===-1&&S.indexOf("$<")===-1){var z=n(t,P,F,S);if(z.done)return z.value}var Y=isCallable(S);Y||(S=toString(S));var ee=P.global;if(ee){var te=P.unicode;P.lastIndex=0}for(var ne=[];;){var oe=regexpExecAbstract(P,F);if(oe===null||(ne.push(oe),!ee))break;toString(oe[0])===""&&(P.lastIndex=advanceStringIndex(F,toLength(P.lastIndex),te))}for(var ie="",se=0,ae=0;ae<ne.length;ae++){oe=ne[ae];for(var le=toString(oe[0]),pe=max(min(toInteger(oe.index),F.length),0),ue=[],Ee=1;Ee<oe.length;Ee++)ue.push(maybeToString(oe[Ee]));var ve=oe.groups;if(Y){var me=[le].concat(ue,pe,F);ve!==void 0&&me.push(ve);var he=toString(S.apply(void 0,me))}else he=getSubstitution(le,F,pe,ue,ve,S);pe>=se&&(ie+=F.slice(se,pe)+he,se=pe+le.length)}return ie+F.slice(se)}]},!REPLACE_SUPPORTS_NAMED_GROUPS||!REPLACE_KEEPS_$0||REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);var IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable"),MAX_SAFE_INTEGER=9007199254740991,MAXIMUM_ALLOWED_INDEX_EXCEEDED="Maximum allowed index exceeded",IS_CONCAT_SPREADABLE_SUPPORT=engineV8Version>=51||!fails(function(){var e=[];return e[IS_CONCAT_SPREADABLE]=!1,e.concat()[0]!==e}),SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("concat"),isConcatSpreadable=function(e){if(!isObject(e))return!1;var t=e[IS_CONCAT_SPREADABLE];return t!==void 0?!!t:isArray(e)},FORCED=!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT;_export({target:"Array",proto:!0,forced:FORCED},{concat:function(t){var n,y,A,S,P,F=toObject(this),z=arraySpeciesCreate(F,0),Y=0;for(n=-1,A=arguments.length;n<A;n++)if(isConcatSpreadable(P=n===-1?F:arguments[n])){if(Y+(S=toLength(P.length))>MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);for(y=0;y<S;y++,Y++)y in P&&createProperty(z,Y,P[y])}else{if(Y>=MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);createProperty(z,Y++,P)}return z.length=Y,z}});var cnt=0,imageCompressionLibUrl,worker;function createWorker(e){var t=[];return typeof e=="function"?t.push("(".concat(e,")()")):t.push(e),new Worker(URL.createObjectURL(new Blob(t)))}function createSourceObject(e){return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}function stringify(e){return JSON.stringify(e,function(t,n){return typeof n=="function"?"BIC_FN:::(function () { return ".concat(n.toString()," })()"):n})}function parse(o){if(typeof o=="string")return o;var result={};return Object.entries(o).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if(typeof value=="string"&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(e){throw e}else result[key]=parse(value)}),result}function generateLib(){return createSourceObject(`
    // reconstruct library
    function imageCompression (){return (`.concat(imageCompression,`).apply(null, arguments)}

    imageCompression.getDataUrlFromFile = `).concat(imageCompression.getDataUrlFromFile,`
    imageCompression.getFilefromDataUrl = `).concat(imageCompression.getFilefromDataUrl,`
    imageCompression.loadImage = `).concat(imageCompression.loadImage,`
    imageCompression.drawImageInCanvas = `).concat(imageCompression.drawImageInCanvas,`
    imageCompression.drawFileInCanvas = `).concat(imageCompression.drawFileInCanvas,`
    imageCompression.canvasToFile = `).concat(imageCompression.canvasToFile,`
    imageCompression.getExifOrientation = `).concat(imageCompression.getExifOrientation,`
    imageCompression.handleMaxWidthOrHeight = `).concat(imageCompression.handleMaxWidthOrHeight,`
    imageCompression.followExifOrientation = `).concat(imageCompression.followExifOrientation,`
    imageCompression.cleanupCanvasMemory = `).concat(imageCompression.cleanupCanvasMemory,`
    imageCompression.isAutoOrientationInBrowser = `).concat(imageCompression.isAutoOrientationInBrowser,`
    imageCompression.approximateBelowMaximumCanvasSizeOfBrowser = `).concat(imageCompression.approximateBelowMaximumCanvasSizeOfBrowser,`
    imageCompression.getBrowserName = `).concat(imageCompression.getBrowserName,`

    // functions / objects
    getDataUrlFromFile = imageCompression.getDataUrlFromFile
    getFilefromDataUrl = imageCompression.getFilefromDataUrl
    loadImage = imageCompression.loadImage
    drawImageInCanvas = imageCompression.drawImageInCanvas
    drawFileInCanvas = imageCompression.drawFileInCanvas
    canvasToFile = imageCompression.canvasToFile
    getExifOrientation = imageCompression.getExifOrientation
    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight
    followExifOrientation = imageCompression.followExifOrientation
    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory
    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser
    approximateBelowMaximumCanvasSizeOfBrowser = imageCompression.approximateBelowMaximumCanvasSizeOfBrowser
    getBrowserName = imageCompression.getBrowserName
    isIOS = `).concat(isIOS,`
    
    getNewCanvasAndCtx = `).concat(getNewCanvasAndCtx,`
    CustomFileReader = FileReader
    CustomFile = File
    MAX_CANVAS_SIZE = `).concat(JSON.stringify(MAX_CANVAS_SIZE),`
    BROWSER_NAME = `).concat(JSON.stringify(BROWSER_NAME),`
    function compress (){return (`).concat(compress,`).apply(null, arguments)}

    // core-js
    function _slicedToArray(arr, n) { return arr }
    function _typeof(a) { return typeof a }
    function _objectSpread2(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
  
        Object.assign(target, source)
      }
  
      return target;
    }

    // Libraries
    const parse = `).concat(parse,`
    const UPNG = {}
    UPNG.toRGBA8 = `).concat(UPNG.toRGBA8,`
    UPNG.toRGBA8.decodeImage = `).concat(UPNG.toRGBA8.decodeImage,`
    UPNG.decode = `).concat(UPNG.decode,`
    UPNG.decode._decompress = `).concat(UPNG.decode._decompress,`
    UPNG.decode._inflate = `).concat(UPNG.decode._inflate,`
    UPNG.decode._readInterlace = `).concat(UPNG.decode._readInterlace,`
    UPNG.decode._getBPP = `).concat(UPNG.decode._getBPP,` 
    UPNG.decode._filterZero = `).concat(UPNG.decode._filterZero,`
    UPNG.decode._paeth = `).concat(UPNG.decode._paeth,`
    UPNG.decode._IHDR = `).concat(UPNG.decode._IHDR,`
    UPNG._bin = parse(`).concat(stringify(UPNG._bin),`)
    UPNG._copyTile = `).concat(UPNG._copyTile,`
    UPNG.encode = `).concat(UPNG.encode,`
    UPNG.encodeLL = `).concat(UPNG.encodeLL,` 
    UPNG.encode._main = `).concat(UPNG.encode._main,`
    UPNG.encode.compressPNG = `).concat(UPNG.encode.compressPNG,` 
    UPNG.encode.compress = `).concat(UPNG.encode.compress,`
    UPNG.encode.framize = `).concat(UPNG.encode.framize,` 
    UPNG.encode._updateFrame = `).concat(UPNG.encode._updateFrame,` 
    UPNG.encode._prepareDiff = `).concat(UPNG.encode._prepareDiff,` 
    UPNG.encode._filterZero = `).concat(UPNG.encode._filterZero,` 
    UPNG.encode._filterLine = `).concat(UPNG.encode._filterLine,`
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.crc = parse(`).concat(stringify(UPNG.crc),`)
    UPNG.crc.table = ( function() {
    var tab = new Uint32Array(256);
    for (var n=0; n<256; n++) {
      var c = n;
      for (var k=0; k<8; k++) {
        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
        else        c = c >>> 1;
      }
      tab[n] = c;  }
    return tab;  })()
    UPNG.quantize = `).concat(UPNG.quantize,` 
    UPNG.quantize.getKDtree = `).concat(UPNG.quantize.getKDtree,` 
    UPNG.quantize.getNearest = `).concat(UPNG.quantize.getNearest,` 
    UPNG.quantize.planeDst = `).concat(UPNG.quantize.planeDst,` 
    UPNG.quantize.dist = `).concat(UPNG.quantize.dist,`     
    UPNG.quantize.splitPixels = `).concat(UPNG.quantize.splitPixels,` 
    UPNG.quantize.vecDot = `).concat(UPNG.quantize.vecDot,` 
    UPNG.quantize.stats = `).concat(UPNG.quantize.stats,` 
    UPNG.quantize.estats = `).concat(UPNG.quantize.estats,`
    UPNG.M4 = parse(`).concat(stringify(UPNG.M4),`)
    UPNG.encode.concatRGBA = `).concat(UPNG.encode.concatRGBA,`
    UPNG.inflateRaw=function(){
    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;
      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;
      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);
        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;
        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;
        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;
                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;
        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);
        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;
        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);
        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};
      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};
      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;
        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);
          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;
        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};
      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;
        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];
          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);
        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;
                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};
      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};
      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};
      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;
        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();
      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;
        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;
        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];
        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);
        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);
        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()
    
    const UZIP = {}
    UZIP["parse"] = `).concat(UZIP_1.parse,`
    UZIP._readLocal = `).concat(UZIP_1._readLocal,`
    UZIP.inflateRaw = `).concat(UZIP_1.inflateRaw,`
    UZIP.inflate = `).concat(UZIP_1.inflate,`
    UZIP.deflate = `).concat(UZIP_1.deflate,`
    UZIP.deflateRaw = `).concat(UZIP_1.deflateRaw,`
    UZIP.encode = `).concat(UZIP_1.encode,`
    UZIP._noNeed = `).concat(UZIP_1._noNeed,`
    UZIP._writeHeader = `).concat(UZIP_1._writeHeader,`
    UZIP.crc = parse(`).concat(stringify(UZIP_1.crc),`)
    UZIP.crc.table = ( function() {
      var tab = new Uint32Array(256);
      for (var n=0; n<256; n++) {
        var c = n;
        for (var k=0; k<8; k++) {
          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);
          else        c = c >>> 1;
        }
        tab[n] = c;  }
      return tab;  })()
    
    UZIP.adler = `).concat(UZIP_1.adler,`
    UZIP.bin = parse(`).concat(stringify(UZIP_1.bin),`)
    UZIP.F = {}
    UZIP.F.deflateRaw = `).concat(UZIP_1.F.deflateRaw,`
    UZIP.F._bestMatch = `).concat(UZIP_1.F._bestMatch,`
    UZIP.F._howLong = `).concat(UZIP_1.F._howLong,`
    UZIP.F._hash = `).concat(UZIP_1.F._hash,`
    UZIP.saved = `).concat(UZIP_1.saved,`
    UZIP.F._writeBlock = `).concat(UZIP_1.F._writeBlock,`
    UZIP.F._copyExact = `).concat(UZIP_1.F._copyExact,`
    UZIP.F.getTrees = `).concat(UZIP_1.F.getTrees,`
    UZIP.F.getSecond = `).concat(UZIP_1.F.getSecond,`
    UZIP.F.nonZero = `).concat(UZIP_1.F.nonZero,`
    UZIP.F.contSize = `).concat(UZIP_1.F.contSize,`
    UZIP.F._codeTiny = `).concat(UZIP_1.F._codeTiny,` 
    UZIP.F._lenCodes = `).concat(UZIP_1.F._lenCodes,` 
    UZIP.F._hufTree = `).concat(UZIP_1.F._hufTree,` 
    UZIP.F.setDepth = `).concat(UZIP_1.F.setDepth,` 
    UZIP.F.restrictDepth = `).concat(UZIP_1.F.restrictDepth,`
    UZIP.F._goodIndex = `).concat(UZIP_1.F._goodIndex,` 
    UZIP.F._writeLit = `).concat(UZIP_1.F._writeLit,` 
    UZIP.F.inflate = `).concat(UZIP_1.F.inflate,` 
    UZIP.F._check = `).concat(UZIP_1.F._check,` 
    UZIP.F._decodeTiny = `).concat(UZIP_1.F._decodeTiny,` 
    UZIP.F._copyOut = `).concat(UZIP_1.F._copyOut,` 
    UZIP.F.makeCodes = `).concat(UZIP_1.F.makeCodes,` 
    UZIP.F.codes2map = `).concat(UZIP_1.F.codes2map,` 
    UZIP.F.revCodes = `).concat(UZIP_1.F.revCodes,` 

    // used only in deflate
    UZIP.F._putsE = `).concat(UZIP_1.F._putsE,`
    UZIP.F._putsF = `).concat(UZIP_1.F._putsF,`
  
    UZIP.F._bitsE = `).concat(UZIP_1.F._bitsE,`
    UZIP.F._bitsF = `).concat(UZIP_1.F._bitsF,`

    UZIP.F._get17 = `).concat(UZIP_1.F._get17,`
    UZIP.F._get25 = `).concat(UZIP_1.F._get25,`
    UZIP.F.U = function(){
      var u16=Uint16Array, u32=Uint32Array;
      return {
        next_code : new u16(16),
        bl_count  : new u16(16),
        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],
        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],
        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],
        ldef : new u16(32),
        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],
        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],
        ddef : new u32(32),
        flmap: new u16(  512),  fltree: [],
        fdmap: new u16(   32),  fdtree: [],
        lmap : new u16(32768),  ltree : [],  ttree:[],
        dmap : new u16(32768),  dtree : [],
        imap : new u16(  512),  itree : [],
        //rev9 : new u16(  512)
        rev15: new u16(1<<15),
        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),
        lits : new u32(15000),
        strt : new u16(1<<16),
        prev : new u16(1<<15)
      };
    } ();

    (function(){
      var U = UZIP.F.U;
      var len = 1<<15;
      for(var i=0; i<len; i++) {
        var x = i;
        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));
        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));
        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));
        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));
        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;
      }
  
      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }
  
      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }
  
      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);
      /*
        var i = 0;
        for(; i<=143; i++) U.fltree.push(0,8);
        for(; i<=255; i++) U.fltree.push(0,9);
        for(; i<=279; i++) U.fltree.push(0,7);
        for(; i<=287; i++) U.fltree.push(0,8);
        */
      UZIP.F.makeCodes(U.fltree, 9);
      UZIP.F.codes2map(U.fltree, 9, U.flmap);
      UZIP.F.revCodes (U.fltree, 9)
  
      pushV(U.fdtree,32,5);
      //for(i=0;i<32; i++) U.fdtree.push(0,5);
      UZIP.F.makeCodes(U.fdtree, 5);
      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);
      UZIP.F.revCodes (U.fdtree, 5)
  
      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);
      /*
        for(var i=0; i< 19; i++) U.itree.push(0,0);
        for(var i=0; i<286; i++) U.ltree.push(0,0);
        for(var i=0; i< 30; i++) U.dtree.push(0,0);
        for(var i=0; i<320; i++) U.ttree.push(0,0);
        */
    })()
    `))}function generateWorkerScript(){return createWorker(`
    let scriptImported = false
    self.addEventListener('message', async (e) => {
      const { file, id, imageCompressionLibUrl, options } = e.data
      options.onProgress = (progress) => self.postMessage({ progress, id })
      try {
        if (!scriptImported) {
          // console.log('[worker] importScripts', imageCompressionLibUrl)
          self.importScripts(imageCompressionLibUrl)
          scriptImported = true
        }
        // console.log('[worker] self', self)
        const compressedFile = await imageCompression(file, options)
        self.postMessage({ file: compressedFile, id })
      } catch (e) {
        // console.error('[worker] error', e)
        self.postMessage({ error: e.message + '\\n' + e.stack, id })
      }
    })
  `)}function compressOnWebWorker(e,t){return new Promise(function(n,y){var A=cnt+=1;imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",function S(P){if(P.data.id===A){if(P.data.progress!==void 0)return void t.onProgress(P.data.progress);worker.removeEventListener("message",S),P.data.error&&y(new Error(P.data.error)),n(P.data.file)}}),worker.addEventListener("error",y),worker.postMessage({file:e,id:A,imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},t),{},{onProgress:void 0})})})}function imageCompression(e,t){return new Promise(function(n,y){var A,S,P,F,z,Y;if(A=_objectSpread2({},t),P=0,F=A.onProgress,A.maxSizeMB=A.maxSizeMB||Number.POSITIVE_INFINITY,z=typeof A.useWebWorker!="boolean"||A.useWebWorker,delete A.useWebWorker,A.onProgress=function(oe){P=oe,typeof F=="function"&&F(P)},!(e instanceof Blob||e instanceof CustomFile))return y(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return y(new Error("The file given is not an image"));if(Y=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,!z||typeof Worker!="function"||Y)return compress(e,A).then(function(oe){try{return S=oe,ne.call(this)}catch(ie){return y(ie)}}.bind(this),y);var ee=function(){try{return ne.call(this)}catch(oe){return y(oe)}}.bind(this),te=function(ie){try{return compress(e,A).then(function(se){try{return S=se,ee()}catch(ae){return y(ae)}},y)}catch(se){return y(se)}};try{return compressOnWebWorker(e,A).then(function(oe){try{return S=oe,ee()}catch{return te()}},te)}catch{te()}function ne(){try{S.name=e.name,S.lastModified=e.lastModified}catch{}return n(S)}})}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.approximateBelowMaximumCanvasSizeOfBrowser=approximateBelowMaximumCanvasSizeOfBrowser,imageCompression.getBrowserName=getBrowserName,imageCompression.version="1.0.17";let nanoid=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let y=n[e]&63;y<36?t+=y.toString(36):y<62?t+=(y-26).toString(36).toUpperCase():y<63?t+="_":t+="-"}return t};/*!
 * css-vars-ponyfill
 * v2.4.7
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var y in n)Object.prototype.hasOwnProperty.call(n,y)&&(e[y]=n[y])}return e},_extends.apply(this,arguments)}/*!
 * get-css-data
 * v2.0.2
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2021 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function getUrls(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={mimeType:t.mimeType||null,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},y=Array.isArray(e)?e:[e],A=Array.apply(null,Array(y.length)).map(function(Y){return null});function S(Y){var ee=typeof Y=="string",te=ee&&Y.trim().charAt(0)==="<";return ee&&!te}function P(Y,ee){n.onError(Y,y[ee],ee)}function F(Y,ee){var te=n.onSuccess(Y,y[ee],ee);Y=te===!1?"":te||Y,A[ee]=Y,A.indexOf(null)===-1&&n.onComplete(A)}var z=document.createElement("a");y.forEach(function(Y,ee){z.setAttribute("href",Y),z.href=String(z.href);var te=Boolean(document.all&&!window.atob),ne=te&&z.host.split(":")[0]!==location.host.split(":")[0];if(ne){var oe=z.protocol===location.protocol;if(oe){var ie=new XDomainRequest;ie.open("GET",Y),ie.timeout=0,ie.onprogress=Function.prototype,ie.ontimeout=Function.prototype,ie.onload=function(){var ae=ie.responseText;S(ae)?F(ae,ee):P(ie,ee)},ie.onerror=function(ae){P(ie,ee)},setTimeout(function(){ie.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(Y,")")),P(null,ee)}else{var se=new XMLHttpRequest;se.open("GET",Y),n.mimeType&&se.overrideMimeType&&se.overrideMimeType(n.mimeType),n.onBeforeSend(se,Y,ee),se.onreadystatechange=function(){if(se.readyState===4){var ae=se.responseText;se.status<400&&S(ae)||se.status===0&&S(ae)?F(ae,ee):P(se,ee)}},se.send()}})}/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {boolean}  [options.skipDisabled=true] Determines if disabled
 *                   stylesheets will be skipped while collecting CSS data.
 * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement : document,
 *     include     : 'style,link[rel="stylesheet"]',
 *     exclude     : '[href="skip.css"]',
 *     filter      : /red/,
 *     skipDisabled: true,
 *     useCSSOM    : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */function getCssData(e){var t={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},n={rootElement:e.rootElement||document,include:e.include||'style,link[rel="stylesheet"]',exclude:e.exclude||null,filter:e.filter||null,skipDisabled:e.skipDisabled!==!1,useCSSOM:e.useCSSOM||!1,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},y=Array.apply(null,n.rootElement.querySelectorAll(n.include)).filter(function(Y){return!matchesSelector(Y,n.exclude)}),A=Array.apply(null,Array(y.length)).map(function(Y){return null});function S(){var Y=A.indexOf(null)===-1;if(Y){A.reduce(function(te,ne,oe){return ne===""&&te.push(oe),te},[]).reverse().forEach(function(te){return[y,A].forEach(function(ne){return ne.splice(te,1)})});var ee=A.join("");n.onComplete(ee,A,y)}}function P(Y,ee,te,ne){var oe=n.onSuccess(Y,te,ne);Y=oe!==void 0&&Boolean(oe)===!1?"":oe||Y,z(Y,te,ne,function(ie,se){A[ee]===null&&(se.forEach(function(ae){return n.onError(ae.xhr,te,ae.url)}),!n.filter||n.filter.test(ie)?A[ee]=ie:A[ee]="",S())})}function F(Y,ee){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],ne={};return ne.rules=(Y.replace(t.cssComments,"").match(t.cssImports)||[]).filter(function(oe){return te.indexOf(oe)===-1}),ne.urls=ne.rules.map(function(oe){return oe.replace(t.cssImports,"$1")}),ne.absoluteUrls=ne.urls.map(function(oe){return getFullUrl$1(oe,ee)}),ne.absoluteRules=ne.rules.map(function(oe,ie){var se=ne.urls[ie],ae=getFullUrl$1(ne.absoluteUrls[ie],ee);return oe.replace(se,ae)}),ne}function z(Y,ee,te,ne){var oe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],ie=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[],se=F(Y,te,ie);se.rules.length?getUrls(se.absoluteUrls,{onBeforeSend:function(le,pe,ue){n.onBeforeSend(le,ee,pe)},onSuccess:function(le,pe,ue){var Ee=n.onSuccess(le,ee,pe);le=Ee===!1?"":Ee||le;var ve=F(le,pe,ie);return ve.rules.forEach(function(me,he){le=le.replace(me,ve.absoluteRules[he])}),le},onError:function(le,pe,ue){oe.push({xhr:le,url:pe}),ie.push(se.rules[ue]),z(Y,ee,te,ne,oe,ie)},onComplete:function(le){le.forEach(function(pe,ue){Y=Y.replace(se.rules[ue],pe)}),z(Y,ee,te,ne,oe,ie)}}):ne(Y,oe)}y.length?y.forEach(function(Y,ee){var te=Y.getAttribute("href"),ne=Y.getAttribute("rel"),oe=Y.nodeName.toLowerCase()==="link"&&te&&ne&&ne.toLowerCase().indexOf("stylesheet")!==-1,ie=n.skipDisabled===!1?!1:Y.disabled,se=Y.nodeName.toLowerCase()==="style";if(oe&&!ie)getUrls(te,{mimeType:"text/css",onBeforeSend:function(pe,ue,Ee){n.onBeforeSend(pe,Y,ue)},onSuccess:function(pe,ue,Ee){var ve=getFullUrl$1(te);P(pe,ee,Y,ve)},onError:function(pe,ue,Ee){A[ee]="",n.onError(pe,Y,ue),S()}});else if(se&&!ie){var ae=Y.textContent;n.useCSSOM&&(ae=Array.apply(null,Y.sheet.cssRules).map(function(le){return le.cssText}).join("")),P(ae,ee,Y,location.href)}else A[ee]="",S()}):n.onComplete("",[])}function getFullUrl$1(e,t){var n=document.implementation.createHTMLDocument(""),y=n.createElement("base"),A=n.createElement("a");return n.head.appendChild(y),n.body.appendChild(A),y.href=t||document.baseURI||(document.querySelector("base")||{}).href||location.href,A.href=e,A.href}function matchesSelector(e,t){var n=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;return n.call(e,t)}var balancedMatch=balanced;function balanced(e,t,n){e instanceof RegExp&&(e=maybeMatch(e,n)),t instanceof RegExp&&(t=maybeMatch(t,n));var y=range(e,t,n);return y&&{start:y[0],end:y[1],pre:n.slice(0,y[0]),body:n.slice(y[0]+e.length,y[1]),post:n.slice(y[1]+t.length)}}function maybeMatch(e,t){var n=t.match(e);return n?n[0]:null}balanced.range=range;function range(e,t,n){var y,A,S,P,F,z=n.indexOf(e),Y=n.indexOf(t,z+1),ee=z;if(z>=0&&Y>0){if(e===t)return[z,Y];for(y=[],S=n.length;ee>=0&&!F;)ee==z?(y.push(ee),z=n.indexOf(e,ee+1)):y.length==1?F=[y.pop(),Y]:(A=y.pop(),A<S&&(S=A,P=Y),Y=n.indexOf(t,ee+1)),ee=z<Y&&z>=0?z:Y;y.length&&(F=[S,P])}return F}function parseCss(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={preserveStatic:!0,removeComments:!1},y=_extends({},n,t),A=[];function S(ge){throw new Error("CSS parse error: ".concat(ge))}function P(ge){var ce=ge.exec(e);if(ce)return e=e.slice(ce[0].length),ce}function F(){return P(/^{\s*/)}function z(){return P(/^}/)}function Y(){P(/^\s*/)}function ee(){if(Y(),!(e[0]!=="/"||e[1]!=="*")){for(var ge=2;e[ge]&&(e[ge]!=="*"||e[ge+1]!=="/");)ge++;if(!e[ge])return S("end of comment is missing");var ce=e.slice(2,ge);return e=e.slice(ge+2),{type:"comment",comment:ce}}}function te(){for(var ge=[],ce;ce=ee();)ge.push(ce);return y.removeComments?[]:ge}function ne(){for(Y();e[0]==="}";)S("extra closing bracket");var ge=P(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(ge){var ce=ge[0].trim(),fe,ye=/\/\*/.test(ce);ye&&(ce=ce.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,""));var Te=/["']\w*,\w*["']/.test(ce);Te&&(ce=ce.replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(Re){return Re.replace(/,/g,"\u200C")}));var Pe=/,/.test(ce);return Pe?fe=ce.split(/\s*(?![^(]*\)),\s*/):fe=[ce],Te&&(fe=fe.map(function(Re){return Re.replace(/\u200C/g,",")})),fe}}function oe(){if(e[0]==="@")return Ae();P(/^([;\s]*)+/);var ge=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ce=P(/^(\*?[-#/*\\\w.]+(\[[0-9a-z_-]+\])?)\s*/);if(!!ce){if(ce=ce[0].trim(),!P(/^:\s*/))return S("property missing ':'");var fe=P(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),ye={type:"declaration",property:ce.replace(ge,""),value:fe?fe[0].replace(ge,"").trim():""};return P(/^[;\s]*/),ye}}function ie(){if(!F())return S("missing '{'");for(var ge,ce=te();ge=oe();)ce.push(ge),ce=ce.concat(te());return z()?ce:S("missing '}'")}function se(){Y();for(var ge=[],ce;ce=P(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)ge.push(ce[1]),P(/^,\s*/);if(ge.length)return{type:"keyframe",values:ge,declarations:ie()}}function ae(){var ge=P(/^@([-\w]+)?keyframes\s*/);if(!!ge){var ce=ge[1];if(ge=P(/^([-\w]+)\s*/),!ge)return S("@keyframes missing name");var fe=ge[1];if(!F())return S("@keyframes missing '{'");for(var ye,Te=te();ye=se();)Te.push(ye),Te=Te.concat(te());return z()?{type:"keyframes",name:fe,vendor:ce,keyframes:Te}:S("@keyframes missing '}'")}}function le(){var ge=P(/^@page */);if(ge){var ce=ne()||[];return{type:"page",selectors:ce,declarations:ie()}}}function pe(){var ge=P(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(ge){var ce="".concat(ge[1],"-").concat(ge[2])+(ge[3]?"-".concat(ge[3]):"");return{type:"page-margin-box",name:ce,declarations:ie()}}}function ue(){var ge=P(/^@font-face\s*/);if(ge)return{type:"font-face",declarations:ie()}}function Ee(){var ge=P(/^@supports *([^{]+)/);if(ge)return{type:"supports",supports:ge[1].trim(),rules:Se()}}function ve(){var ge=P(/^@host\s*/);if(ge)return{type:"host",rules:Se()}}function me(){var ge=P(/^@media([^{]+)*/);if(ge)return{type:"media",media:(ge[1]||"").trim(),rules:Se()}}function he(){var ge=P(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(ge)return{type:"custom-media",name:ge[1].trim(),media:ge[2].trim()}}function _e(){var ge=P(/^@([-\w]+)?document *([^{]+)/);if(ge)return{type:"document",document:ge[2].trim(),vendor:ge[1]?ge[1].trim():null,rules:Se()}}function be(){var ge=P(/^@(import|charset|namespace)\s*([^;]+);/);if(ge)return{type:ge[1],name:ge[2].trim()}}function Ae(){if(Y(),e[0]==="@"){var ge=be()||ue()||me()||ae()||Ee()||_e()||he()||ve()||le()||pe();if(ge&&!y.preserveStatic){var ce=!1;if(ge.declarations)ce=ge.declarations.some(function(ye){return/var\(/.test(ye.value)});else{var fe=ge.keyframes||ge.rules||[];ce=fe.some(function(ye){return(ye.declarations||[]).some(function(Te){return/var\(/.test(Te.value)})})}return ce?ge:{}}return ge}}function de(){if(!y.preserveStatic){var ge=balancedMatch("{","}",e);if(ge){var ce=/:(?:root|host)(?![.:#(])/.test(ge.pre)&&/--\S*\s*:/.test(ge.body),fe=/var\(/.test(ge.body);if(!ce&&!fe)return e=e.slice(ge.end+1),{}}}var ye=ne()||[],Te=y.preserveStatic?ie():ie().filter(function(Pe){var Re=ye.some(function(we){return/:(?:root|host)(?![.:#(])/.test(we)})&&/^--\S/.test(Pe.property),Oe=/var\(/.test(Pe.value);return Re||Oe});return ye.length||S("selector missing"),{type:"rule",selectors:ye,declarations:Te}}function Se(ge){if(!ge&&!F())return S("missing '{'");for(var ce,fe=te();e.length&&(ge||e[0]!=="}")&&(ce=Ae()||de());)ce.type&&fe.push(ce),fe=fe.concat(te());return!ge&&!z()?S("missing '}'"):fe}return{type:"stylesheet",stylesheet:{rules:Se(!0),errors:A}}}function parseVars(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={parseHost:!1,store:{},onWarning:function(){}},y=_extends({},n,t),A=new RegExp(":".concat(y.parseHost?"host":"root","$"));return typeof e=="string"&&(e=parseCss(e,y)),e.stylesheet.rules.forEach(function(S){S.type!=="rule"||!S.selectors.some(function(P){return A.test(P)})||S.declarations.forEach(function(P,F){var z=P.property,Y=P.value;z&&z.indexOf("--")===0&&(y.store[z]=Y)})}),y.store}function stringifyCss(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,y={charset:function(P){return"@charset "+P.name+";"},comment:function(P){return P.comment.indexOf("__CSSVARSPONYFILL")===0?"/*"+P.comment+"*/":""},"custom-media":function(P){return"@custom-media "+P.name+" "+P.media+";"},declaration:function(P){return P.property+":"+P.value+";"},document:function(P){return"@"+(P.vendor||"")+"document "+P.document+"{"+A(P.rules)+"}"},"font-face":function(P){return"@font-face{"+A(P.declarations)+"}"},host:function(P){return"@host{"+A(P.rules)+"}"},import:function(P){return"@import "+P.name+";"},keyframe:function(P){return P.values.join(",")+"{"+A(P.declarations)+"}"},keyframes:function(P){return"@"+(P.vendor||"")+"keyframes "+P.name+"{"+A(P.keyframes)+"}"},media:function(P){return"@media "+P.media+"{"+A(P.rules)+"}"},namespace:function(P){return"@namespace "+P.name+";"},page:function(P){return"@page "+(P.selectors.length?P.selectors.join(", "):"")+"{"+A(P.declarations)+"}"},"page-margin-box":function(P){return"@"+P.name+"{"+A(P.declarations)+"}"},rule:function(P){var F=P.declarations;if(F.length)return P.selectors.join(",")+"{"+A(F)+"}"},supports:function(P){return"@supports "+P.supports+"{"+A(P.rules)+"}"}};function A(S){for(var P="",F=0;F<S.length;F++){var z=S[F];n&&n(z);var Y=y[z.type](z);Y&&(P+=Y,Y.length&&z.selectors&&(P+=t))}return P}return A(e.stylesheet.rules)}function walkCss(e,t){e.rules.forEach(function(n){if(n.rules){walkCss(n,t);return}if(n.keyframes){n.keyframes.forEach(function(y){y.type==="keyframe"&&t(y.declarations,n)});return}!n.declarations||t(n.declarations,e)})}var VAR_PROP_IDENTIFIER="--",VAR_FUNC_IDENTIFIER="var";function transformCss(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},y=_extends({},n,t);return typeof e=="string"&&(e=parseCss(e,y)),walkCss(e.stylesheet,function(A,S){for(var P=0;P<A.length;P++){var F=A[P],z=F.type,Y=F.property,ee=F.value;if(z==="declaration"){if(!y.preserveVars&&Y&&Y.indexOf(VAR_PROP_IDENTIFIER)===0){A.splice(P,1),P--;continue}if(ee.indexOf(VAR_FUNC_IDENTIFIER+"(")!==-1){var te=resolveValue(ee,y);te!==F.value&&(te=fixNestedCalc(te),y.preserveVars?(A.splice(P,0,{type:z,property:Y,value:te}),P++):F.value=te)}}}}),stringifyCss(e)}function fixNestedCalc(e){var t=/calc\(([^)]+)\)/g;return(e.match(t)||[]).forEach(function(n){var y="calc".concat(n.split("calc").join(""));e=e.replace(n,y)}),e}function resolveValue(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(e.indexOf("var(")===-1)return e;var y=balancedMatch("(",")",e);function A(P){var F=P.split(",")[0].replace(/[\s\n\t]/g,""),z=(P.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],Y=Object.prototype.hasOwnProperty.call(t.variables,F)?String(t.variables[F]):void 0,ee=Y||(z?String(z):void 0),te=n||P;return Y||t.onWarning('variable "'.concat(F,'" is undefined')),ee&&ee!=="undefined"&&ee.length>0?resolveValue(ee,t,te):"var(".concat(te,")")}if(y)if(y.pre.slice(-3)==="var"){var S=y.body.trim().length===0;return S?(t.onWarning("var() must contain a non-whitespace string"),e):y.pre.slice(0,-3)+A(y.body)+resolveValue(y.post,t)}else return y.pre+"(".concat(resolveValue(y.body,t),")")+resolveValue(y.post,t);else return e.indexOf("var(")!==-1&&t.onWarning('missing closing ")" in the value "'.concat(e,'"')),e}var isBrowser=typeof window!="undefined",isNativeSupport=isBrowser&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),counters={group:0,job:0},defaults={rootElement:isBrowser?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function e(){},onError:function e(){},onWarning:function e(){},onSuccess:function e(){},onComplete:function e(){},onFinally:function e(){}},regex={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},variableStore={dom:{},job:{},user:{}},cssVarsIsRunning=!1,cssVarsObserver=null,cssVarsSrcNodeCount=0,debounceTimer=null,isShadowDOMReady=!1;/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if relative url()
 *                   paths will be converted to absolute urls in external CSS
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 * @param {function} [options.onFinally] Callback in modern and legacy browsers
 *                   after the ponyfill has finished all tasks. Passes 1) a
 *                   boolean indicating if the last ponyfill call resulted in a
 *                   style change, 2) a boolean indicating if the current
 *                   browser provides native support for CSS custom properties,
 *                   and 3) the ponyfill execution time in milliseconds.
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onError(message, node, xhr, url) {},
 *     onWarning(message) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {},
 *     onFinally(hasChanged, hasNativeSupport, benchmark)
 *   });
 */function cssVars(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="cssVars(): ",n=_extends({},defaults,e);function y(ee,te,ne,oe){!n.silent&&window.console&&console.error("".concat(t).concat(ee,`
`),te),n.onError(ee,te,ne,oe)}function A(ee){!n.silent&&window.console&&console.warn("".concat(t).concat(ee)),n.onWarning(ee)}function S(ee){n.onFinally(Boolean(ee),isNativeSupport,getTimeStamp()-n.__benchmark)}if(!!isBrowser){if(n.watch){n.watch=defaults.watch,addMutationObserver(n),cssVars(n);return}else n.watch===!1&&cssVarsObserver&&(cssVarsObserver.disconnect(),cssVarsObserver=null);if(!n.__benchmark){if(cssVarsIsRunning===n.rootElement){cssVarsDebounced(e);return}var P=[].slice.call(n.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])'));if(n.__benchmark=getTimeStamp(),n.exclude=[cssVarsObserver?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',"link[disabled]:not([data-cssvars])",n.exclude].filter(function(ee){return ee}).join(","),n.variables=fixVarNames(n.variables),P.forEach(function(ee){var te=ee.nodeName.toLowerCase()==="style"&&ee.__cssVars.text,ne=te&&ee.textContent!==ee.__cssVars.text;te&&ne&&(ee.sheet&&(ee.sheet.disabled=!1),ee.setAttribute("data-cssvars",""))}),!cssVarsObserver){var F=[].slice.call(n.rootElement.querySelectorAll('[data-cssvars="out"]'));F.forEach(function(ee){var te=ee.getAttribute("data-cssvars-group"),ne=te?n.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(te,'"]')):null;ne||ee.parentNode.removeChild(ee)}),cssVarsSrcNodeCount&&P.length<cssVarsSrcNodeCount&&(cssVarsSrcNodeCount=P.length,variableStore.dom={})}}if(document.readyState!=="loading")if(isNativeSupport&&n.onlyLegacy){var z=!1;if(n.updateDOM){var Y=n.rootElement.host||(n.rootElement===document?document.documentElement:n.rootElement);Object.keys(n.variables).forEach(function(ee){var te=n.variables[ee];z=z||te!==getComputedStyle(Y).getPropertyValue(ee),Y.style.setProperty(ee,te)})}S(z)}else!isShadowDOMReady&&(n.shadowDOM||n.rootElement.shadowRoot||n.rootElement.host)?getCssData({rootElement:defaults.rootElement,include:defaults.include,exclude:n.exclude,skipDisabled:!1,onSuccess:function(te,ne,oe){var ie=(ne.sheet||{}).disabled&&!ne.__cssVars;return ie?!1:(te=te.replace(regex.cssComments,"").replace(regex.cssMediaQueries,""),te=(te.match(regex.cssVarDeclRules)||[]).join(""),te||!1)},onComplete:function(te,ne,oe){parseVars(te,{store:variableStore.dom,onWarning:A}),isShadowDOMReady=!0,cssVars(n)}}):(cssVarsIsRunning=n.rootElement,getCssData({rootElement:n.rootElement,include:n.include,exclude:n.exclude,skipDisabled:!1,onBeforeSend:n.onBeforeSend,onError:function(te,ne,oe){var ie=te.responseURL||getFullUrl(oe,location.href),se=te.statusText?"(".concat(te.statusText,")"):"Unspecified Error"+(te.status===0?" (possibly CORS related)":""),ae="CSS XHR Error: ".concat(ie," ").concat(te.status," ").concat(se);y(ae,ne,te,ie)},onSuccess:function(te,ne,oe){var ie=(ne.sheet||{}).disabled&&!ne.__cssVars;if(ie)return!1;var se=ne.nodeName.toLowerCase()==="link",ae=ne.nodeName.toLowerCase()==="style"&&te!==ne.textContent,le=n.onSuccess(te,ne,oe);return te=le!==void 0&&Boolean(le)===!1?"":le||te,n.updateURLs&&(se||ae)&&(te=fixRelativeCssUrls(te,oe)),te},onComplete:function(te,ne){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],ie=_extends({},variableStore.dom,variableStore.user),se=!1;if(variableStore.job={},oe.forEach(function(he,_e){var be=ne[_e];if(he.__cssVars=he.__cssVars||{},he.__cssVars.text=be,regex.cssVars.test(be))try{var Ae=parseCss(be,{preserveStatic:n.preserveStatic,removeComments:!0});parseVars(Ae,{parseHost:Boolean(n.rootElement.host),store:variableStore.dom,onWarning:A}),he.__cssVars.tree=Ae}catch(de){y(de.message,he)}}),_extends(variableStore.job,variableStore.dom),n.updateDOM?(_extends(variableStore.user,n.variables),_extends(variableStore.job,variableStore.user)):(_extends(variableStore.job,variableStore.user,n.variables),_extends(ie,n.variables)),se=counters.job>0&&Boolean(Object.keys(variableStore.job).length>Object.keys(ie).length||Boolean(Object.keys(ie).length&&Object.keys(variableStore.job).some(function(he){return variableStore.job[he]!==ie[he]}))),se)resetCssNodes(n.rootElement),cssVars(n);else{var ae=[],le=[],pe=!1;if(n.updateDOM&&counters.job++,oe.forEach(function(he,_e){var be=!he.__cssVars.tree;if(he.__cssVars.tree)try{transformCss(he.__cssVars.tree,_extends({},n,{variables:variableStore.job,onWarning:A}));var Ae=stringifyCss(he.__cssVars.tree);if(n.updateDOM){var de=ne[_e],Se=regex.cssVarFunc.test(de);if(he.getAttribute("data-cssvars")||he.setAttribute("data-cssvars","src"),Ae.length&&Se){var ge=he.getAttribute("data-cssvars-group")||++counters.group,ce=Ae.replace(/\s/g,""),fe=n.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(ge,'"]'))||document.createElement("style");pe=pe||regex.cssKeyframes.test(Ae),n.preserveStatic&&he.sheet&&(he.sheet.disabled=!0),fe.hasAttribute("data-cssvars")||fe.setAttribute("data-cssvars","out"),ce===he.textContent.replace(/\s/g,"")?(be=!0,fe&&fe.parentNode&&(he.removeAttribute("data-cssvars-group"),fe.parentNode.removeChild(fe))):ce!==fe.textContent.replace(/\s/g,"")&&([he,fe].forEach(function(ye){ye.setAttribute("data-cssvars-job",counters.job),ye.setAttribute("data-cssvars-group",ge)}),fe.textContent=Ae,ae.push(Ae),le.push(fe),fe.parentNode||he.parentNode.insertBefore(fe,he.nextSibling))}}else he.textContent.replace(/\s/g,"")!==Ae&&ae.push(Ae)}catch(ye){y(ye.message,he)}be&&he.setAttribute("data-cssvars","skip"),he.hasAttribute("data-cssvars-job")||he.setAttribute("data-cssvars-job",counters.job)}),cssVarsSrcNodeCount=n.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,n.shadowDOM){for(var ue=[].concat(n.rootElement).concat([].slice.call(n.rootElement.querySelectorAll("*"))),Ee=0,ve;ve=ue[Ee];++Ee)if(ve.shadowRoot&&ve.shadowRoot.querySelector("style")){var me=_extends({},n,{rootElement:ve.shadowRoot});cssVars(me)}}n.updateDOM&&pe&&fixKeyframes(n.rootElement),cssVarsIsRunning=!1,n.onComplete(ae.join(""),le,JSON.parse(JSON.stringify(variableStore.job)),getTimeStamp()-n.__benchmark),S(le.length)}}}));else document.addEventListener("DOMContentLoaded",function ee(te){cssVars(e),document.removeEventListener("DOMContentLoaded",ee)})}}cssVars.reset=function(){counters.job=0,counters.group=0,cssVarsIsRunning=!1,cssVarsObserver&&(cssVarsObserver.disconnect(),cssVarsObserver=null),cssVarsSrcNodeCount=0,debounceTimer=null,isShadowDOMReady=!1;for(var e in variableStore)variableStore[e]={}};function addMutationObserver(e){function t(z){var Y=n(z)&&z.hasAttribute("disabled"),ee=(z.sheet||{}).disabled;return Y||ee}function n(z){var Y=z.nodeName.toLowerCase()==="link"&&(z.getAttribute("rel")||"").indexOf("stylesheet")!==-1;return Y}function y(z){return z.nodeName.toLowerCase()==="style"}function A(z){var Y=!1;if(z.type==="attributes"&&n(z.target)&&!t(z.target)){var ee=z.attributeName==="disabled",te=z.attributeName==="href",ne=z.target.getAttribute("data-cssvars")==="skip",oe=z.target.getAttribute("data-cssvars")==="src";ee?Y=!ne&&!oe:te&&(ne?z.target.setAttribute("data-cssvars",""):oe&&resetCssNodes(e.rootElement,!0),Y=!0)}return Y}function S(z){var Y=!1;if(z.type==="childList"){var ee=y(z.target),te=z.target.getAttribute("data-cssvars")==="out";Y=ee&&!te}return Y}function P(z){var Y=!1;return z.type==="childList"&&(Y=[].slice.call(z.addedNodes).some(function(ee){var te=ee.nodeType===1,ne=te&&ee.hasAttribute("data-cssvars"),oe=y(ee)&&regex.cssVars.test(ee.textContent),ie=!ne&&(n(ee)||oe);return ie&&!t(ee)})),Y}function F(z){var Y=!1;return z.type==="childList"&&(Y=[].slice.call(z.removedNodes).some(function(ee){var te=ee.nodeType===1,ne=te&&ee.getAttribute("data-cssvars")==="out",oe=te&&ee.getAttribute("data-cssvars")==="src",ie=oe;if(oe||ne){var se=ee.getAttribute("data-cssvars-group"),ae=e.rootElement.querySelector('[data-cssvars-group="'.concat(se,'"]'));oe&&resetCssNodes(e.rootElement,!0),ae&&ae.parentNode.removeChild(ae)}return ie})),Y}!window.MutationObserver||(cssVarsObserver&&(cssVarsObserver.disconnect(),cssVarsObserver=null),cssVarsObserver=new MutationObserver(function(z){var Y=z.some(function(ee){return A(ee)||S(ee)||P(ee)||F(ee)});Y&&cssVars(e)}),cssVarsObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function cssVarsDebounced(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;clearTimeout(debounceTimer),debounceTimer=setTimeout(function(){e.__benchmark=null,cssVars(e)},t)}function fixKeyframes(e){var t=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(ne){return getComputedStyle(document.body)[ne]})[0];if(t){for(var n=e.getElementsByTagName("*"),y=[],A="__CSSVARSPONYFILL-KEYFRAMES__",S=0,P=n.length;S<P;S++){var F=n[S],z=getComputedStyle(F)[t];z!=="none"&&(F.style[t]+=A,y.push(F))}document.body.offsetHeight;for(var Y=0,ee=y.length;Y<ee;Y++){var te=y[Y].style;te[t]=te[t].replace(A,"")}}}function fixRelativeCssUrls(e,t){var n=e.replace(regex.cssComments,"").match(regex.cssUrls)||[];return n.forEach(function(y){var A=y.replace(regex.cssUrls,"$1"),S=getFullUrl(A,t);e=e.replace(y,y.replace(A,S))}),e}function fixVarNames(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=/^-{2}/;return Object.keys(e).reduce(function(n,y){var A=t.test(y)?y:"--".concat(y.replace(/^-+/,""));return n[A]=e[y],n},{})}function getFullUrl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:location.href,n=document.implementation.createHTMLDocument(""),y=n.createElement("base"),A=n.createElement("a");return n.head.appendChild(y),n.body.appendChild(A),y.href=t,A.href=e,A.href}function getTimeStamp(){return isBrowser&&(window.performance||{}).now?window.performance.now():new Date().getTime()}function resetCssNodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=[].slice.call(e.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]'));n.forEach(function(y){return y.setAttribute("data-cssvars","")}),t&&(variableStore.dom={})}const colors={primary:"#0DB293",primaryLight:"#75D0B8",secondary:"#00D9D5",success:"#33FF2F",danger:"#FF002E",warning:"#F2DF0F",info:"#3A74E7",brand:"#28DB98",dusk:"#414D6B",red:"#FF728D",orange:"#F6A623",yellow:"#EED100",green:"#24CD97",blue:"#679EFF",purple:"#B669F9",light:"#EDEDED"},light=Object.assign(Object.assign({},colors),{paper:"#F2F5F6",disabled:"#C4C4C4",background:"#FFFFFF",placeholder:"#6D6D6D",text:"#000000",textLight:"#1B1B1B",textContrast:"#FFFFFF",main:colors.primary,mainDark:colors.primaryLight,card:"#FFFFFF",link:"#8E9095",border:"#D3D4D5",authBackgroundLight:"#17b87c",authBackgroundDark:"#01886f"}),dark=Object.assign(Object.assign({},colors),{paper:"#2A2A2A",disabled:"#515151",background:"#000000",placeholder:"#6D6D6D",text:"#FFFFFF",textLight:"#D3D3D3",textContrast:"#FFFFFF",main:colors.primaryLight,mainDark:colors.primary,card:"#1C1C1C",link:"#B5B7BC",border:"#343536",authBackgroundLight:"#17b87c",authBackgroundDark:"#01886f"}),theme={light,dark};function create_fragment(e){let t;const n=e[4].default,y=create_slot(n,e,e[3],null);return{c(){y&&y.c()},m(A,S){y&&y.m(A,S),t=!0},p(A,[S]){y&&y.p&&(!t||S&8)&&update_slot_base(y,n,A,A[3],t?get_slot_changes(n,A[3],S,null):get_all_dirty_from_scope(A[3]),null)},i(A){t||(transition_in(y,A),t=!0)},o(A){transition_out(y,A),t=!1},d(A){y&&y.d(A)}}}function instance(e,t,n){let y,{$$slots:A={},$$scope:S}=t,{initialThemeType:P="light"}=t,{customTheme:F={}}=t;const z={light:Object.assign(Object.assign({},theme.light),F==null?void 0:F.light),dark:Object.assign(Object.assign({},theme.dark),F==null?void 0:F.dark)};window.matchMedia("(prefers-color-scheme: dark)").matches&&(P="dark");const ee=writable({themeType:P,theme:z[P],changeThemeType:()=>{}});component_subscribe(e,ee,oe=>n(5,y=oe));const te=oe=>{Object.entries(oe).forEach(([ie,se])=>{const le=`--${(Ee=>Ee.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase())(ie)}`,ue=(Ee=>{const ve=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return Ee.replace(ve,(he,_e,be,Ae)=>`#${_e}${_e}${be}${be}${Ae}${Ae}`).substring(1).match(/.{2}/g).map(he=>parseInt(he,16)).join(",")})(se);document.documentElement.style.setProperty(le,se),document.documentElement.style.setProperty(le+"-rgb",ue)})},ne=oe=>{ee.update(({themeType:ie})=>{const se=oe||(ie==="light"?"dark":"light");return te(z[se]),Object.assign(Object.assign({},y),{themeType:se,theme:z[se]})})};return setContext("svelte-theme",{theme:y.theme,themeType:y.themeType,changeThemeType:ne}),onMount(()=>{te(y.theme)}),e.$$set=oe=>{"initialThemeType"in oe&&n(1,P=oe.initialThemeType),"customTheme"in oe&&n(2,F=oe.customTheme),"$$scope"in oe&&n(3,S=oe.$$scope)},[ee,P,F,S,A]}class ThemeProvider extends SvelteComponent{constructor(t){super();init(this,t,instance,create_fragment,safe_not_equal,{initialThemeType:1,customTheme:2})}}cssVars();export{$,append as A,destroy_component as B,component_subscribe as C,goto as D,url as E,text as F,set_data as G,empty$1 as H,I,src_url_equal as J,context as K,createClient as L,set_style as M,update_keyed_each as N,onMount as O,outro_and_destroy_block as P,stop_propagation as Q,destroy_each as R,SvelteComponent as S,onDestroy as T,is_function as U,prevent_default as V,set_input_value as W,X,nanoid as Y,imageCompression as Z,action_destroyer as _,attr as a,run_all as a0,set_store_value as a1,binding_callbacks as a2,Router_1 as a3,getContext as a4,ThemeProvider as a5,insert as b,transition_out as c,check_outros as d,element as e,transition_in as f,group_outros as g,detach as h,init as i,createEventDispatcher as j,assign as k,listen as l,m,null_to_empty as n,exclude_internal_props as o,create_slot as p,get_all_dirty_from_scope as q,get_slot_changes as r,safe_not_equal as s,toggle_class as t,update_slot_base as u,noop$2 as v,writable as w,create_component as x,space as y,mount_component as z};

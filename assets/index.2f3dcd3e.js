import{S as R,i as Y,s as Z,a as $,e as w,b as I,d as p,f as L,g as N,t as g,h as j,j as O,k as P,n as ee,M as te,o as B,p as k,A as U,B as V,Q,y as T,H,z as W,U as ne,q as A,X as se,u as le,r as ie,V as oe,O as ae,W as re}from"./vendor.b98bd16b.js";import{h as ce,i as ue}from"./icons.68ec2dd0.js";import me from"./menu.7370a545.js";import fe from"./menu-add.868ad0cf.js";import de from"./menu-list.05bf84da.js";import{u as he}from"./index.b00d0e43.js";import{i as pe}from"./communityService.5f10ec14.js";function _e(t){$(t,"svelte-8qjsz1",`a.svelte-8qjsz1{text-decoration:none;color:inherit
  }a.svelte-8qjsz1:hover{opacity:0.7}.container.svelte-8qjsz1{height:100%;position:-webkit-sticky;position:sticky;overflow:auto;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;background-color:var(--background)}aside.svelte-8qjsz1{min-width:56px;padding-left:8px;z-index:2;box-shadow:2px 8px 12px var(--box-shadow12)}section.svelte-8qjsz1{overflow:auto;background-color:var(--card);width:144px;box-shadow:2px 12px 12px var(--box-shadow02);transition:width 0.15s;transition-timing-function:ease-in-out;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column
  }@media(max-width: 640px){section.svelte-8qjsz1{width:124px
  }}.close.svelte-8qjsz1{visibility:hidden;width:0px}.close-arr.svelte-8qjsz1{align-self:flex-end;padding:7px 12px;cursor:pointer}.menu-btn.svelte-8qjsz1{height:33px;margin-top:5px;margin-right:8px;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:center;align-items:center}.hidden.svelte-8qjsz1{visibility:hidden}`)}function X(t,s,e){const o=t.slice();return o[22]=s[e],o}function D(t,s,e){const o=t.slice();return o[25]=s[e],o}function F(t){let s,e,o,i;function _(){return t[15](t[25])}return e=new me({props:{community:t[25],selected:t[25].id===t[5]}}),e.$on("click",_),{c(){s=w("a"),I(e.$$.fragment),p(s,"href",o=t[9]("/community/[id]",{id:t[25].id})),p(s,"class","svelte-8qjsz1")},m(n,r){L(n,s,r),N(e,s,null),i=!0},p(n,r){t=n;const a={};r&1&&(a.community=t[25]),r&33&&(a.selected=t[25].id===t[5]),e.$set(a),(!i||r&513&&o!==(o=t[9]("/community/[id]",{id:t[25].id})))&&p(s,"href",o)},i(n){i||(g(e.$$.fragment,n),i=!0)},o(n){j(e.$$.fragment,n),i=!1},d(n){n&&O(s),P(e)}}}function G(t){let s,e;return s=new fe({}),s.$on("click",t[13]),{c(){I(s.$$.fragment)},m(o,i){N(s,o,i),e=!0},p:ee,i(o){e||(g(s.$$.fragment,o),e=!0)},o(o){j(s.$$.fragment,o),e=!1},d(o){P(s,o)}}}function J(t){let s,e,o=t[6],i=[];for(let n=0;n<o.length;n+=1)i[n]=K(X(t,o,n));const _=n=>j(i[n],1,1,()=>{i[n]=null});return{c(){for(let n=0;n<i.length;n+=1)i[n].c();s=te()},m(n,r){for(let a=0;a<i.length;a+=1)i[a].m(n,r);L(n,s,r),e=!0},p(n,r){if(r&2240){o=n[6];let a;for(a=0;a<o.length;a+=1){const h=X(n,o,a);i[a]?(i[a].p(h,r),g(i[a],1)):(i[a]=K(h),i[a].c(),g(i[a],1),i[a].m(s.parentNode,s))}for(U(),a=o.length;a<i.length;a+=1)_(a);V()}},i(n){if(!e){for(let r=0;r<o.length;r+=1)g(i[r]);e=!0}},o(n){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)j(i[r]);e=!1},d(n){Q(i,n),n&&O(s)}}}function K(t){let s,e,o,i,_;return e=new de({props:{menu:t[22],selectMenu:t[11],selected:t[22].path===t[7]}}),{c(){s=w("a"),I(e.$$.fragment),o=B(),p(s,"href",i=t[22].path),p(s,"class","svelte-8qjsz1")},m(n,r){L(n,s,r),N(e,s,null),k(s,o),_=!0},p(n,r){const a={};r&64&&(a.menu=n[22]),r&192&&(a.selected=n[22].path===n[7]),e.$set(a),(!_||r&64&&i!==(i=n[22].path))&&p(s,"href",i)},i(n){_||(g(e.$$.fragment,n),_=!0)},o(n){j(e.$$.fragment,n),_=!1},d(n){n&&O(s),P(e)}}}function ge(t){let s,e,o,i,_,n,r,a,h,z,v,x,M,y,b,S,q=t[0],u=[];for(let c=0;c<q.length;c+=1)u[c]=F(D(t,q,c));const E=c=>j(u[c],1,1,()=>{u[c]=null});let f=t[8]&&G(t),d=t[3]&&J(t);return{c(){s=w("div"),e=w("aside"),o=w("div"),i=w("img"),n=B();for(let c=0;c<u.length;c+=1)u[c].c();r=B(),f&&f.c(),a=B(),h=w("section"),z=w("div"),v=w("img"),M=B(),d&&d.c(),T(i.src,_=ce)||p(i,"src",_),p(i,"alt","menu"),p(o,"class","menu-btn svelte-8qjsz1"),H(o,"hidden",t[2]),p(e,"class","svelte-8qjsz1"),T(v.src,x=ue)||p(v,"src",x),p(v,"alt","menu"),p(z,"class","close-arr svelte-8qjsz1"),p(h,"style",t[1]),p(h,"class","svelte-8qjsz1"),H(h,"close",!t[2]),p(s,"class","container svelte-8qjsz1")},m(c,m){L(c,s,m),k(s,e),k(e,o),k(o,i),k(e,n);for(let l=0;l<u.length;l+=1)u[l].m(e,null);k(e,r),f&&f.m(e,null),k(s,a),k(s,h),k(h,z),k(z,v),k(h,M),d&&d.m(h,null),t[16](h),y=!0,b||(S=[W(o,"click",t[10]),W(z,"click",t[10])],b=!0)},p(c,[m]){if(m&4&&H(o,"hidden",c[2]),m&4641){q=c[0];let l;for(l=0;l<q.length;l+=1){const C=D(c,q,l);u[l]?(u[l].p(C,m),g(u[l],1)):(u[l]=F(C),u[l].c(),g(u[l],1),u[l].m(e,r))}for(U(),l=q.length;l<u.length;l+=1)E(l);V()}c[8]?f?(f.p(c,m),m&256&&g(f,1)):(f=G(c),f.c(),g(f,1),f.m(e,null)):f&&(U(),j(f,1,1,()=>{f=null}),V()),c[3]?d?(d.p(c,m),m&8&&g(d,1)):(d=J(c),d.c(),g(d,1),d.m(h,null)):d&&(U(),j(d,1,1,()=>{d=null}),V()),(!y||m&2)&&p(h,"style",c[1]),m&4&&H(h,"close",!c[2])},i(c){if(!y){for(let m=0;m<q.length;m+=1)g(u[m]);g(f),g(d),y=!0}},o(c){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)j(u[m]);j(f),j(d),y=!1},d(c){c&&O(s),Q(u,c),f&&f.d(),d&&d.d(),t[16](null),b=!1,ne(S)}}}function be(t,s,e){let o,i,_,n,r;A(t,se,l=>e(17,o=l)),A(t,he,l=>e(8,i=l)),A(t,le,l=>e(9,_=l)),A(t,ie,l=>e(18,n=l)),A(t,oe,l=>e(19,r=l));let{communities:a}=s,{menuStyle:h=void 0}=s,{context:z}=s,v=!1,x=v,M,y=r.id;const b=[{name:o("community.sidebar.dashboard"),path:`/community/${y}`},{name:o("community.sidebar.feeds"),path:`/community/${y}/feeds`}];let S=b[0].path;const q=()=>e(2,v=!v),u=l=>{e(7,S=l)},E=l=>{const C=e(6,b[0].path=`/community/${l}`,b);e(6,b[1].path=`/community/${l}/feeds`,b),e(6,b[2].path=`/community/${l}/settings`,b),e(5,y=l),e(7,S=C),u(C)},f=()=>n(_("/community/create")),d=()=>{M.addEventListener("transitionend",()=>{e(3,x=v)})};ae(async()=>{await pe(y,(i==null?void 0:i.id)||"")&&b.push({name:o("community.sidebar.settings"),path:`/community/${y}/settings`}),d()});const c=l=>E(l.id);function m(l){re[l?"unshift":"push"](()=>{M=l,e(4,M)})}return t.$$set=l=>{"communities"in l&&e(0,a=l.communities),"menuStyle"in l&&e(1,h=l.menuStyle),"context"in l&&e(14,z=l.context)},[a,h,v,x,M,y,b,S,i,_,q,u,E,f,z,c,m]}class Me extends R{constructor(s){super();Y(this,s,be,ge,Z,{communities:0,menuStyle:1,context:14},_e)}}export{Me as default};

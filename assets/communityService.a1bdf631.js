var c=Object.defineProperty;var s=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;var i=(o,r,t)=>r in o?c(o,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[r]=t,a=(o,r)=>{for(var t in r||(r={}))m.call(r,t)&&i(o,t,r[t]);if(s)for(var t of s(r))u.call(r,t)&&i(o,t,r[t]);return o};import{s as e}from"./db.27304657.js";const f=async(o,r)=>{if(!o||!r)return console.error("no userId or community"),null;try{const{data:t,error:n}=await e.from("Community").insert([a({},r)]).single();if(n)throw n;return t&&await e.from("Permission").insert([{communityId:t.id,type:"owner",userId:o}]),t}catch(t){return console.error(t),null}},w=async()=>{try{const{data:o,error:r}=await e.from("Community").select().match({isPublic:!0});if(r)throw r;return o}catch(o){return console.error(o),null}};export{f as c,w as g};

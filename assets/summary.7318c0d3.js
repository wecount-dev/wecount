import{S as $e,i as ke,s as je,a as Re,e as o,d as c,N as W,f,p as i,n as Y,j as m,v as $,o as v,b as Z,g as ee,z as De,x as q,t as D,h as z,k as te,Q as Ke,A as Ne,B as We,q as qe,X as ze,O as Le}from"./vendor.d55b4b00.js";import{R as Me}from"./index.88559a47.js";import{d as re}from"./functions.b4f8bb22.js";import{B as Oe}from"./button.918d979a.js";import{C as Pe}from"./community-card.731bdba1.js";import{b as Te}from"./communityService.9ef5af36.js";import"./icons.68ec2dd0.js";import"./user-image.6f98bfbe.js";function Ae(l){Re(l,"svelte-1644i2x",".container.svelte-1644i2x{width:100%;height:10px;background-color:var(--disabled);border-radius:8px}.bar.svelte-1644i2x{background-color:var(--primary);height:10px;border-radius:8px;width:var(--percentage);transition:width 1s ease}")}function Ee(l){let r,n;return{c(){r=o("div"),n=o("div"),c(n,"class","bar svelte-1644i2x"),W(n,"--percentage",l[0]+"%"),c(r,"class","container svelte-1644i2x")},m(t,s){f(t,r,s),i(r,n)},p(t,[s]){s&1&&W(n,"--percentage",t[0]+"%")},i:Y,o:Y,d(t){t&&m(r)}}}function Qe(l,r,n){let{percentage:t=0}=r;return l.$$set=s=>{"percentage"in s&&n(0,t=s.percentage)},[t]}class Xe extends $e{constructor(r){super();ke(this,r,Qe,Ee,je,{percentage:0},Ae)}}function Fe(l){Re(l,"svelte-178ehrb",`.container.svelte-178ehrb.svelte-178ehrb{grid-area:summary;background-color:var(--card);padding:0 20px 12px 20px;border-radius:16px;display:grid;align-items:stretch;grid-auto-flow:row;-webkit-column-gap:40px;-moz-column-gap:40px;grid-column-gap:40px;column-gap:40px;grid-template-columns:330px 1fr;grid-template-rows:repeat(5, 1fr);grid-template-areas:'title title'
      'card usage'
      'card usage'
      'card usage'
      'amount sponsor'}.container.svelte-178ehrb div.svelte-178ehrb{display:-webkit-box;display:-ms-flexbox;display:flex;align-items:center;color:var(--text)}.container.svelte-178ehrb .title.svelte-178ehrb{grid-area:title;padding-top:8px;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:space-between;flex-wrap:wrap}.container.svelte-178ehrb .title .manage.svelte-178ehrb{cursor:pointer;color:var(--text-light)
      }.container.svelte-178ehrb .title .manage.svelte-178ehrb:hover{color:var(--text)}.container.svelte-178ehrb .usage.svelte-178ehrb{grid-area:usage;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.container.svelte-178ehrb .usage .head.svelte-178ehrb{align-self:stretch;border-width:3px;border-color:white;color:var(--placeholder)}.container.svelte-178ehrb .usage hr.svelte-178ehrb{border:1px solid var(--placeholder);width:100%}.container.svelte-178ehrb .usage .price.svelte-178ehrb{margin:6px 0;align-self:flex-end;color:var(--price)}.container.svelte-178ehrb .amount.svelte-178ehrb{grid-area:amount;padding-top:16px;display:-webkit-box;display:-ms-flexbox;display:flex;justify-content:center;flex-direction:column}.container.svelte-178ehrb .amount .placeholder.svelte-178ehrb{color:var(--placeholder)}.container.svelte-178ehrb .amount .current.svelte-178ehrb{align-self:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:row;justify-content:space-between}.container.svelte-178ehrb .sponsor.svelte-178ehrb{grid-area:sponsor}.container.svelte-178ehrb .sponsor .body3.svelte-178ehrb{color:white;font-weight:bold}`)}function Ce(l,r,n){const t=l.slice();return t[7]=r[n],t}function Ue(l){var pe,ue,de,fe,me;let r,n,t=l[0].name+"",s,p,d,h=l[3]("manage")+"",K,L,_,Q,k,j,M,X,g,O,P=l[3]("recent_history")+"",F,le,G,se,H,R,C,ne,U,T,A=l[3]("remaining_amount")+"",I,ae,S,E,ie,Be=re({price:4e5,currency:"KRW",currencyDisplay:null,style:null})+"",oe,J,N,w,x,V,ce;k=new Pe({props:{style:"grid-area: card;",name:((pe=l[0])==null?void 0:pe.name)||"",owner:((ue=l[1])==null?void 0:ue.displayName)||((de=l[1])==null?void 0:de.name)||"",currency:l[0].currency,description:l[0].description,balance:1e5,profileURL:((fe=l[1])==null?void 0:fe.avatarUrlThumb)||((me=l[1])==null?void 0:me.avatarUrl)||""}});let B=l[4],u=[];for(let e=0;e<B.length;e+=1)u[e]=Se(Ce(l,B,e));return C=new Xe({props:{percentage:l[2]}}),w=new Oe({props:{primary:!0,type:"submit",style:"flex: 1;",$$slots:{default:[Ge]},$$scope:{ctx:l}}}),w.$on("click",l[6]),{c(){r=o("div"),n=o("div"),s=$(t),p=v(),d=o("div"),K=$(h),L=v(),_=o("i"),_.textContent="chevron_right",Q=v(),j=o("div"),Z(k.$$.fragment),X=v(),g=o("div"),O=o("div"),F=$(P),le=v(),G=o("hr"),se=v();for(let e=0;e<u.length;e+=1)u[e].c();H=v(),R=o("div"),Z(C.$$.fragment),ne=v(),U=o("div"),T=o("div"),I=$(A),ae=v(),S=o("div"),E=o("pre"),E.textContent=`${re({price:1e5,currency:"KRW",currencyDisplay:null,style:null})}`,ie=$(`
          \xA0/\xA0
          `),oe=$(Be),J=v(),N=o("div"),Z(w.$$.fragment),c(n,"class","body1 svelte-178ehrb"),c(_,"class","material-icons md-18"),c(d,"class","manage body3 svelte-178ehrb"),c(r,"class","title svelte-178ehrb"),W(j,"display","contents"),W(j,"--color",M=l[0].color),c(O,"class","head body3 svelte-178ehrb"),c(G,"class","svelte-178ehrb"),c(g,"class","usage svelte-178ehrb"),c(T,"class","body3 placeholder svelte-178ehrb"),c(E,"class","placeholder svelte-178ehrb"),c(S,"class","body3 svelte-178ehrb"),c(U,"class","current svelte-178ehrb"),c(R,"class","amount svelte-178ehrb"),c(N,"class","sponsor svelte-178ehrb")},m(e,a){f(e,r,a),i(r,n),i(n,s),i(r,p),i(r,d),i(d,K),i(d,L),i(d,_),f(e,Q,a),f(e,j,a),ee(k,j,null),f(e,X,a),f(e,g,a),i(g,O),i(O,F),i(g,le),i(g,G),i(g,se);for(let y=0;y<u.length;y+=1)u[y].m(g,null);f(e,H,a),f(e,R,a),ee(C,R,null),i(R,ne),i(R,U),i(U,T),i(T,I),i(U,ae),i(U,S),i(S,E),i(S,ie),i(S,oe),f(e,J,a),f(e,N,a),ee(w,N,null),x=!0,V||(ce=De(d,"click",l[5]),V=!0)},p(e,a){var he,ge,ye,_e,we;(!x||a&1)&&t!==(t=e[0].name+"")&&q(s,t),(!x||a&8)&&h!==(h=e[3]("manage")+"")&&q(K,h),a&1&&M!==(M=e[0].color)&&W(j,"--color",M);const y={};if(a&1&&(y.name=((he=e[0])==null?void 0:he.name)||""),a&2&&(y.owner=((ge=e[1])==null?void 0:ge.displayName)||((ye=e[1])==null?void 0:ye.name)||""),a&1&&(y.currency=e[0].currency),a&1&&(y.description=e[0].description),a&2&&(y.profileURL=((_e=e[1])==null?void 0:_e.avatarUrlThumb)||((we=e[1])==null?void 0:we.avatarUrl)||""),k.$set(y),(!x||a&8)&&P!==(P=e[3]("recent_history")+"")&&q(F,P),a&16){B=e[4];let b;for(b=0;b<B.length;b+=1){const xe=Ce(e,B,b);u[b]?u[b].p(xe,a):(u[b]=Se(xe),u[b].c(),u[b].m(g,null))}for(;b<u.length;b+=1)u[b].d(1);u.length=B.length}const be={};a&4&&(be.percentage=e[2]),C.$set(be),(!x||a&8)&&A!==(A=e[3]("remaining_amount")+"")&&q(I,A);const ve={};a&1032&&(ve.$$scope={dirty:a,ctx:e}),w.$set(ve)},i(e){x||(D(k.$$.fragment,e),D(C.$$.fragment,e),D(w.$$.fragment,e),x=!0)},o(e){z(k.$$.fragment,e),z(C.$$.fragment,e),z(w.$$.fragment,e),x=!1},d(e){e&&m(r),e&&m(Q),e&&m(j),te(k,e),e&&m(X),e&&m(g),Ke(u,e),e&&m(H),e&&m(R),te(C),e&&m(J),e&&m(N),te(w),V=!1,ce()}}}function Se(l){let r,n=re({price:l[7],currency:"KRW"})+"",t,s,p;return{c(){r=o("div"),t=$(n),s=v(),c(r,"class","body3 price svelte-178ehrb"),c(r,"style",p=`--price: ${l[7]<0?Me:""};`)},m(d,h){f(d,r,h),i(r,t),i(r,s)},p:Y,d(d){d&&m(r)}}}function Ge(l){let r,n=l[3]("sponsor")+"",t;return{c(){r=o("div"),t=$(n),c(r,"class","body3 svelte-178ehrb")},m(s,p){f(s,r,p),i(r,t)},p(s,p){p&8&&n!==(n=s[3]("sponsor")+"")&&q(t,n)},d(s){s&&m(r)}}}function He(l){let r,n,t=l[0]&&Ue(l);return{c(){r=o("div"),t&&t.c(),c(r,"class","container svelte-178ehrb")},m(s,p){f(s,r,p),t&&t.m(r,null),n=!0},p(s,[p]){s[0]?t?(t.p(s,p),p&1&&D(t,1)):(t=Ue(s),t.c(),D(t,1),t.m(r,null)):t&&(Ne(),z(t,1,1,()=>{t=null}),We())},i(s){n||(D(t),n=!0)},o(s){z(t),n=!1},d(s){s&&m(r),t&&t.d()}}}function Ie(l,r,n){let t;qe(l,ze,_=>n(3,t=_));let{community:s=null}=r,p;const d=[4e5,-3e5,4e5,14e5,14e5];let h=20;const K=()=>{console.log("click manage")},L=()=>{h>=100||n(2,h+=10)};return Le(async()=>{s&&n(1,p=await Te(s.id))}),l.$$set=_=>{"community"in _&&n(0,s=_.community)},[s,p,h,t,d,K,L]}class st extends $e{constructor(r){super();ke(this,r,Ie,He,je,{community:0},Fe)}}export{st as default};

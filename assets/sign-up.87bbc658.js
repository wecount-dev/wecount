import{S as ue,i as ce,s as de,e as l,q as H,k as h,c as I,M as L,a,F as pe,v as ge,b as fe,l as e,d as J,w as he,r as P,t as K,f as N,g as me,h as O,o as _e,X as ve}from"./vendor.c2ebf50b.js";import{s as be}from"./db.f20d6452.js";import{E as Y}from"./edit-text.1d71b2e5.js";import{g as $e}from"./icons.79c13611.js";import{B as we}from"./button.57f2a66c.js";function Se(s){let r,n=(s[0]?s[2]("loading"):s[2]("auth.sign-up.title"))+"",m;return{c(){r=l("div"),m=H(n),a(r,"class","text")},m(i,f){fe(i,r,f),e(r,m)},p(i,f){f&5&&n!==(n=(i[0]?i[2]("loading"):i[2]("auth.sign-up.title"))+"")&&P(m,n)},d(i){i&&me(r)}}}function ke(s){let r,n,m,i,f=s[2]("auth.sign-up.title")+"",S,y,c,_,k,C=s[2]("email")+"",U,T,g,o,u,q,A=s[2]("pw")+"",Q,Z,v,x,j,z,F=s[2]("auth.sign-up.pw_confirm")+"",R,ee,b,te,E,M,$,X,se,ne,B,D=s[2]("auth.sign-up.terms_and_agreement")+"",ae,G,w,d,V,le;return g=new Y({props:{containerStyle:"flex: 1;",inputStyle:"font-size: 14px;",type:"email",placeholder:s[2]("auth.sign-up.email_hint")}}),g.$on("changed",s[3]),v=new Y({props:{containerStyle:"flex: 1; align-self: stretch; margin-top: 8px",inputStyle:"font-size: 14px;",type:"password",placeholder:s[2]("auth.sign-up.pw_hint")}}),v.$on("changed",s[4]),b=new Y({props:{containerStyle:"flex: 1; align-self: stretch; margin-top: 8px",inputStyle:"font-size: 14px;",type:"password",placeholder:s[2]("auth.sign-up.pw_confirm_hint")}}),b.$on("changed",s[5]),w=new we({props:{primary:!0,class:"btn-sign-up",type:"submit",disabled:s[0],$$slots:{default:[Se]},$$scope:{ctx:s}}}),w.$on("click",s[7]),{c(){r=l("div"),n=l("form"),m=l("div"),i=l("h1"),S=H(f),y=h(),c=l("div"),_=l("div"),k=l("p"),U=H(C),T=h(),I(g.$$.fragment),o=h(),u=l("div"),q=l("p"),Q=H(A),Z=h(),I(v.$$.fragment),x=h(),j=l("div"),z=l("p"),R=H(F),ee=h(),I(b.$$.fragment),te=h(),E=l("div"),M=l("div"),$=l("img"),ne=h(),B=l("div"),ae=h(),G=l("div"),I(w.$$.fragment),L(i,"align-self","center"),a(m,"class","header svelte-4mbfmf"),a(k,"class","label svelte-4mbfmf"),L(k,"height","40px"),a(_,"class","input-container svelte-4mbfmf"),a(q,"class","label svelte-4mbfmf"),L(q,"height","40px"),a(u,"class","input-container svelte-4mbfmf"),a(z,"class","label svelte-4mbfmf"),L(z,"height","40px"),a(j,"class","input-container svelte-4mbfmf"),a(c,"class","input svelte-4mbfmf"),a($,"class",X=""+(pe(s[1]?"checked":"unchecked")+" svelte-4mbfmf")),L($,"margin-right","15px"),ge($.src,se=$e)||a($,"src",se),a($,"alt","check"),a(M,"class","icon svelte-4mbfmf"),a(B,"class","body3 content svelte-4mbfmf"),a(E,"class","terms svelte-4mbfmf"),a(G,"class","btn-sign svelte-4mbfmf"),a(n,"class","svelte-4mbfmf"),a(r,"class","container svelte-4mbfmf")},m(t,p){fe(t,r,p),e(r,n),e(n,m),e(m,i),e(i,S),e(n,y),e(n,c),e(c,_),e(_,k),e(k,U),e(_,T),J(g,_,null),e(c,o),e(c,u),e(u,q),e(q,Q),e(u,Z),J(v,u,null),e(c,x),e(c,j),e(j,z),e(z,R),e(j,ee),J(b,j,null),e(n,te),e(n,E),e(E,M),e(M,$),e(E,ne),e(E,B),B.innerHTML=D,e(n,ae),e(n,G),J(w,G,null),d=!0,V||(le=he(M,"click",s[6]),V=!0)},p(t,[p]){(!d||p&4)&&f!==(f=t[2]("auth.sign-up.title")+"")&&P(S,f),(!d||p&4)&&C!==(C=t[2]("email")+"")&&P(U,C);const ie={};p&4&&(ie.placeholder=t[2]("auth.sign-up.email_hint")),g.$set(ie),(!d||p&4)&&A!==(A=t[2]("pw")+"")&&P(Q,A);const re={};p&4&&(re.placeholder=t[2]("auth.sign-up.pw_hint")),v.$set(re),(!d||p&4)&&F!==(F=t[2]("auth.sign-up.pw_confirm")+"")&&P(R,F);const oe={};p&4&&(oe.placeholder=t[2]("auth.sign-up.pw_confirm_hint")),b.$set(oe),(!d||p&2&&X!==(X=""+(pe(t[1]?"checked":"unchecked")+" svelte-4mbfmf")))&&a($,"class",X),(!d||p&4)&&D!==(D=t[2]("auth.sign-up.terms_and_agreement")+"")&&(B.innerHTML=D);const W={};p&1&&(W.disabled=t[0]),p&4101&&(W.$$scope={dirty:p,ctx:t}),w.$set(W)},i(t){d||(K(g.$$.fragment,t),K(v.$$.fragment,t),K(b.$$.fragment,t),K(w.$$.fragment,t),d=!0)},o(t){N(g.$$.fragment,t),N(v.$$.fragment,t),N(b.$$.fragment,t),N(w.$$.fragment,t),d=!1},d(t){t&&me(r),O(g),O(v),O(b),O(w),V=!1,le()}}}function ye(s,r,n){let m;_e(s,ve,o=>n(2,m=o));let i=!1,f=!1,S,y,c;const _=o=>{S=o.detail},k=o=>{y=o.detail},C=o=>{c=o.detail},U=()=>{n(1,f=!f)},T=async o=>{try{n(0,i=!0);const u=await o();if(u)throw u}catch(u){alert(u.error_description||u.message)}finally{n(0,i=!1)}};return[i,f,m,_,k,C,U,async()=>{if(!S||!y||!c||!f){alert(m("auth.sign-up.missing_inputs"));return}await T(async()=>{const{error:o}=await be.auth.signUp({email:S,password:y});return o})}]}class ze extends ue{constructor(r){super();ce(this,r,ye,ke,de,{})}}export{ze as default};
